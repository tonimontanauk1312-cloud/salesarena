var Xg=e=>{throw TypeError(e)};var uf=(e,t,r)=>t.has(e)||Xg("Cannot "+r);var E=(e,t,r)=>(uf(e,t,"read from private field"),r?r.call(e):t.get(e)),ae=(e,t,r)=>t.has(e)?Xg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),J=(e,t,r,n)=>(uf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(uf(e,t,"access private method"),r);var dc=(e,t,r,n)=>({set _(s){J(e,t,s,r)},get _(){return E(e,t,n)}});function yk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Zy={exports:{}},cd={},Yy={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),wk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),_k=Symbol.for("react.strict_mode"),Sk=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Nk=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),Ek=Symbol.for("react.memo"),Tk=Symbol.for("react.lazy"),Jg=Symbol.iterator;function Pk(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var Xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jy=Object.assign,ex={};function ra(e,t,r){this.props=e,this.context=t,this.refs=ex,this.updater=r||Xy}ra.prototype.isReactComponent={};ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tx(){}tx.prototype=ra.prototype;function om(e,t,r){this.props=e,this.context=t,this.refs=ex,this.updater=r||Xy}var am=om.prototype=new tx;am.constructor=om;Jy(am,ra.prototype);am.isPureReactComponent=!0;var ev=Array.isArray,rx=Object.prototype.hasOwnProperty,lm={current:null},nx={key:!0,ref:!0,__self:!0,__source:!0};function sx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rx.call(t,n)&&!nx.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ql,type:e,key:i,ref:o,props:s,_owner:lm.current}}function Rk(e,t){return{$$typeof:Ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ql}function Ak(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tv=/\/+/g;function df(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ak(""+e.key):t.toString(36)}function Wc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ql:case wk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+df(o,0):n,ev(s)?(r="",e!=null&&(r=e.replace(tv,"$&/")+"/"),Wc(s,t,r,"",function(u){return u})):s!=null&&(cm(s)&&(s=Rk(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ev(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+df(i,a);o+=Wc(i,t,r,c,s)}else if(c=Pk(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+df(i,a++),o+=Wc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fc(e,t,r){if(e==null)return e;var n=[],s=0;return Wc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Ok(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Hc={transition:null},Mk={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:lm};function ix(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:fc,forEach:function(e,t,r){fc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fc(e,function(){t++}),t},toArray:function(e){return fc(e,function(t){return t})||[]},only:function(e){if(!cm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=ra;ke.Fragment=bk;ke.Profiler=Sk;ke.PureComponent=om;ke.StrictMode=_k;ke.Suspense=Ck;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;ke.act=ix;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jy({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=lm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)rx.call(t,c)&&!nx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ql,type:e.type,key:s,ref:i,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:kk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jk,_context:e},e.Consumer=e};ke.createElement=sx;ke.createFactory=function(e){var t=sx.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:Nk,render:e}};ke.isValidElement=cm;ke.lazy=function(e){return{$$typeof:Tk,_payload:{_status:-1,_result:e},_init:Ok}};ke.memo=function(e,t){return{$$typeof:Ek,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};ke.unstable_act=ix;ke.useCallback=function(e,t){return Wt.current.useCallback(e,t)};ke.useContext=function(e){return Wt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Wt.current.useEffect(e,t)};ke.useId=function(){return Wt.current.useId()};ke.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Wt.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};ke.useRef=function(e){return Wt.current.useRef(e)};ke.useState=function(e){return Wt.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return Wt.current.useTransition()};ke.version="18.3.1";Yy.exports=ke;var m=Yy.exports;const D=Gy(m),ox=yk({__proto__:null,default:D},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=m,Dk=Symbol.for("react.element"),Lk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Fk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zk={key:!0,ref:!0,__self:!0,__source:!0};function ax(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$k.call(t,n)&&!zk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Dk,type:e,key:i,ref:o,props:s,_owner:Fk.current}}cd.Fragment=Lk;cd.jsx=ax;cd.jsxs=ax;Zy.exports=cd;var l=Zy.exports,lx={exports:{}},mr={},cx={exports:{}},ux={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,F){var Z=O.length;O.push(F);e:for(;0<Z;){var W=Z-1>>>1,X=O[W];if(0<s(X,F))O[W]=F,O[Z]=X,Z=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var F=O[0],Z=O.pop();if(Z!==F){O[0]=Z;e:for(var W=0,X=O.length,ve=X>>>1;W<ve;){var Re=2*(W+1)-1,ct=O[Re],Se=Re+1,se=O[Se];if(0>s(ct,Z))Se<X&&0>s(se,ct)?(O[W]=se,O[Se]=Z,W=Se):(O[W]=ct,O[Re]=Z,W=Re);else if(Se<X&&0>s(se,Z))O[W]=se,O[Se]=Z,W=Se;else break e}}return F}function s(O,F){var Z=O.sortIndex-F.sortIndex;return Z!==0?Z:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,v=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=O)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(O){if(g=!1,y(O),!x)if(r(c)!==null)x=!0,q(S);else{var F=r(u);F!==null&&re(_,F.startTime-O)}}function S(O,F){x=!1,g&&(g=!1,b(j),j=-1),v=!0;var Z=h;try{for(y(F),f=r(c);f!==null&&(!(f.expirationTime>F)||O&&!$());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var X=W(f.expirationTime<=F);F=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),y(F)}else n(c);f=r(c)}if(f!==null)var ve=!0;else{var Re=r(u);Re!==null&&re(_,Re.startTime-F),ve=!1}return ve}finally{f=null,h=Z,v=!1}}var k=!1,N=null,j=-1,P=5,R=-1;function $(){return!(e.unstable_now()-R<P)}function T(){if(N!==null){var O=e.unstable_now();R=O;var F=!0;try{F=N(!0,O)}finally{F?z():(k=!1,N=null)}}else k=!1}var z;if(typeof p=="function")z=function(){p(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Y=L.port2;L.port1.onmessage=T,z=function(){Y.postMessage(null)}}else z=function(){w(T,0)};function q(O){N=O,k||(k=!0,z())}function re(O,F){j=w(function(){O(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,q(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var Z=h;h=F;try{return O()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=h;h=O;try{return F()}finally{h=Z}},e.unstable_scheduleCallback=function(O,F,Z){var W=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Z+X,O={id:d++,callback:F,priorityLevel:O,startTime:Z,expirationTime:X,sortIndex:-1},Z>W?(O.sortIndex=Z,t(u,O),r(c)===null&&O===r(u)&&(g?(b(j),j=-1):g=!0,re(_,Z-W))):(O.sortIndex=X,t(c,O),x||v||(x=!0,q(S))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var F=h;return function(){var Z=h;h=F;try{return O.apply(this,arguments)}finally{h=Z}}}})(ux);cx.exports=ux;var Uk=cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=m,pr=Uk;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dx=new Set,il={};function Mi(e,t){Uo(e,t),Uo(e+"Capture",t)}function Uo(e,t){for(il[e]=t,e=0;e<t.length;e++)dx.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=Object.prototype.hasOwnProperty,Vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},nv={};function qk(e){return fh.call(nv,e)?!0:fh.call(rv,e)?!1:Vk.test(e)?nv[e]=!0:(rv[e]=!0,!1)}function Wk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hk(e,t,r,n){if(t===null||typeof t>"u"||Wk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var um=/[\-:]([a-z])/g;function dm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(um,dm);kt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(um,dm);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(um,dm);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function fm(e,t,r,n){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hk(t,r,s,n)&&(r=null),n||s===null?qk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wn=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),hx=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),px=Symbol.for("react.offscreen"),sv=Symbol.iterator;function ma(e){return e===null||typeof e!="object"?null:(e=sv&&e[sv]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,ff;function Pa(e){if(ff===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||""}return`
`+ff+e}var hf=!1;function pf(e,t){if(!e||hf)return"";hf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{hf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Pa(e):""}function Kk(e){switch(e.tag){case 5:return Pa(e.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return e=pf(e.type,!1),e;case 11:return e=pf(e.type.render,!1),e;case 1:return e=pf(e.type,!0),e;default:return""}}function gh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case Ji:return"Portal";case hh:return"Profiler";case hm:return"StrictMode";case ph:return"Suspense";case mh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hx:return(e.displayName||"Context")+".Consumer";case fx:return(e._context.displayName||"Context")+".Provider";case pm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mm:return t=e.displayName||null,t!==null?t:gh(e.type)||"Memo";case ts:t=e._payload,e=e._init;try{return gh(e(t))}catch{}}return null}function Qk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(t);case 8:return t===hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function As(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gk(e){var t=mx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pc(e){e._valueTracker||(e._valueTracker=Gk(e))}function gx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vh(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=As(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vx(e,t){t=t.checked,t!=null&&fm(e,"checked",t,!1)}function yh(e,t){vx(e,t);var r=As(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,r):t.hasOwnProperty("defaultValue")&&xh(e,t.type,As(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ov(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xh(e,t,r){(t!=="number"||hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ra=Array.isArray;function ho(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+As(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function av(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(Ra(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:As(r)}}function yx(e,t){var r=As(t.value),n=As(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mc,wx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ol(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zk=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(e){Zk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qa[t]=qa[e]})});function bx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qa.hasOwnProperty(e)&&qa[e]?(""+t).trim():t+"px"}function _x(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Yk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _h(e,t){if(t){if(Yk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Sh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function gm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kh=null,po=null,mo=null;function cv(e){if(e=Yl(e)){if(typeof kh!="function")throw Error(U(280));var t=e.stateNode;t&&(t=pd(t),kh(e.stateNode,e.type,t))}}function Sx(e){po?mo?mo.push(e):mo=[e]:po=e}function jx(){if(po){var e=po,t=mo;if(mo=po=null,cv(e),t)for(e=0;e<t.length;e++)cv(t[e])}}function kx(e,t){return e(t)}function Nx(){}var mf=!1;function Cx(e,t,r){if(mf)return e(t,r);mf=!0;try{return kx(e,t,r)}finally{mf=!1,(po!==null||mo!==null)&&(Nx(),jx())}}function al(e,t){var r=e.stateNode;if(r===null)return null;var n=pd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Nh=!1;if($n)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Nh=!1}function Xk(e,t,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wa=!1,pu=null,mu=!1,Ch=null,Jk={onError:function(e){Wa=!0,pu=e}};function eN(e,t,r,n,s,i,o,a,c){Wa=!1,pu=null,Xk.apply(Jk,arguments)}function tN(e,t,r,n,s,i,o,a,c){if(eN.apply(this,arguments),Wa){if(Wa){var u=pu;Wa=!1,pu=null}else throw Error(U(198));mu||(mu=!0,Ch=u)}}function Ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ex(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(Ii(e)!==e)throw Error(U(188))}function rN(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return uv(s),e;if(i===n)return uv(s),t;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function Tx(e){return e=rN(e),e!==null?Px(e):null}function Px(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Px(e);if(t!==null)return t;e=e.sibling}return null}var Rx=pr.unstable_scheduleCallback,dv=pr.unstable_cancelCallback,nN=pr.unstable_shouldYield,sN=pr.unstable_requestPaint,ot=pr.unstable_now,iN=pr.unstable_getCurrentPriorityLevel,vm=pr.unstable_ImmediatePriority,Ax=pr.unstable_UserBlockingPriority,gu=pr.unstable_NormalPriority,oN=pr.unstable_LowPriority,Ox=pr.unstable_IdlePriority,ud=null,pn=null;function aN(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ud,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:uN,lN=Math.log,cN=Math.LN2;function uN(e){return e>>>=0,e===0?32:31-(lN(e)/cN|0)|0}var gc=64,vc=4194304;function Aa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Aa(a):(i&=o,i!==0&&(n=Aa(i)))}else o=r&~s,o!==0?n=Aa(o):i!==0&&(n=Aa(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),s=1<<r,n|=e[r],t&=~s;return n}function dN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Br(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=dN(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mx(){var e=gc;return gc<<=1,!(gc&4194240)&&(gc=64),e}function gf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function hN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Br(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ym(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var $e=0;function Ix(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dx,xm,Lx,$x,Fx,Th=!1,yc=[],bs=null,_s=null,Ss=null,ll=new Map,cl=new Map,ss=[],pN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(e,t){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function va(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yl(t),t!==null&&xm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mN(e,t,r,n,s){switch(t){case"focusin":return bs=va(bs,e,t,r,n,s),!0;case"dragenter":return _s=va(_s,e,t,r,n,s),!0;case"mouseover":return Ss=va(Ss,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ll.set(i,va(ll.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,cl.set(i,va(cl.get(i)||null,e,t,r,n,s)),!0}return!1}function zx(e){var t=ni(e.target);if(t!==null){var r=Ii(t);if(r!==null){if(t=r.tag,t===13){if(t=Ex(r),t!==null){e.blockedOn=t,Fx(e.priority,function(){Lx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jh=n,r.target.dispatchEvent(n),jh=null}else return t=Yl(r),t!==null&&xm(t),e.blockedOn=r,!1;t.shift()}return!0}function hv(e,t,r){Kc(e)&&r.delete(t)}function gN(){Th=!1,bs!==null&&Kc(bs)&&(bs=null),_s!==null&&Kc(_s)&&(_s=null),Ss!==null&&Kc(Ss)&&(Ss=null),ll.forEach(hv),cl.forEach(hv)}function ya(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,gN)))}function ul(e){function t(s){return ya(s,e)}if(0<yc.length){ya(yc[0],e);for(var r=1;r<yc.length;r++){var n=yc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bs!==null&&ya(bs,e),_s!==null&&ya(_s,e),Ss!==null&&ya(Ss,e),ll.forEach(t),cl.forEach(t),r=0;r<ss.length;r++)n=ss[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)zx(r),r.blockedOn===null&&ss.shift()}var go=Wn.ReactCurrentBatchConfig,yu=!0;function vN(e,t,r,n){var s=$e,i=go.transition;go.transition=null;try{$e=1,wm(e,t,r,n)}finally{$e=s,go.transition=i}}function yN(e,t,r,n){var s=$e,i=go.transition;go.transition=null;try{$e=4,wm(e,t,r,n)}finally{$e=s,go.transition=i}}function wm(e,t,r,n){if(yu){var s=Ph(e,t,r,n);if(s===null)Nf(e,t,n,xu,r),fv(e,n);else if(mN(s,e,t,r,n))n.stopPropagation();else if(fv(e,n),t&4&&-1<pN.indexOf(e)){for(;s!==null;){var i=Yl(s);if(i!==null&&Dx(i),i=Ph(e,t,r,n),i===null&&Nf(e,t,n,xu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var xu=null;function Ph(e,t,r,n){if(xu=null,e=gm(n),e=ni(e),e!==null)if(t=Ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ex(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xu=e,null}function Ux(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iN()){case vm:return 1;case Ax:return 4;case gu:case oN:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var ys=null,bm=null,Qc=null;function Bx(){if(Qc)return Qc;var e,t=bm,r=t.length,n,s="value"in ys?ys.value:ys.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Qc=s.slice(e,1<n?1-n:void 0)}function Gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xc(){return!0}function pv(){return!1}function gr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xc:pv,this.isPropagationStopped=pv,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_m=gr(na),Zl=et({},na,{view:0,detail:0}),xN=gr(Zl),vf,yf,xa,dd=et({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xa&&(xa&&e.type==="mousemove"?(vf=e.screenX-xa.screenX,yf=e.screenY-xa.screenY):yf=vf=0,xa=e),vf)},movementY:function(e){return"movementY"in e?e.movementY:yf}}),mv=gr(dd),wN=et({},dd,{dataTransfer:0}),bN=gr(wN),_N=et({},Zl,{relatedTarget:0}),xf=gr(_N),SN=et({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),jN=gr(SN),kN=et({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NN=gr(kN),CN=et({},na,{data:0}),gv=gr(CN),EN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PN[e])?!!t[e]:!1}function Sm(){return RN}var AN=et({},Zl,{key:function(e){if(e.key){var t=EN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(e){return e.type==="keypress"?Gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ON=gr(AN),MN=et({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=gr(MN),IN=et({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),DN=gr(IN),LN=et({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),$N=gr(LN),FN=et({},dd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zN=gr(FN),UN=[9,13,27,32],jm=$n&&"CompositionEvent"in window,Ha=null;$n&&"documentMode"in document&&(Ha=document.documentMode);var BN=$n&&"TextEvent"in window&&!Ha,Vx=$n&&(!jm||Ha&&8<Ha&&11>=Ha),yv=" ",xv=!1;function qx(e,t){switch(e){case"keyup":return UN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function VN(e,t){switch(e){case"compositionend":return Wx(t);case"keypress":return t.which!==32?null:(xv=!0,yv);case"textInput":return e=t.data,e===yv&&xv?null:e;default:return null}}function qN(e,t){if(to)return e==="compositionend"||!jm&&qx(e,t)?(e=Bx(),Qc=bm=ys=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vx&&t.locale!=="ko"?null:t.data;default:return null}}var WN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WN[e.type]:t==="textarea"}function Hx(e,t,r,n){Sx(n),t=wu(t,"onChange"),0<t.length&&(r=new _m("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ka=null,dl=null;function HN(e){nw(e,0)}function fd(e){var t=so(e);if(gx(t))return e}function KN(e,t){if(e==="change")return t}var Kx=!1;if($n){var wf;if($n){var bf="oninput"in document;if(!bf){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),bf=typeof bv.oninput=="function"}wf=bf}else wf=!1;Kx=wf&&(!document.documentMode||9<document.documentMode)}function _v(){Ka&&(Ka.detachEvent("onpropertychange",Qx),dl=Ka=null)}function Qx(e){if(e.propertyName==="value"&&fd(dl)){var t=[];Hx(t,dl,e,gm(e)),Cx(HN,t)}}function QN(e,t,r){e==="focusin"?(_v(),Ka=t,dl=r,Ka.attachEvent("onpropertychange",Qx)):e==="focusout"&&_v()}function GN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fd(dl)}function ZN(e,t){if(e==="click")return fd(t)}function YN(e,t){if(e==="input"||e==="change")return fd(t)}function XN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:XN;function fl(e,t){if(Wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fh.call(t,s)||!Wr(e[s],t[s]))return!1}return!0}function Sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,t){var r=Sv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sv(r)}}function Gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zx(){for(var e=window,t=hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hu(e.document)}return t}function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JN(e){var t=Zx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gx(r.ownerDocument.documentElement,r)){if(n!==null&&km(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=jv(r,i);var o=jv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eC=$n&&"documentMode"in document&&11>=document.documentMode,ro=null,Rh=null,Qa=null,Ah=!1;function kv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ah||ro==null||ro!==hu(n)||(n=ro,"selectionStart"in n&&km(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qa&&fl(Qa,n)||(Qa=n,n=wu(Rh,"onSelect"),0<n.length&&(t=new _m("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ro)))}function wc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var no={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},_f={},Yx={};$n&&(Yx=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function hd(e){if(_f[e])return _f[e];if(!no[e])return e;var t=no[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yx)return _f[e]=t[r];return e}var Xx=hd("animationend"),Jx=hd("animationiteration"),ew=hd("animationstart"),tw=hd("transitionend"),rw=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(e,t){rw.set(e,t),Mi(t,[e])}for(var Sf=0;Sf<Nv.length;Sf++){var jf=Nv[Sf],tC=jf.toLowerCase(),rC=jf[0].toUpperCase()+jf.slice(1);qs(tC,"on"+rC)}qs(Xx,"onAnimationEnd");qs(Jx,"onAnimationIteration");qs(ew,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(tw,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tN(n,t,void 0,e),e.currentTarget=null}function nw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Cv(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Cv(s,a,u),i=c}}}if(mu)throw e=Ch,mu=!1,Ch=null,e}function He(e,t){var r=t[Lh];r===void 0&&(r=t[Lh]=new Set);var n=e+"__bubble";r.has(n)||(sw(t,e,2,!1),r.add(n))}function kf(e,t,r){var n=0;t&&(n|=4),sw(r,e,n,t)}var bc="_reactListening"+Math.random().toString(36).slice(2);function hl(e){if(!e[bc]){e[bc]=!0,dx.forEach(function(r){r!=="selectionchange"&&(nC.has(r)||kf(r,!1,e),kf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bc]||(t[bc]=!0,kf("selectionchange",!1,t))}}function sw(e,t,r,n){switch(Ux(t)){case 1:var s=vN;break;case 4:s=yN;break;default:s=wm}r=s.bind(null,t,r,e),s=void 0,!Nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Cx(function(){var u=i,d=gm(r),f=[];e:{var h=rw.get(e);if(h!==void 0){var v=_m,x=e;switch(e){case"keypress":if(Gc(r)===0)break e;case"keydown":case"keyup":v=ON;break;case"focusin":x="focus",v=xf;break;case"focusout":x="blur",v=xf;break;case"beforeblur":case"afterblur":v=xf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=bN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=DN;break;case Xx:case Jx:case ew:v=jN;break;case tw:v=$N;break;case"scroll":v=xN;break;case"wheel":v=zN;break;case"copy":case"cut":case"paste":v=NN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vv}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var p=u,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=al(p,b),_!=null&&g.push(pl(p,_,y)))),w)break;p=p.return}0<g.length&&(h=new v(h,x,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==jh&&(x=r.relatedTarget||r.fromElement)&&(ni(x)||x[Fn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?ni(x):null,x!==null&&(w=Ii(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(g=mv,_="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=vv,_="onPointerLeave",b="onPointerEnter",p="pointer"),w=v==null?h:so(v),y=x==null?h:so(x),h=new g(_,p+"leave",v,r,d),h.target=w,h.relatedTarget=y,_=null,ni(d)===u&&(g=new g(b,p+"enter",x,r,d),g.target=y,g.relatedTarget=w,_=g),w=_,v&&x)t:{for(g=v,b=x,p=0,y=g;y;y=Bi(y))p++;for(y=0,_=b;_;_=Bi(_))y++;for(;0<p-y;)g=Bi(g),p--;for(;0<y-p;)b=Bi(b),y--;for(;p--;){if(g===b||b!==null&&g===b.alternate)break t;g=Bi(g),b=Bi(b)}g=null}else g=null;v!==null&&Ev(f,h,v,g,!1),x!==null&&w!==null&&Ev(f,w,x,g,!0)}}e:{if(h=u?so(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=KN;else if(wv(h))if(Kx)S=YN;else{S=GN;var k=QN}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ZN);if(S&&(S=S(e,u))){Hx(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&xh(h,"number",h.value)}switch(k=u?so(u):window,e){case"focusin":(wv(k)||k.contentEditable==="true")&&(ro=k,Rh=u,Qa=null);break;case"focusout":Qa=Rh=ro=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,kv(f,r,d);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":kv(f,r,d)}var N;if(jm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else to?qx(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Vx&&r.locale!=="ko"&&(to||j!=="onCompositionStart"?j==="onCompositionEnd"&&to&&(N=Bx()):(ys=d,bm="value"in ys?ys.value:ys.textContent,to=!0)),k=wu(u,j),0<k.length&&(j=new gv(j,e,null,r,d),f.push({event:j,listeners:k}),N?j.data=N:(N=Wx(r),N!==null&&(j.data=N)))),(N=BN?VN(e,r):qN(e,r))&&(u=wu(u,"onBeforeInput"),0<u.length&&(d=new gv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}nw(f,t)})}function pl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=al(e,r),i!=null&&n.unshift(pl(e,i,s)),i=al(e,t),i!=null&&n.push(pl(e,i,s))),e=e.return}return n}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ev(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=al(r,i),c!=null&&o.unshift(pl(r,c,a))):s||(c=al(r,i),c!=null&&o.push(pl(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(sC,`
`).replace(iC,"")}function _c(e,t,r){if(t=Tv(t),Tv(e)!==t&&r)throw Error(U(425))}function bu(){}var Oh=null,Mh=null;function Ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dh=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(e){return Pv.resolve(null).then(e).catch(lC)}:Dh;function lC(e){setTimeout(function(){throw e})}function Cf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ul(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ul(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sa=Math.random().toString(36).slice(2),ln="__reactFiber$"+sa,ml="__reactProps$"+sa,Fn="__reactContainer$"+sa,Lh="__reactEvents$"+sa,cC="__reactListeners$"+sa,uC="__reactHandles$"+sa;function ni(e){var t=e[ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fn]||r[ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rv(e);e!==null;){if(r=e[ln])return r;e=Rv(e)}return t}e=r,r=e.parentNode}return null}function Yl(e){return e=e[ln]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function pd(e){return e[ml]||null}var $h=[],io=-1;function Ws(e){return{current:e}}function Ke(e){0>io||(e.current=$h[io],$h[io]=null,io--)}function Ue(e,t){io++,$h[io]=e.current,e.current=t}var Os={},Rt=Ws(Os),tr=Ws(!1),vi=Os;function Bo(e,t){var r=e.type.contextTypes;if(!r)return Os;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rr(e){return e=e.childContextTypes,e!=null}function _u(){Ke(tr),Ke(Rt)}function Av(e,t,r){if(Rt.current!==Os)throw Error(U(168));Ue(Rt,t),Ue(tr,r)}function iw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(U(108,Qk(e)||"Unknown",s));return et({},r,n)}function Su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,vi=Rt.current,Ue(Rt,e),Ue(tr,tr.current),!0}function Ov(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=iw(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,Ke(tr),Ke(Rt),Ue(Rt,e)):Ke(tr),Ue(tr,r)}var Pn=null,md=!1,Ef=!1;function ow(e){Pn===null?Pn=[e]:Pn.push(e)}function dC(e){md=!0,ow(e)}function Hs(){if(!Ef&&Pn!==null){Ef=!0;var e=0,t=$e;try{var r=Pn;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pn=null,md=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(e+1)),Rx(vm,Hs),s}finally{$e=t,Ef=!1}}return null}var oo=[],ao=0,ju=null,ku=0,wr=[],br=0,yi=null,An=1,On="";function Js(e,t){oo[ao++]=ku,oo[ao++]=ju,ju=e,ku=t}function aw(e,t,r){wr[br++]=An,wr[br++]=On,wr[br++]=yi,yi=e;var n=An;e=On;var s=32-Br(n)-1;n&=~(1<<s),r+=1;var i=32-Br(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,An=1<<32-Br(t)+s|r<<s|n,On=i+e}else An=1<<i|r<<s|n,On=e}function Nm(e){e.return!==null&&(Js(e,1),aw(e,1,0))}function Cm(e){for(;e===ju;)ju=oo[--ao],oo[ao]=null,ku=oo[--ao],oo[ao]=null;for(;e===yi;)yi=wr[--br],wr[br]=null,On=wr[--br],wr[br]=null,An=wr[--br],wr[br]=null}var dr=null,ur=null,Ge=!1,$r=null;function lw(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dr=e,ur=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:An,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dr=e,ur=null,!0):!1;default:return!1}}function Fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zh(e){if(Ge){var t=ur;if(t){var r=t;if(!Mv(e,t)){if(Fh(e))throw Error(U(418));t=js(r.nextSibling);var n=dr;t&&Mv(e,t)?lw(n,r):(e.flags=e.flags&-4097|2,Ge=!1,dr=e)}}else{if(Fh(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ge=!1,dr=e}}}function Iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function Sc(e){if(e!==dr)return!1;if(!Ge)return Iv(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ih(e.type,e.memoizedProps)),t&&(t=ur)){if(Fh(e))throw cw(),Error(U(418));for(;t;)lw(e,t),t=js(t.nextSibling)}if(Iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ur=js(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=dr?js(e.stateNode.nextSibling):null;return!0}function cw(){for(var e=ur;e;)e=js(e.nextSibling)}function Vo(){ur=dr=null,Ge=!1}function Em(e){$r===null?$r=[e]:$r.push(e)}var fC=Wn.ReactCurrentBatchConfig;function wa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function jc(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dv(e){var t=e._init;return t(e._payload)}function uw(e){function t(b,p){if(e){var y=b.deletions;y===null?(b.deletions=[p],b.flags|=16):y.push(p)}}function r(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function n(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function s(b,p){return b=Es(b,p),b.index=0,b.sibling=null,b}function i(b,p,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<p?(b.flags|=2,p):y):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function a(b,p,y,_){return p===null||p.tag!==6?(p=If(y,b.mode,_),p.return=b,p):(p=s(p,y),p.return=b,p)}function c(b,p,y,_){var S=y.type;return S===eo?d(b,p,y.props.children,_,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ts&&Dv(S)===p.type)?(_=s(p,y.props),_.ref=wa(b,p,y),_.return=b,_):(_=ru(y.type,y.key,y.props,null,b.mode,_),_.ref=wa(b,p,y),_.return=b,_)}function u(b,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Df(y,b.mode,_),p.return=b,p):(p=s(p,y.children||[]),p.return=b,p)}function d(b,p,y,_,S){return p===null||p.tag!==7?(p=mi(y,b.mode,_,S),p.return=b,p):(p=s(p,y),p.return=b,p)}function f(b,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=If(""+p,b.mode,y),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hc:return y=ru(p.type,p.key,p.props,null,b.mode,y),y.ref=wa(b,null,p),y.return=b,y;case Ji:return p=Df(p,b.mode,y),p.return=b,p;case ts:var _=p._init;return f(b,_(p._payload),y)}if(Ra(p)||ma(p))return p=mi(p,b.mode,y,null),p.return=b,p;jc(b,p)}return null}function h(b,p,y,_){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(b,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:return y.key===S?c(b,p,y,_):null;case Ji:return y.key===S?u(b,p,y,_):null;case ts:return S=y._init,h(b,p,S(y._payload),_)}if(Ra(y)||ma(y))return S!==null?null:d(b,p,y,_,null);jc(b,y)}return null}function v(b,p,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,a(p,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hc:return b=b.get(_.key===null?y:_.key)||null,c(p,b,_,S);case Ji:return b=b.get(_.key===null?y:_.key)||null,u(p,b,_,S);case ts:var k=_._init;return v(b,p,y,k(_._payload),S)}if(Ra(_)||ma(_))return b=b.get(y)||null,d(p,b,_,S,null);jc(p,_)}return null}function x(b,p,y,_){for(var S=null,k=null,N=p,j=p=0,P=null;N!==null&&j<y.length;j++){N.index>j?(P=N,N=null):P=N.sibling;var R=h(b,N,y[j],_);if(R===null){N===null&&(N=P);break}e&&N&&R.alternate===null&&t(b,N),p=i(R,p,j),k===null?S=R:k.sibling=R,k=R,N=P}if(j===y.length)return r(b,N),Ge&&Js(b,j),S;if(N===null){for(;j<y.length;j++)N=f(b,y[j],_),N!==null&&(p=i(N,p,j),k===null?S=N:k.sibling=N,k=N);return Ge&&Js(b,j),S}for(N=n(b,N);j<y.length;j++)P=v(N,b,j,y[j],_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?j:P.key),p=i(P,p,j),k===null?S=P:k.sibling=P,k=P);return e&&N.forEach(function($){return t(b,$)}),Ge&&Js(b,j),S}function g(b,p,y,_){var S=ma(y);if(typeof S!="function")throw Error(U(150));if(y=S.call(y),y==null)throw Error(U(151));for(var k=S=null,N=p,j=p=0,P=null,R=y.next();N!==null&&!R.done;j++,R=y.next()){N.index>j?(P=N,N=null):P=N.sibling;var $=h(b,N,R.value,_);if($===null){N===null&&(N=P);break}e&&N&&$.alternate===null&&t(b,N),p=i($,p,j),k===null?S=$:k.sibling=$,k=$,N=P}if(R.done)return r(b,N),Ge&&Js(b,j),S;if(N===null){for(;!R.done;j++,R=y.next())R=f(b,R.value,_),R!==null&&(p=i(R,p,j),k===null?S=R:k.sibling=R,k=R);return Ge&&Js(b,j),S}for(N=n(b,N);!R.done;j++,R=y.next())R=v(N,b,j,R.value,_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?j:R.key),p=i(R,p,j),k===null?S=R:k.sibling=R,k=R);return e&&N.forEach(function(T){return t(b,T)}),Ge&&Js(b,j),S}function w(b,p,y,_){if(typeof y=="object"&&y!==null&&y.type===eo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:e:{for(var S=y.key,k=p;k!==null;){if(k.key===S){if(S=y.type,S===eo){if(k.tag===7){r(b,k.sibling),p=s(k,y.props.children),p.return=b,b=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ts&&Dv(S)===k.type){r(b,k.sibling),p=s(k,y.props),p.ref=wa(b,k,y),p.return=b,b=p;break e}r(b,k);break}else t(b,k);k=k.sibling}y.type===eo?(p=mi(y.props.children,b.mode,_,y.key),p.return=b,b=p):(_=ru(y.type,y.key,y.props,null,b.mode,_),_.ref=wa(b,p,y),_.return=b,b=_)}return o(b);case Ji:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(b,p.sibling),p=s(p,y.children||[]),p.return=b,b=p;break e}else{r(b,p);break}else t(b,p);p=p.sibling}p=Df(y,b.mode,_),p.return=b,b=p}return o(b);case ts:return k=y._init,w(b,p,k(y._payload),_)}if(Ra(y))return x(b,p,y,_);if(ma(y))return g(b,p,y,_);jc(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(b,p.sibling),p=s(p,y),p.return=b,b=p):(r(b,p),p=If(y,b.mode,_),p.return=b,b=p),o(b)):r(b,p)}return w}var qo=uw(!0),dw=uw(!1),Nu=Ws(null),Cu=null,lo=null,Tm=null;function Pm(){Tm=lo=Cu=null}function Rm(e){var t=Nu.current;Ke(Nu),e._currentValue=t}function Uh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vo(e,t){Cu=e,Tm=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(Tm!==e)if(e={context:e,memoizedValue:t,next:null},lo===null){if(Cu===null)throw Error(U(308));lo=e,Cu.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return t}var si=null;function Am(e){si===null?si=[e]:si.push(e)}function fw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Am(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var rs=!1;function Om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zn(e,r)}return s=n.interleaved,s===null?(t.next=t,Am(n)):(t.next=s.next,s.next=t),n.interleaved=t,zn(e,r)}function Zc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ym(e,r)}}function Lv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eu(e,t,r,n){var s=e.updateQueue;rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,v=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,g=a;switch(h=t,v=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=et({},f,h);break e;case 2:rs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wi|=o,e.lanes=o,e.memoizedState=f}}function $v(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var Xl={},mn=Ws(Xl),gl=Ws(Xl),vl=Ws(Xl);function ii(e){if(e===Xl)throw Error(U(174));return e}function Mm(e,t){switch(Ue(vl,t),Ue(gl,e),Ue(mn,Xl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bh(t,e)}Ke(mn),Ue(mn,t)}function Wo(){Ke(mn),Ke(gl),Ke(vl)}function pw(e){ii(vl.current);var t=ii(mn.current),r=bh(t,e.type);t!==r&&(Ue(gl,e),Ue(mn,r))}function Im(e){gl.current===e&&(Ke(mn),Ke(gl))}var Ye=Ws(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tf=[];function Dm(){for(var e=0;e<Tf.length;e++)Tf[e]._workInProgressVersionPrimary=null;Tf.length=0}var Yc=Wn.ReactCurrentDispatcher,Pf=Wn.ReactCurrentBatchConfig,xi=0,Je=null,ht=null,wt=null,Pu=!1,Ga=!1,yl=0,hC=0;function Ct(){throw Error(U(321))}function Lm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function $m(e,t,r,n,s,i){if(xi=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?vC:yC,e=r(n,s),Ga){i=0;do{if(Ga=!1,yl=0,25<=i)throw Error(U(301));i+=1,wt=ht=null,t.updateQueue=null,Yc.current=xC,e=r(n,s)}while(Ga)}if(Yc.current=Ru,t=ht!==null&&ht.next!==null,xi=0,wt=ht=Je=null,Pu=!1,t)throw Error(U(300));return e}function Fm(){var e=yl!==0;return yl=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Je.memoizedState=wt=e:wt=wt.next=e,wt}function Er(){if(ht===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=wt===null?Je.memoizedState:wt.next;if(t!==null)wt=t,ht=e;else{if(e===null)throw Error(U(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},wt===null?Je.memoizedState=wt=e:wt=wt.next=e}return wt}function xl(e,t){return typeof t=="function"?t(e):t}function Rf(e){var t=Er(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((xi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,Je.lanes|=d,wi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Wr(n,t.memoizedState)||(er=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Je.lanes|=i,wi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Af(e){var t=Er(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Wr(i,t.memoizedState)||(er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function mw(){}function gw(e,t){var r=Je,n=Er(),s=t(),i=!Wr(n.memoizedState,s);if(i&&(n.memoizedState=s,er=!0),n=n.queue,zm(xw.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,wl(9,yw.bind(null,r,n,s,t),void 0,null),_t===null)throw Error(U(349));xi&30||vw(r,t,s)}return s}function vw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yw(e,t,r,n){t.value=r,t.getSnapshot=n,ww(t)&&bw(e)}function xw(e,t,r){return r(function(){ww(t)&&bw(e)})}function ww(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch{return!0}}function bw(e){var t=zn(e,1);t!==null&&Vr(t,e,1,-1)}function Fv(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=gC.bind(null,Je,e),[t.memoizedState,e]}function wl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _w(){return Er().memoizedState}function Xc(e,t,r,n){var s=rn();Je.flags|=e,s.memoizedState=wl(1|t,r,void 0,n===void 0?null:n)}function gd(e,t,r,n){var s=Er();n=n===void 0?null:n;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,n!==null&&Lm(n,o.deps)){s.memoizedState=wl(t,r,i,n);return}}Je.flags|=e,s.memoizedState=wl(1|t,r,i,n)}function zv(e,t){return Xc(8390656,8,e,t)}function zm(e,t){return gd(2048,8,e,t)}function Sw(e,t){return gd(4,2,e,t)}function jw(e,t){return gd(4,4,e,t)}function kw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nw(e,t,r){return r=r!=null?r.concat([e]):null,gd(4,4,kw.bind(null,t,e),r)}function Um(){}function Cw(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ew(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tw(e,t,r){return xi&21?(Wr(r,t)||(r=Mx(),Je.lanes|=r,wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=r)}function pC(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=Pf.transition;Pf.transition={};try{e(!1),t()}finally{$e=r,Pf.transition=n}}function Pw(){return Er().memoizedState}function mC(e,t,r){var n=Cs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rw(e))Aw(t,r);else if(r=fw(e,t,r,n),r!==null){var s=zt();Vr(r,e,n,s),Ow(r,t,n)}}function gC(e,t,r){var n=Cs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rw(e))Aw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Wr(a,o)){var c=t.interleaved;c===null?(s.next=s,Am(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=fw(e,t,s,n),r!==null&&(s=zt(),Vr(r,e,n,s),Ow(r,t,n))}}function Rw(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Aw(e,t){Ga=Pu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ow(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ym(e,r)}}var Ru={readContext:Cr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},vC={readContext:Cr,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:zv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xc(4194308,4,kw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xc(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mC.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Fv,useDebugValue:Um,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Fv(!1),t=e[0];return e=pC.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,s=rn();if(Ge){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),_t===null)throw Error(U(349));xi&30||vw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,zv(xw.bind(null,n,i,e),[e]),n.flags|=2048,wl(9,yw.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rn(),t=_t.identifierPrefix;if(Ge){var r=On,n=An;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yC={readContext:Cr,useCallback:Cw,useContext:Cr,useEffect:zm,useImperativeHandle:Nw,useInsertionEffect:Sw,useLayoutEffect:jw,useMemo:Ew,useReducer:Rf,useRef:_w,useState:function(){return Rf(xl)},useDebugValue:Um,useDeferredValue:function(e){var t=Er();return Tw(t,ht.memoizedState,e)},useTransition:function(){var e=Rf(xl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:mw,useSyncExternalStore:gw,useId:Pw,unstable_isNewReconciler:!1},xC={readContext:Cr,useCallback:Cw,useContext:Cr,useEffect:zm,useImperativeHandle:Nw,useInsertionEffect:Sw,useLayoutEffect:jw,useMemo:Ew,useReducer:Af,useRef:_w,useState:function(){return Af(xl)},useDebugValue:Um,useDeferredValue:function(e){var t=Er();return ht===null?t.memoizedState=e:Tw(t,ht.memoizedState,e)},useTransition:function(){var e=Af(xl)[0],t=Er().memoizedState;return[e,t]},useMutableSource:mw,useSyncExternalStore:gw,useId:Pw,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vd={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Cs(e),i=In(n,s);i.payload=t,r!=null&&(i.callback=r),t=ks(e,i,s),t!==null&&(Vr(t,e,s,n),Zc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Cs(e),i=In(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ks(e,i,s),t!==null&&(Vr(t,e,s,n),Zc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=Cs(e),s=In(r,n);s.tag=2,t!=null&&(s.callback=t),t=ks(e,s,n),t!==null&&(Vr(t,e,n,r),Zc(t,e,n))}};function Uv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!fl(r,n)||!fl(s,i):!0}function Mw(e,t,r){var n=!1,s=Os,i=t.contextType;return typeof i=="object"&&i!==null?i=Cr(i):(s=rr(t)?vi:Rt.current,n=t.contextTypes,i=(n=n!=null)?Bo(e,s):Os),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vd.enqueueReplaceState(t,t.state,null)}function Vh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Om(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Cr(i):(i=rr(t)?vi:Rt.current,s.context=Bo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vd.enqueueReplaceState(s,s.state,null),Eu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var r="",n=t;do r+=Kk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Of(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function Iw(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ou||(Ou=!0,ep=n),qh(e,t)},r}function Dw(e,t,r){r=In(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qh(e,t),typeof n!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=MC.bind(null,e,t,r),t.then(e,e))}function qv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=In(-1,1),t.tag=2,ks(r,t,1))),r.lanes|=1),e)}var bC=Wn.ReactCurrentOwner,er=!1;function $t(e,t,r,n){t.child=e===null?dw(t,null,r,n):qo(t,e.child,r,n)}function Hv(e,t,r,n,s){r=r.render;var i=t.ref;return vo(t,s),n=$m(e,t,r,n,i,s),r=Fm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Un(e,t,s)):(Ge&&r&&Nm(t),t.flags|=1,$t(e,t,n,s),t.child)}function Kv(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Gm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Lw(e,t,i,n,s)):(e=ru(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:fl,r(o,n)&&e.ref===t.ref)return Un(e,t,s)}return t.flags|=1,e=Es(i,n),e.ref=t.ref,e.return=t,t.child=e}function Lw(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fl(i,n)&&e.ref===t.ref)if(er=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,Un(e,t,s)}return Wh(e,t,r,n,s)}function $w(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(uo,lr),lr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(uo,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ue(uo,lr),lr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ue(uo,lr),lr|=n;return $t(e,t,s,r),t.child}function Fw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wh(e,t,r,n,s){var i=rr(r)?vi:Rt.current;return i=Bo(t,i),vo(t,s),r=$m(e,t,r,n,i,s),n=Fm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Un(e,t,s)):(Ge&&n&&Nm(t),t.flags|=1,$t(e,t,r,s),t.child)}function Qv(e,t,r,n,s){if(rr(r)){var i=!0;Su(t)}else i=!1;if(vo(t,s),t.stateNode===null)Jc(e,t),Mw(t,r,n),Vh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=rr(r)?vi:Rt.current,u=Bo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Bv(t,o,n,u),rs=!1;var h=t.memoizedState;o.state=h,Eu(t,n,o,s),c=t.memoizedState,a!==n||h!==c||tr.current||rs?(typeof d=="function"&&(Bh(t,r,d,n),c=t.memoizedState),(a=rs||Uv(t,r,a,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,hw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Mr(t.type,a),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=rr(r)?vi:Rt.current,c=Bo(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Bv(t,o,n,c),rs=!1,h=t.memoizedState,o.state=h,Eu(t,n,o,s);var x=t.memoizedState;a!==f||h!==x||tr.current||rs?(typeof v=="function"&&(Bh(t,r,v,n),x=t.memoizedState),(u=rs||Uv(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Hh(e,t,r,n,i,s)}function Hh(e,t,r,n,s,i){Fw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ov(t,r,!1),Un(e,t,i);n=t.stateNode,bC.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qo(t,e.child,null,i),t.child=qo(t,null,a,i)):$t(e,t,a,i),t.memoizedState=n.state,s&&Ov(t,r,!0),t.child}function zw(e){var t=e.stateNode;t.pendingContext?Av(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Av(e,t.context,!1),Mm(e,t.containerInfo)}function Gv(e,t,r,n,s){return Vo(),Em(s),t.flags|=256,$t(e,t,r,n),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uw(e,t,r){var n=t.pendingProps,s=Ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Ye,s&1),e===null)return zh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wd(o,n,0,null),e=mi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qh(r),t.memoizedState=Kh,e):Bm(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _C(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Es(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Es(a,i):(i=mi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Qh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Kh,n}return i=e.child,e=i.sibling,n=Es(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bm(e,t){return t=wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kc(e,t,r,n){return n!==null&&Em(n),qo(t,e.child,null,r),e=Bm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _C(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Of(Error(U(422))),kc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wd({mode:"visible",children:n.children},s,0,null),i=mi(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&qo(t,e.child,null,o),t.child.memoizedState=Qh(o),t.memoizedState=Kh,i);if(!(t.mode&1))return kc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(U(419)),n=Of(i,n,void 0),kc(e,t,o,n)}if(a=(o&e.childLanes)!==0,er||a){if(n=_t,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(e,s),Vr(n,e,s,-1))}return Qm(),n=Of(Error(U(421))),kc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=IC.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ur=js(s.nextSibling),dr=t,Ge=!0,$r=null,e!==null&&(wr[br++]=An,wr[br++]=On,wr[br++]=yi,An=e.id,On=e.overflow,yi=t),t=Bm(t,n.children),t.flags|=4096,t)}function Zv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Uh(e.return,t,r)}function Mf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Bw(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if($t(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zv(e,r,t);else if(e.tag===19)Zv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ue(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Tu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mf(t,!0,r,null,i);break;case"together":Mf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function SC(e,t,r){switch(t.tag){case 3:zw(t),Vo();break;case 5:pw(t);break;case 1:rr(t.type)&&Su(t);break;case 4:Mm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ue(Nu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?Uw(e,t,r):(Ue(Ye,Ye.current&1),e=Un(e,t,r),e!==null?e.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Bw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,$w(e,t,r)}return Un(e,t,r)}var Vw,Gh,qw,Ww;Vw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gh=function(){};qw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ii(mn.current);var i=null;switch(r){case"input":s=vh(e,s),n=vh(e,n),i=[];break;case"select":s=et({},s,{value:void 0}),n=et({},n,{value:void 0}),i=[];break;case"textarea":s=wh(e,s),n=wh(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bu)}_h(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ww=function(e,t,r,n){r!==n&&(t.flags|=4)};function ba(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jC(e,t,r){var n=t.pendingProps;switch(Cm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return rr(t.type)&&_u(),Et(t),null;case 3:return n=t.stateNode,Wo(),Ke(tr),Ke(Rt),Dm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(np($r),$r=null))),Gh(e,t),Et(t),null;case 5:Im(t);var s=ii(vl.current);if(r=t.type,e!==null&&t.stateNode!=null)qw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Et(t),null}if(e=ii(mn.current),Sc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ln]=t,n[ml]=i,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(s=0;s<Oa.length;s++)He(Oa[s],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":iv(n,i),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},He("invalid",n);break;case"textarea":av(n,i),He("invalid",n)}_h(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&_c(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_c(n.textContent,a,e),s=["children",""+a]):il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":pc(n),ov(n,i,!0);break;case"textarea":pc(n),lv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ln]=t,e[ml]=n,Vw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sh(r,n),r){case"dialog":He("cancel",e),He("close",e),s=n;break;case"iframe":case"object":case"embed":He("load",e),s=n;break;case"video":case"audio":for(s=0;s<Oa.length;s++)He(Oa[s],e);s=n;break;case"source":He("error",e),s=n;break;case"img":case"image":case"link":He("error",e),He("load",e),s=n;break;case"details":He("toggle",e),s=n;break;case"input":iv(e,n),s=vh(e,n),He("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=et({},n,{value:void 0}),He("invalid",e);break;case"textarea":av(e,n),s=wh(e,n),He("invalid",e);break;default:s=n}_h(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?_x(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wx(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ol(e,c):typeof c=="number"&&ol(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(il.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",e):c!=null&&fm(e,i,c,o))}switch(r){case"input":pc(e),ov(e,n,!1);break;case"textarea":pc(e),lv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+As(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ho(e,!!n.multiple,i,!1):n.defaultValue!=null&&ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Ww(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=ii(vl.current),ii(mn.current),Sc(t)){if(n=t.stateNode,r=t.memoizedProps,n[ln]=t,(i=n.nodeValue!==r)&&(e=dr,e!==null))switch(e.tag){case 3:_c(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_c(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ln]=t,t.stateNode=n}return Et(t),null;case 13:if(Ke(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&ur!==null&&t.mode&1&&!(t.flags&128))cw(),Vo(),t.flags|=98560,i=!1;else if(i=Sc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[ln]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else $r!==null&&(np($r),$r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?mt===0&&(mt=3):Qm())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Wo(),Gh(e,t),e===null&&hl(t.stateNode.containerInfo),Et(t),null;case 10:return Rm(t.type._context),Et(t),null;case 17:return rr(t.type)&&_u(),Et(t),null;case 19:if(Ke(Ye),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ba(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tu(e),o!==null){for(t.flags|=128,ba(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ue(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&ot()>Ko&&(t.flags|=128,n=!0,ba(i,!1),t.lanes=4194304)}else{if(!n)if(e=Tu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Et(t),null}else 2*ot()-i.renderingStartTime>Ko&&r!==1073741824&&(t.flags|=128,n=!0,ba(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ot(),t.sibling=null,r=Ye.current,Ue(Ye,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return Km(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lr&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function kC(e,t){switch(Cm(t),t.tag){case 1:return rr(t.type)&&_u(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wo(),Ke(tr),Ke(Rt),Dm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Im(t),null;case 13:if(Ke(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ye),null;case 4:return Wo(),null;case 10:return Rm(t.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var Nc=!1,Pt=!1,NC=typeof WeakSet=="function"?WeakSet:Set,te=null;function co(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function Zh(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Yv=!1;function CC(e,t){if(Oh=yu,e=Zx(),km(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(c=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mh={focusedElem:e,selectionRange:r},yu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,b=t.stateNode,p=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Mr(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){nt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return x=Yv,Yv=!1,x}function Za(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zh(t,r,i)}s=s.next}while(s!==n)}}function yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Yh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hw(e){var t=e.alternate;t!==null&&(e.alternate=null,Hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[ml],delete t[Lh],delete t[cC],delete t[uC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kw(e){return e.tag===5||e.tag===3||e.tag===4}function Xv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bu));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function Jh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jh(e,t,r),e=e.sibling;e!==null;)Jh(e,t,r),e=e.sibling}var St=null,Dr=!1;function Gn(e,t,r){for(r=r.child;r!==null;)Qw(e,t,r),r=r.sibling}function Qw(e,t,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ud,r)}catch{}switch(r.tag){case 5:Pt||co(r,t);case 6:var n=St,s=Dr;St=null,Gn(e,t,r),St=n,Dr=s,St!==null&&(Dr?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(Dr?(e=St,r=r.stateNode,e.nodeType===8?Cf(e.parentNode,r):e.nodeType===1&&Cf(e,r),ul(e)):Cf(St,r.stateNode));break;case 4:n=St,s=Dr,St=r.stateNode.containerInfo,Dr=!0,Gn(e,t,r),St=n,Dr=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zh(r,t,o),s=s.next}while(s!==n)}Gn(e,t,r);break;case 1:if(!Pt&&(co(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){nt(r,t,a)}Gn(e,t,r);break;case 21:Gn(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Gn(e,t,r),Pt=n):Gn(e,t,r);break;default:Gn(e,t,r)}}function Jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NC),t.forEach(function(n){var s=DC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Dr=!1;break e;case 3:St=a.stateNode.containerInfo,Dr=!0;break e;case 4:St=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(St===null)throw Error(U(160));Qw(i,o,s),St=null,Dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){nt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gw(t,e),t=t.sibling}function Gw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),tn(e),n&4){try{Za(3,e,e.return),yd(3,e)}catch(g){nt(e,e.return,g)}try{Za(5,e,e.return)}catch(g){nt(e,e.return,g)}}break;case 1:Rr(t,e),tn(e),n&512&&r!==null&&co(r,r.return);break;case 5:if(Rr(t,e),tn(e),n&512&&r!==null&&co(r,r.return),e.flags&32){var s=e.stateNode;try{ol(s,"")}catch(g){nt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vx(s,i),Sh(a,o);var u=Sh(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?_x(s,f):d==="dangerouslySetInnerHTML"?wx(s,f):d==="children"?ol(s,f):fm(s,d,f,u)}switch(a){case"input":yh(s,i);break;case"textarea":yx(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ho(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?ho(s,!!i.multiple,i.defaultValue,!0):ho(s,!!i.multiple,i.multiple?[]:"",!1))}s[ml]=i}catch(g){nt(e,e.return,g)}}break;case 6:if(Rr(t,e),tn(e),n&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){nt(e,e.return,g)}}break;case 3:if(Rr(t,e),tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ul(t.containerInfo)}catch(g){nt(e,e.return,g)}break;case 4:Rr(t,e),tn(e);break;case 13:Rr(t,e),tn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wm=ot())),n&4&&Jv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,Rr(t,e),Pt=u):Rr(t,e),tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,v=h.child,h.tag){case 0:case 11:case 14:case 15:Za(4,h,h.return);break;case 1:co(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){nt(n,r,g)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){t0(f);continue}}v!==null?(v.return=h,te=v):t0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=bx("display",o))}catch(g){nt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){nt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(t,e),tn(e),n&4&&Jv(e);break;case 21:break;default:Rr(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kw(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ol(s,""),n.flags&=-33);var i=Xv(e);Jh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Xv(e);Xh(e,a,o);break;default:throw Error(U(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EC(e,t,r){te=e,Zw(e)}function Zw(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Nc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Pt;a=Nc;var u=Pt;if(Nc=o,(Pt=c)&&!u)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?r0(s):c!==null?(c.return=o,te=c):r0(s);for(;i!==null;)te=i,Zw(i),i=i.sibling;te=s,Nc=a,Pt=u}e0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):e0(e)}}function e0(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||yd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$v(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$v(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Pt||t.flags&512&&Yh(t)}catch(h){nt(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function t0(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function r0(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yd(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){nt(t,s,c)}}var i=t.return;try{Yh(t)}catch(c){nt(t,i,c)}break;case 5:var o=t.return;try{Yh(t)}catch(c){nt(t,o,c)}}}catch(c){nt(t,t.return,c)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var TC=Math.ceil,Au=Wn.ReactCurrentDispatcher,Vm=Wn.ReactCurrentOwner,kr=Wn.ReactCurrentBatchConfig,Oe=0,_t=null,ut=null,jt=0,lr=0,uo=Ws(0),mt=0,bl=null,wi=0,xd=0,qm=0,Ya=null,Xt=null,Wm=0,Ko=1/0,En=null,Ou=!1,ep=null,Ns=null,Cc=!1,xs=null,Mu=0,Xa=0,tp=null,eu=-1,tu=0;function zt(){return Oe&6?ot():eu!==-1?eu:eu=ot()}function Cs(e){return e.mode&1?Oe&2&&jt!==0?jt&-jt:fC.transition!==null?(tu===0&&(tu=Mx()),tu):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Ux(e.type)),e):1}function Vr(e,t,r,n){if(50<Xa)throw Xa=0,tp=null,Error(U(185));Gl(e,r,n),(!(Oe&2)||e!==_t)&&(e===_t&&(!(Oe&2)&&(xd|=r),mt===4&&is(e,jt)),nr(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Ko=ot()+500,md&&Hs()))}function nr(e,t){var r=e.callbackNode;fN(e,t);var n=vu(e,e===_t?jt:0);if(n===0)r!==null&&dv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dv(r),t===1)e.tag===0?dC(n0.bind(null,e)):ow(n0.bind(null,e)),aC(function(){!(Oe&6)&&Hs()}),r=null;else{switch(Ix(n)){case 1:r=vm;break;case 4:r=Ax;break;case 16:r=gu;break;case 536870912:r=Ox;break;default:r=gu}r=sb(r,Yw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yw(e,t){if(eu=-1,tu=0,Oe&6)throw Error(U(327));var r=e.callbackNode;if(yo()&&e.callbackNode!==r)return null;var n=vu(e,e===_t?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Iu(e,n);else{t=n;var s=Oe;Oe|=2;var i=Jw();(_t!==e||jt!==t)&&(En=null,Ko=ot()+500,pi(e,t));do try{AC();break}catch(a){Xw(e,a)}while(!0);Pm(),Au.current=i,Oe=s,ut!==null?t=0:(_t=null,jt=0,t=mt)}if(t!==0){if(t===2&&(s=Eh(e),s!==0&&(n=s,t=rp(e,s))),t===1)throw r=bl,pi(e,0),is(e,n),nr(e,ot()),r;if(t===6)is(e,n);else{if(s=e.current.alternate,!(n&30)&&!PC(s)&&(t=Iu(e,n),t===2&&(i=Eh(e),i!==0&&(n=i,t=rp(e,i))),t===1))throw r=bl,pi(e,0),is(e,n),nr(e,ot()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:ei(e,Xt,En);break;case 3:if(is(e,n),(n&130023424)===n&&(t=Wm+500-ot(),10<t)){if(vu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dh(ei.bind(null,e,Xt,En),t);break}ei(e,Xt,En);break;case 4:if(is(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Br(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TC(n/1960))-n,10<n){e.timeoutHandle=Dh(ei.bind(null,e,Xt,En),n);break}ei(e,Xt,En);break;case 5:ei(e,Xt,En);break;default:throw Error(U(329))}}}return nr(e,ot()),e.callbackNode===r?Yw.bind(null,e):null}function rp(e,t){var r=Ya;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=Iu(e,t),e!==2&&(t=Xt,Xt=r,t!==null&&np(t)),e}function np(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function PC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Wr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t){for(t&=~qm,t&=~xd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function n0(e){if(Oe&6)throw Error(U(327));yo();var t=vu(e,0);if(!(t&1))return nr(e,ot()),null;var r=Iu(e,t);if(e.tag!==0&&r===2){var n=Eh(e);n!==0&&(t=n,r=rp(e,n))}if(r===1)throw r=bl,pi(e,0),is(e,t),nr(e,ot()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ei(e,Xt,En),nr(e,ot()),null}function Hm(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Ko=ot()+500,md&&Hs())}}function bi(e){xs!==null&&xs.tag===0&&!(Oe&6)&&yo();var t=Oe;Oe|=1;var r=kr.transition,n=$e;try{if(kr.transition=null,$e=1,e)return e()}finally{$e=n,kr.transition=r,Oe=t,!(Oe&6)&&Hs()}}function Km(){lr=uo.current,Ke(uo)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oC(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(Cm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_u();break;case 3:Wo(),Ke(tr),Ke(Rt),Dm();break;case 5:Im(n);break;case 4:Wo();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:Rm(n.type._context);break;case 22:case 23:Km()}r=r.return}if(_t=e,ut=e=Es(e.current,null),jt=lr=t,mt=0,bl=null,qm=xd=wi=0,Xt=Ya=null,si!==null){for(t=0;t<si.length;t++)if(r=si[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}si=null}return e}function Xw(e,t){do{var r=ut;try{if(Pm(),Yc.current=Ru,Pu){for(var n=Je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pu=!1}if(xi=0,wt=ht=Je=null,Ga=!1,yl=0,Vm.current=null,r===null||r.return===null){mt=1,bl=t,ut=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=jt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=qv(o);if(v!==null){v.flags&=-257,Wv(v,o,a,i,t),v.mode&1&&Vv(i,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Vv(i,u,t),Qm();break e}c=Error(U(426))}}else if(Ge&&a.mode&1){var w=qv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wv(w,o,a,i,t),Em(Ho(c,a));break e}}i=c=Ho(c,a),mt!==4&&(mt=2),Ya===null?Ya=[i]:Ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Iw(i,c,t);Lv(i,b);break e;case 1:a=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ns===null||!Ns.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Dw(i,a,t);Lv(i,_);break e}}i=i.return}while(i!==null)}tb(r)}catch(S){t=S,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function Jw(){var e=Au.current;return Au.current=Ru,e===null?Ru:e}function Qm(){(mt===0||mt===3||mt===2)&&(mt=4),_t===null||!(wi&268435455)&&!(xd&268435455)||is(_t,jt)}function Iu(e,t){var r=Oe;Oe|=2;var n=Jw();(_t!==e||jt!==t)&&(En=null,pi(e,t));do try{RC();break}catch(s){Xw(e,s)}while(!0);if(Pm(),Oe=r,Au.current=n,ut!==null)throw Error(U(261));return _t=null,jt=0,mt}function RC(){for(;ut!==null;)eb(ut)}function AC(){for(;ut!==null&&!nN();)eb(ut)}function eb(e){var t=nb(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?tb(e):ut=t,Vm.current=null}function tb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kC(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ut=null;return}}else if(r=jC(r,t,lr),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);mt===0&&(mt=5)}function ei(e,t,r){var n=$e,s=kr.transition;try{kr.transition=null,$e=1,OC(e,t,r,n)}finally{kr.transition=s,$e=n}return null}function OC(e,t,r,n){do yo();while(xs!==null);if(Oe&6)throw Error(U(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(hN(e,i),e===_t&&(ut=_t=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cc||(Cc=!0,sb(gu,function(){return yo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var o=$e;$e=1;var a=Oe;Oe|=4,Vm.current=null,CC(e,r),Gw(r,e),JN(Mh),yu=!!Oh,Mh=Oh=null,e.current=r,EC(r),sN(),Oe=a,$e=o,kr.transition=i}else e.current=r;if(Cc&&(Cc=!1,xs=e,Mu=s),i=e.pendingLanes,i===0&&(Ns=null),aN(r.stateNode),nr(e,ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ou)throw Ou=!1,e=ep,ep=null,e;return Mu&1&&e.tag!==0&&yo(),i=e.pendingLanes,i&1?e===tp?Xa++:(Xa=0,tp=e):Xa=0,Hs(),null}function yo(){if(xs!==null){var e=Ix(Mu),t=kr.transition,r=$e;try{if(kr.transition=null,$e=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,Mu=0,Oe&6)throw Error(U(331));var s=Oe;for(Oe|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Za(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,v=d.return;if(Hw(d),d===u){te=null;break}if(h!==null){h.return=v,te=h;break}te=v}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Za(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,te=b;break e}te=i.return}}var p=e.current;for(te=p;te!==null;){o=te;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,te=y;else e:for(o=p;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(S){nt(a,a.return,S)}if(a===o){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(Oe=s,Hs(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ud,e)}catch{}n=!0}return n}finally{$e=r,kr.transition=t}}return!1}function s0(e,t,r){t=Ho(r,t),t=Iw(e,t,1),e=ks(e,t,1),t=zt(),e!==null&&(Gl(e,1,t),nr(e,t))}function nt(e,t,r){if(e.tag===3)s0(e,e,r);else for(;t!==null;){if(t.tag===3){s0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ns===null||!Ns.has(n))){e=Ho(r,e),e=Dw(t,e,1),t=ks(t,e,1),e=zt(),t!==null&&(Gl(t,1,e),nr(t,e));break}}t=t.return}}function MC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(jt&r)===r&&(mt===4||mt===3&&(jt&130023424)===jt&&500>ot()-Wm?pi(e,0):qm|=r),nr(e,t)}function rb(e,t){t===0&&(e.mode&1?(t=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):t=1);var r=zt();e=zn(e,t),e!==null&&(Gl(e,t,r),nr(e,r))}function IC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rb(e,r)}function DC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),rb(e,r)}var nb;nb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tr.current)er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return er=!1,SC(e,t,r);er=!!(e.flags&131072)}else er=!1,Ge&&t.flags&1048576&&aw(t,ku,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jc(e,t),e=t.pendingProps;var s=Bo(t,Rt.current);vo(t,r),s=$m(null,t,n,e,s,r);var i=Fm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rr(n)?(i=!0,Su(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Om(t),s.updater=vd,t.stateNode=s,s._reactInternals=t,Vh(t,n,e,r),t=Hh(null,t,n,!0,i,r)):(t.tag=0,Ge&&i&&Nm(t),$t(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$C(n),e=Mr(n,e),s){case 0:t=Wh(null,t,n,e,r);break e;case 1:t=Qv(null,t,n,e,r);break e;case 11:t=Hv(null,t,n,e,r);break e;case 14:t=Kv(null,t,n,Mr(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Wh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Qv(e,t,n,s,r);case 3:e:{if(zw(t),e===null)throw Error(U(387));n=t.pendingProps,i=t.memoizedState,s=i.element,hw(e,t),Eu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ho(Error(U(423)),t),t=Gv(e,t,n,r,s);break e}else if(n!==s){s=Ho(Error(U(424)),t),t=Gv(e,t,n,r,s);break e}else for(ur=js(t.stateNode.containerInfo.firstChild),dr=t,Ge=!0,$r=null,r=dw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vo(),n===s){t=Un(e,t,r);break e}$t(e,t,n,r)}t=t.child}return t;case 5:return pw(t),e===null&&zh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ih(n,s)?o=null:i!==null&&Ih(n,i)&&(t.flags|=32),Fw(e,t),$t(e,t,o,r),t.child;case 6:return e===null&&zh(t),null;case 13:return Uw(e,t,r);case 4:return Mm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qo(t,null,n,r):$t(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Hv(e,t,n,s,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ue(Nu,n._currentValue),n._currentValue=o,i!==null)if(Wr(i.value,o)){if(i.children===s.children&&!tr.current){t=Un(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=In(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Uh(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Uh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vo(t,r),s=Cr(s),n=n(s),t.flags|=1,$t(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),Kv(e,t,n,s,r);case 15:return Lw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Jc(e,t),t.tag=1,rr(n)?(e=!0,Su(t)):e=!1,vo(t,r),Mw(t,n,s),Vh(t,n,s,r),Hh(null,t,n,!0,e,r);case 19:return Bw(e,t,r);case 22:return $w(e,t,r)}throw Error(U(156,t.tag))};function sb(e,t){return Rx(e,t)}function LC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new LC(e,t,r,n)}function Gm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $C(e){if(typeof e=="function")return Gm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pm)return 11;if(e===mm)return 14}return 2}function Es(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ru(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Gm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eo:return mi(r.children,s,i,t);case hm:o=8,s|=8;break;case hh:return e=_r(12,r,t,s|2),e.elementType=hh,e.lanes=i,e;case ph:return e=_r(13,r,t,s),e.elementType=ph,e.lanes=i,e;case mh:return e=_r(19,r,t,s),e.elementType=mh,e.lanes=i,e;case px:return wd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fx:o=10;break e;case hx:o=9;break e;case pm:o=11;break e;case mm:o=14;break e;case ts:o=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=_r(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mi(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function wd(e,t,r,n){return e=_r(22,e,n,t),e.elementType=px,e.lanes=r,e.stateNode={isHidden:!1},e}function If(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Df(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zm(e,t,r,n,s,i,o,a,c){return e=new FC(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(i),e}function zC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ib(e){if(!e)return Os;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(rr(r))return iw(e,r,t)}return t}function ob(e,t,r,n,s,i,o,a,c){return e=Zm(r,n,!0,e,s,i,o,a,c),e.context=ib(null),r=e.current,n=zt(),s=Cs(r),i=In(n,s),i.callback=t??null,ks(r,i,s),e.current.lanes=s,Gl(e,s,n),nr(e,n),e}function bd(e,t,r,n){var s=t.current,i=zt(),o=Cs(s);return r=ib(r),t.context===null?t.context=r:t.pendingContext=r,t=In(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ks(s,t,o),e!==null&&(Vr(e,s,o,i),Zc(e,s,o)),o}function Du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ym(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function UC(){return null}var ab=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xm(e){this._internalRoot=e}_d.prototype.render=Xm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));bd(e,t,null,null)};_d.prototype.unmount=Xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){bd(null,e,null,null)}),t[Fn]=null}};function _d(e){this._internalRoot=e}_d.prototype.unstable_scheduleHydration=function(e){if(e){var t=$x();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ss.length&&t!==0&&t<ss[r].priority;r++);ss.splice(r,0,e),r===0&&zx(e)}};function Jm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o0(){}function BC(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Du(o);i.call(u)}}var o=ob(t,n,e,0,null,!1,!1,"",o0);return e._reactRootContainer=o,e[Fn]=o.current,hl(e.nodeType===8?e.parentNode:e),bi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Du(c);a.call(u)}}var c=Zm(e,0,!1,null,null,!1,!1,"",o0);return e._reactRootContainer=c,e[Fn]=c.current,hl(e.nodeType===8?e.parentNode:e),bi(function(){bd(t,c,r,n)}),c}function jd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Du(o);a.call(c)}}bd(t,o,e,s)}else o=BC(r,t,e,s,n);return Du(o)}Dx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Aa(t.pendingLanes);r!==0&&(ym(t,r|1),nr(t,ot()),!(Oe&6)&&(Ko=ot()+500,Hs()))}break;case 13:bi(function(){var n=zn(e,1);if(n!==null){var s=zt();Vr(n,e,1,s)}}),Ym(e,1)}};xm=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=zt();Vr(t,e,134217728,r)}Ym(e,134217728)}};Lx=function(e){if(e.tag===13){var t=Cs(e),r=zn(e,t);if(r!==null){var n=zt();Vr(r,e,t,n)}Ym(e,t)}};$x=function(){return $e};Fx=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};kh=function(e,t,r){switch(t){case"input":if(yh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pd(n);if(!s)throw Error(U(90));gx(n),yh(n,s)}}}break;case"textarea":yx(e,r);break;case"select":t=r.value,t!=null&&ho(e,!!r.multiple,t,!1)}};kx=Hm;Nx=bi;var VC={usingClientEntryPoint:!1,Events:[Yl,so,pd,Sx,jx,Hm]},_a={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qC={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tx(e),e===null?null:e.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ud=Ec.inject(qC),pn=Ec}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(t))throw Error(U(200));return zC(e,t,null,r)};mr.createRoot=function(e,t){if(!Jm(e))throw Error(U(299));var r=!1,n="",s=ab;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zm(e,1,!1,null,null,r,!1,n,s),e[Fn]=t.current,hl(e.nodeType===8?e.parentNode:e),new Xm(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Tx(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return bi(e)};mr.hydrate=function(e,t,r){if(!Sd(t))throw Error(U(200));return jd(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!Jm(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ab;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ob(t,null,e,1,r??null,s,!1,i,o),e[Fn]=t.current,hl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _d(t)};mr.render=function(e,t,r){if(!Sd(t))throw Error(U(200));return jd(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!Sd(e))throw Error(U(40));return e._reactRootContainer?(bi(function(){jd(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};mr.unstable_batchedUpdates=Hm;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sd(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return jd(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lb)}catch(e){console.error(e)}}lb(),lx.exports=mr;var Di=lx.exports;const cb=Gy(Di);var ub,a0=Di;ub=a0.createRoot,a0.hydrateRoot;const WC=1,HC=1e6;let Lf=0;function KC(){return Lf=(Lf+1)%Number.MAX_SAFE_INTEGER,Lf.toString()}const $f=new Map,l0=e=>{if($f.has(e))return;const t=setTimeout(()=>{$f.delete(e),Ja({type:"REMOVE_TOAST",toastId:e})},HC);$f.set(e,t)},QC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,WC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?l0(r):e.toasts.forEach(n=>{l0(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nu=[];let su={toasts:[]};function Ja(e){su=QC(su,e),nu.forEach(t=>{t(su)})}function _i({...e}){const t=KC(),r=s=>Ja({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ja({type:"DISMISS_TOAST",toastId:t});return Ja({type:"ADD_TOAST",toast:{...e,id:t}}),{id:t,dismiss:n,update:r}}function Ot(){const[e,t]=m.useState(su);return m.useEffect(()=>(nu.push(t),()=>{const r=nu.indexOf(t);r>-1&&nu.splice(r,1)}),[e]),{...e,toast:_i,dismiss:r=>Ja({type:"DISMISS_TOAST",toastId:r})}}function oe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function GC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function db(...e){return t=>e.forEach(r=>GC(r,t))}function Ie(...e){return m.useCallback(db(...e),e)}function ZC(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||a,w=m.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,x=m.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,YC(s,...t)]}function YC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ms=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(JC);if(i){const o=i.props.children,a=s.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return l.jsx(sp,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return l.jsx(sp,{...n,ref:t,children:r})});Ms.displayName="Slot";var sp=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=tE(r);return m.cloneElement(r,{...eE(n,r.props),ref:t?db(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});sp.displayName="SlotClone";var XC=({children:e})=>l.jsx(l.Fragment,{children:e});function JC(e){return m.isValidElement(e)&&e.type===XC}function eE(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function tE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function eg(e){const t=e+"CollectionProvider",[r,n]=ZC(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:g}=v,w=D.useRef(null),b=D.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:b,collectionRef:w,children:g})};o.displayName=t;const a=e+"CollectionSlot",c=D.forwardRef((v,x)=>{const{scope:g,children:w}=v,b=i(a,g),p=Ie(x,b.collectionRef);return l.jsx(Ms,{ref:p,children:w})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=D.forwardRef((v,x)=>{const{scope:g,children:w,...b}=v,p=D.useRef(null),y=Ie(x,p),_=i(u,g);return D.useEffect(()=>(_.itemMap.set(p,{ref:p,...b}),()=>void _.itemMap.delete(p))),l.jsx(Ms,{[d]:"",ref:y,children:w})});f.displayName=u;function h(v){const x=i(e+"CollectionConsumer",v);return D.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((_,S)=>b.indexOf(_.ref.current)-b.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function rE(e,t){const r=m.createContext(t),n=i=>{const{children:o,...a}=i,c=m.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Li(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:v,...x}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||a,w=m.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})};u.displayName=i+"Provider";function d(f,h){var g;const v=((g=h==null?void 0:h[e])==null?void 0:g[c])||a,x=m.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,nE(s,...t)]}function nE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var sE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=sE.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Ms:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fb(e,t){e&&Di.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function iE(e,t=globalThis==null?void 0:globalThis.document){const r=it(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oE="DismissableLayer",ip="dismissableLayer.update",aE="dismissableLayer.pointerDownOutside",lE="dismissableLayer.focusOutside",c0,hb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=m.useContext(hb),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),x=Ie(t,N=>f(N)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),p=d?g.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,_=p>=b,S=uE(N=>{const j=N.target,P=[...u.branches].some(R=>R.contains(j));!_||P||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},h),k=dE(N=>{const j=N.target;[...u.branches].some(R=>R.contains(j))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},h);return iE(N=>{p===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(c0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),u0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=c0)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),u0())},[d,u]),m.useEffect(()=>{const N=()=>v({});return document.addEventListener(ip,N),()=>document.removeEventListener(ip,N)},[]),l.jsx(de.div,{...c,ref:x,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,S.onPointerDownCapture)})});kd.displayName=oE;var cE="DismissableLayerBranch",pb=m.forwardRef((e,t)=>{const r=m.useContext(hb),n=m.useRef(null),s=Ie(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(de.div,{...e,ref:s})});pb.displayName=cE;function uE(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){mb(aE,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function dE(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&mb(lE,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function u0(){const e=new CustomEvent(ip);document.dispatchEvent(e)}function mb(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?fb(s,i):s.dispatchEvent(i)}var fE=kd,hE=pb,gt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},pE="Portal",Nd=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);gt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cb.createPortal(l.jsx(de.div,{...n,ref:t}),o):null});Nd.displayName=pE;function mE(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Gr=e=>{const{present:t,children:r}=e,n=gE(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Ie(n.ref,vE(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};Gr.displayName="Presence";function gE(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,c]=mE(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Tc(n.current);i.current=a==="mounted"?u:"none"},[a]),gt(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,v=Tc(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),gt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const g=Tc(n.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=v=>{v.target===t&&(i.current=Tc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Tc(e){return(e==null?void 0:e.animationName)||"none"}function vE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Si({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=yE({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=it(r),c=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[i,e,s,a]);return[o,c]}function yE({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=it(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var xE="VisuallyHidden",Cd=m.forwardRef((e,t)=>l.jsx(de.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Cd.displayName=xE;var tg="ToastProvider",[rg,wE,bE]=eg("Toast"),[gb,BL]=Li("Toast",[bE]),[_E,Ed]=gb(tg),vb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${tg}\`. Expected non-empty \`string\`.`),l.jsx(rg.Provider,{scope:t,children:l.jsx(_E,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>d(v=>v+1),[]),onToastRemove:m.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};vb.displayName=tg;var yb="ToastViewport",SE=["F8"],op="toast.viewportPause",ap="toast.viewportResume",xb=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=SE,label:s="Notifications ({hotkey})",...i}=e,o=Ed(yb,r),a=wE(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Ie(t,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const w=b=>{var y;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,b=f.current;if(x&&w&&b){const p=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(op);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ap);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!w.contains(k.relatedTarget)&&y()},S=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",p),w.addEventListener("focusout",_),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",y)}}},[x,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const p=a().map(y=>{const _=y.ref.current,S=[_,...DE(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?p.reverse():p).flat()},[a]);return m.useEffect(()=>{const w=f.current;if(w){const b=p=>{var S,k,N;const y=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!y){const j=document.activeElement,P=p.shiftKey;if(p.target===w&&P){(S=u.current)==null||S.focus();return}const T=g({tabbingDirection:P?"backwards":"forwards"}),z=T.findIndex(L=>L===j);Ff(T.slice(z+1))?p.preventDefault():P?(k=u.current)==null||k.focus():(N=d.current)==null||N.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[a,g]),l.jsxs(hE,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(lp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Ff(w)}}),l.jsx(rg.Slot,{scope:r,children:l.jsx(de.ol,{tabIndex:-1,...i,ref:h})}),x&&l.jsx(lp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Ff(w)}})]})});xb.displayName=yb;var wb="ToastFocusProxy",lp=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Ed(wb,r);return l.jsx(Cd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});lp.displayName=wb;var Td="Toast",jE="toast.swipeStart",kE="toast.swipeMove",NE="toast.swipeCancel",CE="toast.swipeEnd",bb=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,c]=Si({prop:n,defaultProp:s,onChange:i});return l.jsx(Gr,{present:r||a,children:l.jsx(PE,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:it(e.onPause),onResume:it(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});bb.displayName=Td;var[EE,TE]=gb(Td,{onClose(){}}),PE=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...x}=e,g=Ed(Td,r),[w,b]=m.useState(null),p=Ie(t,L=>b(L)),y=m.useRef(null),_=m.useRef(null),S=s||g.duration,k=m.useRef(0),N=m.useRef(S),j=m.useRef(0),{onToastAdd:P,onToastRemove:R}=g,$=it(()=>{var Y;(w==null?void 0:w.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),T=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(j.current),k.current=new Date().getTime(),j.current=window.setTimeout($,L))},[$]);m.useEffect(()=>{const L=g.viewport;if(L){const Y=()=>{T(N.current),u==null||u()},q=()=>{const re=new Date().getTime()-k.current;N.current=N.current-re,window.clearTimeout(j.current),c==null||c()};return L.addEventListener(op,q),L.addEventListener(ap,Y),()=>{L.removeEventListener(op,q),L.removeEventListener(ap,Y)}}},[g.viewport,S,c,u,T]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&T(S)},[i,S,g.isClosePausedRef,T]),m.useEffect(()=>(P(),()=>R()),[P,R]);const z=m.useMemo(()=>w?Eb(w):null,[w]);return g.viewport?l.jsxs(l.Fragment,{children:[z&&l.jsx(RE,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),l.jsx(EE,{scope:r,onClose:$,children:Di.createPortal(l.jsx(rg.ItemSlot,{scope:r,children:l.jsx(fE,{asChild:!0,onEscapeKeyDown:oe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:oe(e.onPointerDown,L=>{L.button===0&&(y.current={x:L.clientX,y:L.clientY})}),onPointerMove:oe(e.onPointerMove,L=>{if(!y.current)return;const Y=L.clientX-y.current.x,q=L.clientY-y.current.y,re=!!_.current,O=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=O?F(0,Y):0,W=O?0:F(0,q),X=L.pointerType==="touch"?10:2,ve={x:Z,y:W},Re={originalEvent:L,delta:ve};re?(_.current=ve,Pc(kE,f,Re,{discrete:!1})):d0(ve,g.swipeDirection,X)?(_.current=ve,Pc(jE,d,Re,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(Y)>X||Math.abs(q)>X)&&(y.current=null)}),onPointerUp:oe(e.onPointerUp,L=>{const Y=_.current,q=L.target;if(q.hasPointerCapture(L.pointerId)&&q.releasePointerCapture(L.pointerId),_.current=null,y.current=null,Y){const re=L.currentTarget,O={originalEvent:L,delta:Y};d0(Y,g.swipeDirection,g.swipeThreshold)?Pc(CE,v,O,{discrete:!0}):Pc(NE,h,O,{discrete:!0}),re.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),RE=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ed(Td,t),[i,o]=m.useState(!1),[a,c]=m.useState(!1);return ME(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Nd,{asChild:!0,children:l.jsx(Cd,{...n,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},AE="ToastTitle",_b=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(de.div,{...n,ref:t})});_b.displayName=AE;var OE="ToastDescription",Sb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(de.div,{...n,ref:t})});Sb.displayName=OE;var jb="ToastAction",kb=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(Cb,{altText:r,asChild:!0,children:l.jsx(ng,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jb}\`. Expected non-empty \`string\`.`),null)});kb.displayName=jb;var Nb="ToastClose",ng=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=TE(Nb,r);return l.jsx(Cb,{asChild:!0,children:l.jsx(de.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,s.onClose)})})});ng.displayName=Nb;var Cb=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Eb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),IE(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Eb(n))}}),t}function Pc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?fb(s,i):s.dispatchEvent(i)}var d0=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function ME(e=()=>{}){const t=it(e);gt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function IE(e){return e.nodeType===e.ELEMENT_NODE}function DE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ff(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LE=vb,Tb=xb,Pb=bb,Rb=_b,Ab=Sb,Ob=kb,Mb=ng;function Ib(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ib(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Db(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ib(e))&&(n&&(n+=" "),n+=t);return n}const f0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,h0=Db,Pd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return h0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=f0(d)||f0(f);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...u,f,h]:u},[]);return h0(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>m.createElement("svg",{ref:c,...FE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Lb("lucide",s),...a},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(zE,{ref:i,iconNode:t,className:Lb(`lucide-${$E(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ge("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ge("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=ge("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ge("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ge("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ge("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lg="-",JE=e=>{const t=t2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(lg);return a[0]===""&&a.length!==1&&a.shift(),Wb(a,t)||e2(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},Wb=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Wb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(lg);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},y0=/^\[(.+)\]$/,e2=e=>{if(y0.test(e)){const t=y0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},t2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return n2(Object.entries(e.classGroups),r).forEach(([i,o])=>{fp(o,n,i,t)}),n},fp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:x0(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(r2(s)){fp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{fp(o,x0(t,i),r,n)})})},x0=(e,t)=>{let r=e;return t.split(lg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},r2=e=>e.isThemeGetter,n2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,s2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Hb="!",i2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let b=a[w];if(u===0){if(b===s&&(n||a.slice(w,w+i)===t)){c.push(a.slice(d,w)),d=w+i;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?a:a.substring(d),v=h.startsWith(Hb),x=v?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},o2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},a2=e=>({cache:s2(e.cacheSize),parseClassName:i2(e),...JE(e)}),l2=/\s+/,c2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(l2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let x=!!v,g=n(x?h.substring(0,v):h);if(!g){if(!x){a=u+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=o2(d).join(":"),b=f?w+Hb:w,p=b+g;if(i.includes(p))continue;i.push(p);const y=s(g,x);for(let _=0;_<y.length;++_){const S=y[_];i.push(b+S)}a=u+(a.length>0?" "+a:a)}return a};function u2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Kb(t))&&(n&&(n+=" "),n+=r);return n}const Kb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Kb(e[n]))&&(r&&(r+=" "),r+=t);return r};function d2(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=a2(u),n=r.cache.get,s=r.cache.set,i=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=c2(c,r);return s(c,d),d}return function(){return i(u2.apply(null,arguments))}}const We=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Qb=/^\[(?:([a-z-]+):)?(.+)\]$/i,f2=/^\d+\/\d+$/,h2=new Set(["px","full","screen"]),p2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>wo(e)||h2.has(e)||f2.test(e),Zn=e=>ia(e,"length",N2),wo=e=>!!e&&!Number.isNaN(Number(e)),zf=e=>ia(e,"number",wo),Sa=e=>!!e&&Number.isInteger(Number(e)),x2=e=>e.endsWith("%")&&wo(e.slice(0,-1)),we=e=>Qb.test(e),Yn=e=>p2.test(e),w2=new Set(["length","size","percentage"]),b2=e=>ia(e,w2,Gb),_2=e=>ia(e,"position",Gb),S2=new Set(["image","url"]),j2=e=>ia(e,S2,E2),k2=e=>ia(e,"",C2),ja=()=>!0,ia=(e,t,r)=>{const n=Qb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},N2=e=>m2.test(e)&&!g2.test(e),Gb=()=>!1,C2=e=>v2.test(e),E2=e=>y2.test(e),T2=()=>{const e=We("colors"),t=We("spacing"),r=We("blur"),n=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),c=We("contrast"),u=We("grayscale"),d=We("hueRotate"),f=We("invert"),h=We("gap"),v=We("gradientColorStops"),x=We("gradientColorStopPositions"),g=We("inset"),w=We("margin"),b=We("opacity"),p=We("padding"),y=We("saturate"),_=We("scale"),S=We("sepia"),k=We("skew"),N=We("space"),j=We("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",we,t],T=()=>[we,t],z=()=>["",Sn,Zn],L=()=>["auto",wo,we],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",we],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[wo,we];return{cacheSize:500,separator:":",theme:{colors:[ja],spacing:[Sn,Zn],blur:["none","",Yn,we],brightness:W(),borderColor:[e],borderRadius:["none","","full",Yn,we],borderSpacing:T(),borderWidth:z(),contrast:W(),grayscale:F(),hueRotate:W(),invert:F(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[x2,Zn],inset:$(),margin:$(),opacity:W(),padding:T(),saturate:W(),scale:W(),sepia:F(),skew:W(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),we]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sa,we]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Sa,we]}],"grid-cols":[{"grid-cols":[ja]}],"col-start-end":[{col:["auto",{span:["full",Sa,we]},we]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ja]}],"row-start-end":[{row:["auto",{span:[Sa,we]},we]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zf]}],"font-family":[{font:[ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",wo,zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,Zn]}],"underline-offset":[{"underline-offset":["auto",Sn,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),_2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Sn,we]}],"outline-w":[{outline:[Sn,Zn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Sn,Zn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,k2]}],"shadow-color":[{shadow:[ja]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yn,we]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Sa,we]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,Zn,zf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P2=d2(T2);function fe(...e){return P2(Db(e))}const R2=LE,Zb=m.forwardRef(({className:e,...t},r)=>l.jsx(Tb,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Zb.displayName=Tb.displayName;const A2=Pd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yb=m.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(Pb,{ref:n,className:fe(A2({variant:t}),e),...r}));Yb.displayName=Pb.displayName;const O2=m.forwardRef(({className:e,...t},r)=>l.jsx(Ob,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));O2.displayName=Ob.displayName;const Xb=m.forwardRef(({className:e,...t},r)=>l.jsx(Mb,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ag,{className:"h-4 w-4"})}));Xb.displayName=Mb.displayName;const Jb=m.forwardRef(({className:e,...t},r)=>l.jsx(Rb,{ref:r,className:fe("text-sm font-semibold",e),...t}));Jb.displayName=Rb.displayName;const e_=m.forwardRef(({className:e,...t},r)=>l.jsx(Ab,{ref:r,className:fe("text-sm opacity-90",e),...t}));e_.displayName=Ab.displayName;function M2(){const{toasts:e}=Ot();return l.jsxs(R2,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return l.jsxs(Yb,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(Jb,{children:r}),n&&l.jsx(e_,{children:n})]}),s,l.jsx(Xb,{})]},t)}),l.jsx(Zb,{})]})}var w0=["light","dark"],I2="(prefers-color-scheme: dark)",D2=m.createContext(void 0),L2={setTheme:e=>{},themes:[]},$2=()=>{var e;return(e=m.useContext(D2))!=null?e:L2};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?w0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,w=!0)=>{let b=o?o[x]:x,p=g?x+"|| ''":`'${b}'`,y="";return s&&w&&!g&&w0.includes(x)&&(y+=`d.style.colorScheme = '${x}';`),r==="class"?g||b?y+=`c.add(${p})`:y+="null":b&&(y+=`d[s](n,${p})`),y},v=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${I2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var F2=e=>{switch(e){case"success":return B2;case"info":return q2;case"warning":return V2;case"error":return W2;default:return null}},z2=Array(12).fill(0),U2=({visible:e})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},D.createElement("div",{className:"sonner-spinner"},z2.map((t,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),B2=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V2=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q2=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W2=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H2=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},hp=1,K2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hp++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(G2(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:a})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:a})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||hp++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ar=new K2,Q2=(e,t)=>{let r=(t==null?void 0:t.id)||hp++;return ar.addToast({title:e,...t,id:r}),r},G2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Z2=Q2,Y2=()=>ar.toasts,jr=Object.assign(Z2,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:Y2});function X2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}X2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rc(e){return e.label!==void 0}var J2=3,eT="32px",tT=4e3,rT=356,nT=14,sT=20,iT=200;function oT(...e){return e.filter(Boolean).join(" ")}var aT=e=>{var t,r,n,s,i,o,a,c,u,d;let{invert:f,toast:h,unstyled:v,interacting:x,setHeights:g,visibleToasts:w,heights:b,index:p,toasts:y,expanded:_,removeToast:S,defaultRichColors:k,closeButton:N,style:j,cancelButtonStyle:P,actionButtonStyle:R,className:$="",descriptionClassName:T="",duration:z,position:L,gap:Y,loadingIcon:q,expandByDefault:re,classNames:O,icons:F,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:W,cn:X}=e,[ve,Re]=D.useState(!1),[ct,Se]=D.useState(!1),[se,Ne]=D.useState(!1),[Be,Ee]=D.useState(!1),[Ae,Te]=D.useState(0),[yt,Nt]=D.useState(0),_n=D.useRef(null),ir=D.useRef(null),Hn=p===0,C=p+1<=w,A=h.type,M=h.dismissible!==!1,Q=h.className||"",K=h.descriptionClassName||"",V=D.useMemo(()=>b.findIndex(xe=>xe.toastId===h.id)||0,[b,h.id]),ie=D.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:N},[h.closeButton,N]),ye=D.useMemo(()=>h.duration||z||tT,[h.duration,z]),tt=D.useRef(0),Ve=D.useRef(0),Xr=D.useRef(0),Kn=D.useRef(null),[zi,ha]=L.split("-"),cc=D.useMemo(()=>b.reduce((xe,qe,Fe)=>Fe>=V?xe:xe+qe.height,0),[b,V]),pa=H2(),cf=h.invert||f,Ui=A==="loading";Ve.current=D.useMemo(()=>V*Y+cc,[V,cc]),D.useEffect(()=>{Re(!0)},[]),D.useLayoutEffect(()=>{if(!ve)return;let xe=ir.current,qe=xe.style.height;xe.style.height="auto";let Fe=xe.getBoundingClientRect().height;xe.style.height=qe,Nt(Fe),g(Jr=>Jr.find(en=>en.toastId===h.id)?Jr.map(en=>en.toastId===h.id?{...en,height:Fe}:en):[{toastId:h.id,height:Fe,position:h.position},...Jr])},[ve,h.title,h.description,g,h.id]);let Qn=D.useCallback(()=>{Se(!0),Te(Ve.current),g(xe=>xe.filter(qe=>qe.toastId!==h.id)),setTimeout(()=>{S(h)},iT)},[h,S,g,Ve]);D.useEffect(()=>{if(h.promise&&A==="loading"||h.duration===1/0||h.type==="loading")return;let xe,qe=ye;return _||x||W&&pa?(()=>{if(Xr.current<tt.current){let Fe=new Date().getTime()-tt.current;qe=qe-Fe}Xr.current=new Date().getTime()})():qe!==1/0&&(tt.current=new Date().getTime(),xe=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),Qn()},qe)),()=>clearTimeout(xe)},[_,x,re,h,ye,Qn,h.promise,A,W,pa]),D.useEffect(()=>{let xe=ir.current;if(xe){let qe=xe.getBoundingClientRect().height;return Nt(qe),g(Fe=>[{toastId:h.id,height:qe,position:h.position},...Fe]),()=>g(Fe=>Fe.filter(Jr=>Jr.toastId!==h.id))}},[g,h.id]),D.useEffect(()=>{h.delete&&Qn()},[Qn,h.delete]);function gk(){return F!=null&&F.loading?D.createElement("div",{className:"sonner-loader","data-visible":A==="loading"},F.loading):q?D.createElement("div",{className:"sonner-loader","data-visible":A==="loading"},q):D.createElement(U2,{visible:A==="loading"})}return D.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ir,className:X($,Q,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[A],(r=h==null?void 0:h.classNames)==null?void 0:r[A]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":ve,"data-promise":!!h.promise,"data-removed":ct,"data-visible":C,"data-y-position":zi,"data-x-position":ha,"data-index":p,"data-front":Hn,"data-swiping":se,"data-dismissible":M,"data-type":A,"data-invert":cf,"data-swipe-out":Be,"data-expanded":!!(_||re&&ve),style:{"--index":p,"--toasts-before":p,"--z-index":y.length-p,"--offset":`${ct?Ae:Ve.current}px`,"--initial-height":re?"auto":`${yt}px`,...j,...h.style},onPointerDown:xe=>{Ui||!M||(_n.current=new Date,Te(Ve.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Ne(!0),Kn.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,qe,Fe,Jr;if(Be||!M)return;Kn.current=null;let en=Number(((xe=ir.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),uc=new Date().getTime()-((qe=_n.current)==null?void 0:qe.getTime()),vk=Math.abs(en)/uc;if(Math.abs(en)>=sT||vk>.11){Te(Ve.current),(Fe=h.onDismiss)==null||Fe.call(h,h),Qn(),Ee(!0);return}(Jr=ir.current)==null||Jr.style.setProperty("--swipe-amount","0px"),Ne(!1)},onPointerMove:xe=>{var qe;if(!Kn.current||!M)return;let Fe=xe.clientY-Kn.current.y,Jr=xe.clientX-Kn.current.x,en=(zi==="top"?Math.min:Math.max)(0,Fe),uc=xe.pointerType==="touch"?10:2;Math.abs(en)>uc?(qe=ir.current)==null||qe.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(Jr)>uc&&(Kn.current=null)}},ie&&!h.jsx?D.createElement("button",{"aria-label":Z,"data-disabled":Ui,"data-close-button":!0,onClick:Ui||!M?()=>{}:()=>{var xe;Qn(),(xe=h.onDismiss)==null||xe.call(h,h)},className:X(O==null?void 0:O.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||D.isValidElement(h.title)?h.jsx||h.title:D.createElement(D.Fragment,null,A||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:X(O==null?void 0:O.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||gk():null,h.type!=="loading"?h.icon||(F==null?void 0:F[A])||F2(A):null):null,D.createElement("div",{"data-content":"",className:X(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},D.createElement("div",{"data-title":"",className:X(O==null?void 0:O.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?D.createElement("div",{"data-description":"",className:X(T,K,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),D.isValidElement(h.cancel)?h.cancel:h.cancel&&Rc(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:xe=>{var qe,Fe;Rc(h.cancel)&&M&&((Fe=(qe=h.cancel).onClick)==null||Fe.call(qe,xe),Qn())},className:X(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,D.isValidElement(h.action)?h.action:h.action&&Rc(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:xe=>{var qe,Fe;Rc(h.action)&&(xe.defaultPrevented||((Fe=(qe=h.action).onClick)==null||Fe.call(qe,xe),Qn()))},className:X(O==null?void 0:O.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function b0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var lT=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=J2,toastOptions:v,dir:x=b0(),gap:g=nT,loadingIcon:w,icons:b,containerAriaLabel:p="Notifications",pauseWhenPageIsHidden:y,cn:_=oT}=e,[S,k]=D.useState([]),N=D.useMemo(()=>Array.from(new Set([r].concat(S.filter(W=>W.position).map(W=>W.position)))),[S,r]),[j,P]=D.useState([]),[R,$]=D.useState(!1),[T,z]=D.useState(!1),[L,Y]=D.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=D.useRef(null),re=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=D.useRef(null),F=D.useRef(!1),Z=D.useCallback(W=>{var X;(X=S.find(ve=>ve.id===W.id))!=null&&X.delete||ar.dismiss(W.id),k(ve=>ve.filter(({id:Re})=>Re!==W.id))},[S]);return D.useEffect(()=>ar.subscribe(W=>{if(W.dismiss){k(X=>X.map(ve=>ve.id===W.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{cb.flushSync(()=>{k(X=>{let ve=X.findIndex(Re=>Re.id===W.id);return ve!==-1?[...X.slice(0,ve),{...X[ve],...W},...X.slice(ve+1)]:[W,...X]})})})}),[]),D.useEffect(()=>{if(c!=="system"){Y(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{Y(W?"dark":"light")})},[c]),D.useEffect(()=>{S.length<=1&&$(!1)},[S]),D.useEffect(()=>{let W=X=>{var ve,Re;n.every(ct=>X[ct]||X.code===ct)&&($(!0),(ve=q.current)==null||ve.focus()),X.code==="Escape"&&(document.activeElement===q.current||(Re=q.current)!=null&&Re.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[n]),D.useEffect(()=>{if(q.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,F.current=!1)}},[q.current]),S.length?D.createElement("section",{"aria-label":`${p} ${re}`,tabIndex:-1},N.map((W,X)=>{var ve;let[Re,ct]=W.split("-");return D.createElement("ol",{key:W,dir:x==="auto"?b0():x,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":Re,"data-x-position":ct,style:{"--front-toast-height":`${((ve=j[0])==null?void 0:ve.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||eT,"--width":`${rT}px`,"--gap":`${g}px`,...f},onBlur:Se=>{F.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(F.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||F.current||(F.current=!0,O.current=Se.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{T||$(!1)},onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},S.filter(Se=>!Se.position&&X===0||Se.position===W).map((Se,se)=>{var Ne,Be;return D.createElement(aT,{key:Se.id,icons:b,index:se,toast:Se,defaultRichColors:u,duration:(Ne=v==null?void 0:v.duration)!=null?Ne:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Be=v==null?void 0:v.closeButton)!=null?Be:i,interacting:T,position:W,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Z,toasts:S.filter(Ee=>Ee.position==Se.position),heights:j.filter(Ee=>Ee.position==Se.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:y,cn:_})}))})):null};const cT=({...e})=>{const{theme:t="system"}=$2();return l.jsx(lT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ji=typeof window>"u"||"Deno"in globalThis;function yr(){}function uT(e,t){return typeof e=="function"?e(t):e}function pp(e){return typeof e=="number"&&e>=0&&e!==1/0}function t_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bo(e,t){return typeof e=="function"?e(t):e}function Fr(e,t){return typeof e=="function"?e(t):e}function _0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==cg(o,t.options))return!1}else if(!jl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function S0(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ki(t.options.mutationKey)!==ki(i))return!1}else if(!jl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function cg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ki)(e)}function ki(e){return JSON.stringify(e,(t,r)=>mp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!jl(e[r],t[r])):!1}function r_(e,t){if(e===t)return e;const r=j0(e)&&j0(t);if(r||mp(e)&&mp(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=r_(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function Lu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function j0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mp(e){if(!k0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!k0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function k0(e){return Object.prototype.toString.call(e)==="[object Object]"}function dT(e){return new Promise(t=>{setTimeout(t,e)})}function gp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?r_(e,t):t}function fT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ug=Symbol();function n_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ug?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ai,cs,Eo,Fy,pT=(Fy=class extends oa{constructor(){super();ae(this,ai);ae(this,cs);ae(this,Eo);J(this,Eo,t=>{if(!ji&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,cs)||this.setEventListener(E(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,cs))==null||t.call(this),J(this,cs,void 0))}setEventListener(t){var r;J(this,Eo,t),(r=E(this,cs))==null||r.call(this),J(this,cs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,ai)!==t&&(J(this,ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,ai)=="boolean"?E(this,ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ai=new WeakMap,cs=new WeakMap,Eo=new WeakMap,Fy),dg=new pT,To,us,Po,zy,mT=(zy=class extends oa{constructor(){super();ae(this,To,!0);ae(this,us);ae(this,Po);J(this,Po,t=>{if(!ji&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,us)||this.setEventListener(E(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,us))==null||t.call(this),J(this,us,void 0))}setEventListener(t){var r;J(this,Po,t),(r=E(this,us))==null||r.call(this),J(this,us,t(this.setOnline.bind(this)))}setOnline(t){E(this,To)!==t&&(J(this,To,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,To)}},To=new WeakMap,us=new WeakMap,Po=new WeakMap,zy),$u=new mT;function vp(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function gT(e){return Math.min(1e3*2**e,3e4)}function s_(e){return(e??"online")==="online"?$u.isOnline():!0}var i_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uf(e){return e instanceof i_}function o_(e){let t=!1,r=0,n=!1,s;const i=vp(),o=g=>{var w;n||(h(new i_(g)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>dg.isFocused()&&(e.networkMode==="always"||$u.isOnline())&&e.canRun(),d=()=>s_(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var w;s=b=>{(n||u())&&g(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var k;if(n)return;const p=e.retry??(ji?0:3),y=e.retryDelay??gT,_=typeof y=="function"?y(r,b):y,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,b);if(t||!S){h(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),dT(_).then(()=>u()?void 0:v()).then(()=>{t?h(b):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():v().then(x),i)}}function vT(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var pt=vT(),li,Uy,a_=(Uy=class{constructor(){ae(this,li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pp(this.gcTime)&&J(this,li,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ji?1/0:5*60*1e3))}clearGcTimeout(){E(this,li)&&(clearTimeout(E(this,li)),J(this,li,void 0))}},li=new WeakMap,Uy),Ro,Ao,vr,Tt,ql,ci,Ir,kn,By,yT=(By=class extends a_{constructor(t){super();ae(this,Ir);ae(this,Ro);ae(this,Ao);ae(this,vr);ae(this,Tt);ae(this,ql);ae(this,ci);J(this,ci,!1),J(this,ql,t.defaultOptions),this.setOptions(t.options),this.observers=[],J(this,vr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,J(this,Ro,xT(this.options)),this.state=t.state??E(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Tt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,ql),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,vr).remove(this)}setData(t,r){const n=gp(this.state.data,t,this.options);return be(this,Ir,kn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,Ir,kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,Tt))==null?void 0:n.promise;return(s=E(this,Tt))==null||s.cancel(t),r?r.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ro))}isActive(){return this.observers.some(t=>Fr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ug||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!t_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Tt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Tt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,Tt)&&(E(this,ci)?E(this,Tt).cancel({revert:!0}):E(this,Tt).cancelRetry()),this.scheduleGc()),E(this,vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,Ir,kn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,Tt))return E(this,Tt).continueRetry(),E(this,Tt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,ci,!0),n.signal)})},i=()=>{const f=n_(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),J(this,ci,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),J(this,Ao,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&be(this,Ir,kn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,v,x,g;Uf(f)&&f.silent||be(this,Ir,kn).call(this,{type:"error",error:f}),Uf(f)||((v=(h=E(this,vr).config).onError)==null||v.call(h,f,this),(g=(x=E(this,vr).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return J(this,Tt,o_({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,v,x,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(v=(h=E(this,vr).config).onSuccess)==null||v.call(h,f,this),(g=(x=E(this,vr).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{be(this,Ir,kn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{be(this,Ir,kn).call(this,{type:"pause"})},onContinue:()=>{be(this,Ir,kn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),E(this,Tt).start()}},Ro=new WeakMap,Ao=new WeakMap,vr=new WeakMap,Tt=new WeakMap,ql=new WeakMap,ci=new WeakMap,Ir=new WeakSet,kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...l_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Uf(s)&&s.revert&&E(this,Ao)?{...E(this,Ao),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),pt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,vr).notify({query:this,type:"updated",action:t})})},By);function l_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nn,Vy,wT=(Vy=class extends oa{constructor(t={}){super();ae(this,nn);this.config=t,J(this,nn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??cg(s,r);let o=this.get(i);return o||(o=new yT({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){E(this,nn).has(t.queryHash)||(E(this,nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,nn).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,nn).get(t)}getAll(){return[...E(this,nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_0(t,n)):r}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nn=new WeakMap,Vy),sn,Dt,ui,on,Xn,qy,bT=(qy=class extends a_{constructor(t){super();ae(this,on);ae(this,sn);ae(this,Dt);ae(this,ui);this.mutationId=t.mutationId,J(this,Dt,t.mutationCache),J(this,sn,[]),this.state=t.state||c_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,sn).includes(t)||(E(this,sn).push(t),this.clearGcTimeout(),E(this,Dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){J(this,sn,E(this,sn).filter(r=>r!==t)),this.scheduleGc(),E(this,Dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,sn).length||(this.state.status==="pending"?this.scheduleGc():E(this,Dt).remove(this))}continue(){var t;return((t=E(this,ui))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,c,u,d,f,h,v,x,g,w,b,p,y,_,S,k,N;J(this,ui,o_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,P)=>{be(this,on,Xn).call(this,{type:"failed",failureCount:j,error:P})},onPause:()=>{be(this,on,Xn).call(this,{type:"pause"})},onContinue:()=>{be(this,on,Xn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Dt).canRun(this)}));const r=this.state.status==="pending",n=!E(this,ui).canStart();try{if(!r){be(this,on,Xn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=E(this,Dt).config).onMutate)==null?void 0:i.call(s,t,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));P!==this.state.context&&be(this,on,Xn).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const j=await E(this,ui).start();return await((u=(c=E(this,Dt).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((v=(h=E(this,Dt).config).onSettled)==null?void 0:v.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,j,null,t,this.state.context)),be(this,on,Xn).call(this,{type:"success",data:j}),j}catch(j){try{throw await((b=(w=E(this,Dt).config).onError)==null?void 0:b.call(w,j,t,this.state.context,this)),await((y=(p=this.options).onError)==null?void 0:y.call(p,j,t,this.state.context)),await((S=(_=E(this,Dt).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,j,t,this.state.context)),j}finally{be(this,on,Xn).call(this,{type:"error",error:j})}}finally{E(this,Dt).runNext(this)}}},sn=new WeakMap,Dt=new WeakMap,ui=new WeakMap,on=new WeakSet,Xn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pt.batch(()=>{E(this,sn).forEach(n=>{n.onMutationUpdate(t)}),E(this,Dt).notify({mutation:this,type:"updated",action:t})})},qy);function c_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var or,Wl,Wy,_T=(Wy=class extends oa{constructor(t={}){super();ae(this,or);ae(this,Wl);this.config=t,J(this,or,new Map),J(this,Wl,Date.now())}build(t,r,n){const s=new bT({mutationCache:this,mutationId:++dc(this,Wl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Ac(t),n=E(this,or).get(r)??[];n.push(t),E(this,or).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Ac(t);if(E(this,or).has(r)){const s=(n=E(this,or).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?E(this,or).delete(r):E(this,or).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=E(this,or).get(Ac(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=E(this,or).get(Ac(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){pt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...E(this,or).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>S0(r,n))}findAll(t={}){return this.getAll().filter(r=>S0(t,r))}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return pt.batch(()=>Promise.all(t.map(r=>r.continue().catch(yr))))}},or=new WeakMap,Wl=new WeakMap,Wy);function Ac(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function N0(e){return{onFetch:(t,r)=>{var d,f,h,v,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=n_(t.options,t.fetchOptions),p=async(y,_,S)=>{if(g)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const k={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(k);const N=await b(k),{maxPages:j}=t.options,P=S?hT:fT;return{pages:P(y.pages,N,j),pageParams:P(y.pageParams,_,j)}};if(s&&i.length){const y=s==="backward",_=y?ST:C0,S={pages:i,pageParams:o},k=_(n,S);a=await p(S,k,y)}else{const y=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:C0(n,a);if(c>0&&_==null)break;a=await p(a,_),c++}while(c<y)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function C0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ST(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rt,ds,fs,Oo,Mo,hs,Io,Do,Hy,jT=(Hy=class{constructor(e={}){ae(this,rt);ae(this,ds);ae(this,fs);ae(this,Oo);ae(this,Mo);ae(this,hs);ae(this,Io);ae(this,Do);J(this,rt,e.queryCache||new wT),J(this,ds,e.mutationCache||new _T),J(this,fs,e.defaultOptions||{}),J(this,Oo,new Map),J(this,Mo,new Map),J(this,hs,0)}mount(){dc(this,hs)._++,E(this,hs)===1&&(J(this,Io,dg.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,rt).onFocus())})),J(this,Do,$u.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,rt).onOnline())})))}unmount(){var e,t;dc(this,hs)._--,E(this,hs)===0&&((e=E(this,Io))==null||e.call(this),J(this,Io,void 0),(t=E(this,Do))==null||t.call(this),J(this,Do,void 0))}isFetching(e){return E(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,ds).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=E(this,rt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(bo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return E(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,rt).get(n.queryHash),i=s==null?void 0:s.state.data,o=uT(t,i);if(o!==void 0)return E(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return pt.batch(()=>E(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,rt);pt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,rt),n={type:"active",...e};return pt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=pt.batch(()=>E(this,rt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(yr).catch(yr)}invalidateQueries(e={},t={}){return pt.batch(()=>{if(E(this,rt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=pt.batch(()=>E(this,rt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(yr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,rt).build(this,t);return r.isStaleByTime(bo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yr).catch(yr)}fetchInfiniteQuery(e){return e.behavior=N0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yr).catch(yr)}ensureInfiniteQueryData(e){return e.behavior=N0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $u.isOnline()?E(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,rt)}getMutationCache(){return E(this,ds)}getDefaultOptions(){return E(this,fs)}setDefaultOptions(e){J(this,fs,e)}setQueryDefaults(e,t){E(this,Oo).set(ki(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Oo).values()];let r={};return t.forEach(n=>{jl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){E(this,Mo).set(ki(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Mo).values()];let r={};return t.forEach(n=>{jl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ug&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,rt).clear(),E(this,ds).clear()}},rt=new WeakMap,ds=new WeakMap,fs=new WeakMap,Oo=new WeakMap,Mo=new WeakMap,hs=new WeakMap,Io=new WeakMap,Do=new WeakMap,Hy),Gt,Ce,Hl,Lt,di,Lo,ps,an,Kl,$o,Fo,fi,hi,ms,zo,Le,Ma,yp,xp,wp,bp,_p,Sp,jp,u_,Ky,kT=(Ky=class extends oa{constructor(t,r){super();ae(this,Le);ae(this,Gt);ae(this,Ce);ae(this,Hl);ae(this,Lt);ae(this,di);ae(this,Lo);ae(this,ps);ae(this,an);ae(this,Kl);ae(this,$o);ae(this,Fo);ae(this,fi);ae(this,hi);ae(this,ms);ae(this,zo,new Set);this.options=r,J(this,Gt,t),J(this,an,null),J(this,ps,vp()),this.options.experimental_prefetchInRender||E(this,ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ce).addObserver(this),E0(E(this,Ce),this.options)?be(this,Le,Ma).call(this):this.updateResult(),be(this,Le,bp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kp(E(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kp(E(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Le,_p).call(this),be(this,Le,Sp).call(this),E(this,Ce).removeObserver(this)}setOptions(t,r){const n=this.options,s=E(this,Ce);if(this.options=E(this,Gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,E(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Le,jp).call(this),E(this,Ce).setOptions(this.options),n._defaulted&&!Lu(this.options,n)&&E(this,Gt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ce),observer:this});const i=this.hasListeners();i&&T0(E(this,Ce),s,this.options,n)&&be(this,Le,Ma).call(this),this.updateResult(r),i&&(E(this,Ce)!==s||Fr(this.options.enabled,E(this,Ce))!==Fr(n.enabled,E(this,Ce))||bo(this.options.staleTime,E(this,Ce))!==bo(n.staleTime,E(this,Ce)))&&be(this,Le,yp).call(this);const o=be(this,Le,xp).call(this);i&&(E(this,Ce)!==s||Fr(this.options.enabled,E(this,Ce))!==Fr(n.enabled,E(this,Ce))||o!==E(this,ms))&&be(this,Le,wp).call(this,o)}getOptimisticResult(t){const r=E(this,Gt).getQueryCache().build(E(this,Gt),t),n=this.createResult(r,t);return CT(this,n)&&(J(this,Lt,n),J(this,Lo,this.options),J(this,di,E(this,Ce).state)),n}getCurrentResult(){return E(this,Lt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){E(this,zo).add(t)}getCurrentQuery(){return E(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,Gt).defaultQueryOptions(t),n=E(this,Gt).getQueryCache().build(E(this,Gt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Le,Ma).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Lt)))}createResult(t,r){var j;const n=E(this,Ce),s=this.options,i=E(this,Lt),o=E(this,di),a=E(this,Lo),u=t!==n?t.state:E(this,Hl),{state:d}=t;let f={...d},h=!1,v;if(r._optimisticResults){const P=this.hasListeners(),R=!P&&E0(t,r),$=P&&T0(t,n,r,s);(R||$)&&(f={...f,...l_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===E(this,Kl))v=E(this,$o);else try{J(this,Kl,r.select),v=r.select(f.data),v=gp(i==null?void 0:i.data,v,r),J(this,$o,v),J(this,an,null)}catch(P){J(this,an,P)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&w==="pending"){let P;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))P=i.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((j=E(this,Fo))==null?void 0:j.state.data,E(this,Fo)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),J(this,an,null)}catch(R){J(this,an,R)}P!==void 0&&(w="success",v=gp(i==null?void 0:i.data,P,r),h=!0)}E(this,an)&&(x=E(this,an),v=E(this,$o),g=Date.now(),w="error");const b=f.fetchStatus==="fetching",p=w==="pending",y=w==="error",_=p&&b,S=v!==void 0,N={status:w,fetchStatus:f.fetchStatus,isPending:p,isSuccess:w==="success",isError:y,isInitialLoading:_,isLoading:_,data:v,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!p,isLoadingError:y&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&S,isStale:fg(t,r),refetch:this.refetch,promise:E(this,ps)};if(this.options.experimental_prefetchInRender){const P=T=>{N.status==="error"?T.reject(N.error):N.data!==void 0&&T.resolve(N.data)},R=()=>{const T=J(this,ps,N.promise=vp());P(T)},$=E(this,ps);switch($.status){case"pending":t.queryHash===n.queryHash&&P($);break;case"fulfilled":(N.status==="error"||N.data!==$.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==$.reason)&&R();break}}return N}updateResult(t){const r=E(this,Lt),n=this.createResult(E(this,Ce),this.options);if(J(this,di,E(this,Ce).state),J(this,Lo,this.options),E(this,di).data!==void 0&&J(this,Fo,E(this,Ce)),Lu(n,r))return;J(this,Lt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!E(this,zo).size)return!0;const c=new Set(a??E(this,zo));return this.options.throwOnError&&c.add("error"),Object.keys(E(this,Lt)).some(u=>{const d=u;return E(this,Lt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),be(this,Le,u_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Le,bp).call(this)}},Gt=new WeakMap,Ce=new WeakMap,Hl=new WeakMap,Lt=new WeakMap,di=new WeakMap,Lo=new WeakMap,ps=new WeakMap,an=new WeakMap,Kl=new WeakMap,$o=new WeakMap,Fo=new WeakMap,fi=new WeakMap,hi=new WeakMap,ms=new WeakMap,zo=new WeakMap,Le=new WeakSet,Ma=function(t){be(this,Le,jp).call(this);let r=E(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(yr)),r},yp=function(){be(this,Le,_p).call(this);const t=bo(this.options.staleTime,E(this,Ce));if(ji||E(this,Lt).isStale||!pp(t))return;const n=t_(E(this,Lt).dataUpdatedAt,t)+1;J(this,fi,setTimeout(()=>{E(this,Lt).isStale||this.updateResult()},n))},xp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ce)):this.options.refetchInterval)??!1},wp=function(t){be(this,Le,Sp).call(this),J(this,ms,t),!(ji||Fr(this.options.enabled,E(this,Ce))===!1||!pp(E(this,ms))||E(this,ms)===0)&&J(this,hi,setInterval(()=>{(this.options.refetchIntervalInBackground||dg.isFocused())&&be(this,Le,Ma).call(this)},E(this,ms)))},bp=function(){be(this,Le,yp).call(this),be(this,Le,wp).call(this,be(this,Le,xp).call(this))},_p=function(){E(this,fi)&&(clearTimeout(E(this,fi)),J(this,fi,void 0))},Sp=function(){E(this,hi)&&(clearInterval(E(this,hi)),J(this,hi,void 0))},jp=function(){const t=E(this,Gt).getQueryCache().build(E(this,Gt),this.options);if(t===E(this,Ce))return;const r=E(this,Ce);J(this,Ce,t),J(this,Hl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},u_=function(t){pt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,Lt))}),E(this,Gt).getQueryCache().notify({query:E(this,Ce),type:"observerResultsUpdated"})})},Ky);function NT(e,t){return Fr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function E0(e,t){return NT(e,t)||e.state.data!==void 0&&kp(e,t,t.refetchOnMount)}function kp(e,t,r){if(Fr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&fg(e,t)}return!1}function T0(e,t,r,n){return(e!==t||Fr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&fg(e,r)}function fg(e,t){return Fr(t.enabled,e)!==!1&&e.isStaleByTime(bo(t.staleTime,e))}function CT(e,t){return!Lu(e.getCurrentResult(),t)}var gs,vs,Zt,Rn,Ln,iu,Np,Qy,ET=(Qy=class extends oa{constructor(r,n){super();ae(this,Ln);ae(this,gs);ae(this,vs);ae(this,Zt);ae(this,Rn);J(this,gs,r),this.setOptions(n),this.bindMethods(),be(this,Ln,iu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,gs).defaultMutationOptions(r),Lu(this.options,n)||E(this,gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Zt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ki(n.mutationKey)!==ki(this.options.mutationKey)?this.reset():((s=E(this,Zt))==null?void 0:s.state.status)==="pending"&&E(this,Zt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,Zt))==null||r.removeObserver(this)}onMutationUpdate(r){be(this,Ln,iu).call(this),be(this,Ln,Np).call(this,r)}getCurrentResult(){return E(this,vs)}reset(){var r;(r=E(this,Zt))==null||r.removeObserver(this),J(this,Zt,void 0),be(this,Ln,iu).call(this),be(this,Ln,Np).call(this)}mutate(r,n){var s;return J(this,Rn,n),(s=E(this,Zt))==null||s.removeObserver(this),J(this,Zt,E(this,gs).getMutationCache().build(E(this,gs),this.options)),E(this,Zt).addObserver(this),E(this,Zt).execute(r)}},gs=new WeakMap,vs=new WeakMap,Zt=new WeakMap,Rn=new WeakMap,Ln=new WeakSet,iu=function(){var n;const r=((n=E(this,Zt))==null?void 0:n.state)??c_();J(this,vs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(r){pt.batch(()=>{var n,s,i,o,a,c,u,d;if(E(this,Rn)&&this.hasListeners()){const f=E(this,vs).variables,h=E(this,vs).context;(r==null?void 0:r.type)==="success"?((s=(n=E(this,Rn)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=E(this,Rn)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(a=E(this,Rn)).onError)==null||c.call(a,r.error,f,h),(d=(u=E(this,Rn)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(E(this,vs))})})},Qy),d_=m.createContext(void 0),vt=e=>{const t=m.useContext(d_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},TT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(d_.Provider,{value:e,children:t})),f_=m.createContext(!1),PT=()=>m.useContext(f_);f_.Provider;function RT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AT=m.createContext(RT()),OT=()=>m.useContext(AT);function h_(e,t){return typeof e=="function"?e(...t):!!e}function p_(){}var MT=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},IT=e=>{m.useEffect(()=>{e.clearReset()},[e])},DT=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&h_(r,[e.error,n]),LT=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$T=(e,t)=>e.isLoading&&e.isFetching&&!t,FT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,P0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function zT(e,t,r){var d,f,h,v,x;const n=vt(),s=PT(),i=OT(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",LT(o),MT(o,i),IT(i);const a=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:c.subscribe(pt.batchCalls(g));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),FT(o,u))throw P0(o,c,i);if(DT({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,o,u),o.experimental_prefetchInRender&&!ji&&$T(u,s)){const g=a?P0(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(p_).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function lt(e,t){return zT(e,kT)}function Qe(e,t){const r=vt(),[n]=m.useState(()=>new ET(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(pt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,a)=>{n.mutate(o,a).catch(p_)},[n]);if(s.error&&h_(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}var ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ws||(ws={}));const R0="popstate";function UT(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Cp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fu(s)}return VT(t,r,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BT(){return Math.random().toString(36).substr(2,8)}function A0(e,t){return{usr:e.state,key:e.key,idx:t}}function Cp(e,t,r,n){return r===void 0&&(r=null),kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?aa(t):t,{state:r,key:t&&t.key||n||BT()})}function Fu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function VT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ws.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(kl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ws.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:a,location:g.location,delta:b})}function h(w,b){a=ws.Push;let p=Cp(g.location,w,b);u=d()+1;let y=A0(p,u),_=g.createHref(p);try{o.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:a,location:g.location,delta:1})}function v(w,b){a=ws.Replace;let p=Cp(g.location,w,b);u=d();let y=A0(p,u),_=g.createHref(p);o.replaceState(y,"",_),i&&c&&c({action:a,location:g.location,delta:0})}function x(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:Fu(w);return p=p.replace(/ $/,"%20"),dt(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let g={get action(){return a},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(R0,f),c=w,()=>{s.removeEventListener(R0,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:v,go(w){return o.go(w)}};return g}var O0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O0||(O0={}));function qT(e,t,r){return r===void 0&&(r="/"),WT(e,t,r,!1)}function WT(e,t,r,n){let s=typeof t=="string"?aa(t):t,i=hg(s.pathname||"/",r);if(i==null)return null;let o=g_(e);HT(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=nP(i);a=tP(o[c],u,n)}return a}function g_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ts([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g_(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:JT(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of v_(i.path))s(i,o,c)}),t}function v_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=v_(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function HT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:eP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const KT=/^:[\w-]+$/,QT=3,GT=2,ZT=1,YT=10,XT=-2,M0=e=>e==="*";function JT(e,t){let r=e.split("/"),n=r.length;return r.some(M0)&&(n+=XT),t&&(n+=GT),r.filter(s=>!M0(s)).reduce((s,i)=>s+(KT.test(i)?QT:i===""?ZT:YT),n)}function eP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function tP(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=I0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=I0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ts([i,f.pathname]),pathnameBase:aP(Ts([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ts([i,f.pathnameBase]))}return o}function I0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=rP(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function rP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),m_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function nP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return m_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?aa(e):e;return{pathname:r?r.startsWith("/")?r:iP(r,t):t,search:lP(n),hash:cP(s)}}function iP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function y_(e,t){let r=oP(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function x_(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=aa(e):(s=kl({},e),dt(!s.pathname||!s.pathname.includes("?"),Bf("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Bf("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Bf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=sP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ts=e=>e.join("/").replace(/\/\/+/g,"/"),aP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w_=["post","put","patch","delete"];new Set(w_);const dP=["get",...w_];new Set(dP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}const pg=m.createContext(null),fP=m.createContext(null),$i=m.createContext(null),Dd=m.createContext(null),Ks=m.createContext({outlet:null,matches:[],isDataRoute:!1}),b_=m.createContext(null);function hP(e,t){let{relative:r}=t===void 0?{}:t;Jl()||dt(!1);let{basename:n,navigator:s}=m.useContext($i),{hash:i,pathname:o,search:a}=S_(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ts([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Jl(){return m.useContext(Dd)!=null}function ec(){return Jl()||dt(!1),m.useContext(Dd).location}function __(e){m.useContext($i).static||m.useLayoutEffect(e)}function Ld(){let{isDataRoute:e}=m.useContext(Ks);return e?NP():pP()}function pP(){Jl()||dt(!1);let e=m.useContext(pg),{basename:t,future:r,navigator:n}=m.useContext($i),{matches:s}=m.useContext(Ks),{pathname:i}=ec(),o=JSON.stringify(y_(s,r.v7_relativeSplatPath)),a=m.useRef(!1);return __(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=x_(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ts([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function mg(){let{matches:e}=m.useContext(Ks),t=e[e.length-1];return t?t.params:{}}function S_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext($i),{matches:s}=m.useContext(Ks),{pathname:i}=ec(),o=JSON.stringify(y_(s,n.v7_relativeSplatPath));return m.useMemo(()=>x_(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function mP(e,t){return gP(e,t)}function gP(e,t,r,n){Jl()||dt(!1);let{navigator:s}=m.useContext($i),{matches:i}=m.useContext(Ks),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ec(),d;if(t){var f;let w=typeof t=="string"?aa(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||dt(!1),d=w}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=qT(e,{pathname:v}),g=bP(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ts([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ts([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?m.createElement(Dd.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ws.Pop}},g):g}function vP(){let e=kP(),t=uP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const yP=m.createElement(vP,null);class xP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Ks.Provider,{value:this.props.routeContext},m.createElement(b_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wP(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(pg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Ks.Provider,{value:t},n)}function bP(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let v,x=!1,g=null,w=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||yP,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),p=()=>{let y;return v?y=g:x?y=w:f.route.Component?y=m.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,m.createElement(wP,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(xP,{location:r.location,revalidation:r.revalidation,component:g,error:v,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var j_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j_||{}),zu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zu||{});function _P(e){let t=m.useContext(pg);return t||dt(!1),t}function SP(e){let t=m.useContext(fP);return t||dt(!1),t}function jP(e){let t=m.useContext(Ks);return t||dt(!1),t}function k_(e){let t=jP(),r=t.matches[t.matches.length-1];return r.route.id||dt(!1),r.route.id}function kP(){var e;let t=m.useContext(b_),r=SP(zu.UseRouteError),n=k_(zu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NP(){let{router:e}=_P(j_.UseNavigateStable),t=k_(zu.UseNavigateStable),r=m.useRef(!1);return __(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Nl({fromRouteId:t},i)))},[e,t])}function Ia(e){dt(!1)}function CP(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ws.Pop,navigator:i,static:o=!1,future:a}=e;Jl()&&dt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Nl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=aa(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:x="default"}=n,g=m.useMemo(()=>{let w=hg(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:v,key:x},navigationType:s}},[c,d,f,h,v,x,s]);return g==null?null:m.createElement($i.Provider,{value:u},m.createElement(Dd.Provider,{children:r,value:g}))}function EP(e){let{children:t,location:r}=e;return mP(Ep(t),r)}new Promise(()=>{});function Ep(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Ep(n.props.children,i));return}n.type!==Ia&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ep(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}function TP(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function PP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RP(e,t){return e.button===0&&(!t||t==="_self")&&!PP(e)}const AP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OP="6";try{window.__reactRouterVersion=OP}catch{}const MP="startTransition",D0=ox[MP];function IP(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=UT({window:s,v5Compat:!0}));let o=i.current,[a,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&D0?D0(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(CP,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const DP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_o=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=TP(t,AP),{basename:v}=m.useContext($i),x,g=!1;if(typeof u=="string"&&LP.test(u)&&(x=u,DP))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=hg(_.pathname,v);_.origin===y.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let w=hP(u,{relative:s}),b=$P(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(y){n&&n(y),y.defaultPrevented||b(y)}return m.createElement("a",Tp({},h,{href:x||w,onClick:g||i?n:p,ref:r,target:c}))});var L0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var $0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($0||($0={}));function $P(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ld(),u=ec(),d=S_(e,{relative:o});return m.useCallback(f=>{if(RP(f,r)){f.preventDefault();let h=n!==void 0?n:Fu(u)===Fu(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,s,r,e,i,o,a])}const FP="modulepreload",zP=function(e,t){return new URL(e,t).href},F0={},tc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=zP(u,n),u in F0)return;F0[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let x=o.length-1;x>=0;x--){const g=o[x];if(g.href===u&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":FP,d||(v.as="script"),v.crossOrigin="",v.href=u,c&&v.setAttribute("nonce",c),document.head.appendChild(v),d)return new Promise((x,g)=>{v.addEventListener("load",x),v.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},UP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tc(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class BP extends gg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VP extends gg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qP extends gg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pp||(Pp={}));var WP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class HP{constructor(t,{headers:r={},customFetch:n,region:s=Pp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=UP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return WP(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new BP(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new VP(d);if(!d.ok)throw new qP(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Jt={},vg={},$d={},rc={},Fd={},zd={},KP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qo=KP();const QP=Qo.fetch,N_=Qo.fetch.bind(Qo),C_=Qo.Headers,GP=Qo.Request,ZP=Qo.Response,la=Object.freeze(Object.defineProperty({__proto__:null,Headers:C_,Request:GP,Response:ZP,default:N_,fetch:QP},Symbol.toStringTag,{value:"Module"})),YP=xk(la);var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});let XP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ud.default=XP;var E_=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});const JP=E_(YP),eR=E_(Ud);let tR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=JP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,v="OK")}catch{i.status===404&&g===""?(h=204,v="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new eR.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};zd.default=tR;var rR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fd,"__esModule",{value:!0});const nR=rR(zd);let sR=class extends nR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fd.default=sR;var iR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rc,"__esModule",{value:!0});const oR=iR(Fd);let aR=class extends oR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};rc.default=aR;var lR=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($d,"__esModule",{value:!0});const ka=lR(rc);let cR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ka.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ka.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ka.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$d.default=cR;var Bd={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.version=void 0;Vd.version="0.0.0-automated";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.DEFAULT_HEADERS=void 0;const uR=Vd;Bd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uR.version}`};var T_=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const dR=T_($d),fR=T_(rc),hR=Bd;let pR=class P_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new dR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new P_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new fR.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vg.default=pR;var ca=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const R_=ca(vg);Jt.PostgrestClient=R_.default;const A_=ca($d);Jt.PostgrestQueryBuilder=A_.default;const O_=ca(rc);Jt.PostgrestFilterBuilder=O_.default;const M_=ca(Fd);Jt.PostgrestTransformBuilder=M_.default;const I_=ca(zd);Jt.PostgrestBuilder=I_.default;const D_=ca(Ud);Jt.PostgrestError=D_.default;var mR=Jt.default={PostgrestClient:R_.default,PostgrestQueryBuilder:A_.default,PostgrestFilterBuilder:O_.default,PostgrestTransformBuilder:M_.default,PostgrestBuilder:I_.default,PostgrestError:D_.default};const{PostgrestClient:gR,PostgrestQueryBuilder:GL,PostgrestFilterBuilder:ZL,PostgrestTransformBuilder:YL,PostgrestBuilder:XL,PostgrestError:JL}=mR;let Rp;typeof window>"u"?Rp=require("ws"):Rp=window.WebSocket;const vR=Rp,yR="2.11.10",xR={"X-Client-Info":`realtime-js/${yR}`},wR="1.0.0",L_=1e4,bR=1e3;var So;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(So||(So={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var Lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lr||(Lr={}));var Ap;(function(e){e.websocket="websocket"})(Ap||(Ap={}));var ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ri||(ri={}));class _R{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class $_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const z0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=SR(o,e,t,s),i),{})},SR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?F_(i,o):Op(o)},F_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CR(t,r)}switch(e){case ze.bool:return jR(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return kR(t);case ze.json:case ze.jsonb:return NR(t);case ze.timestamp:return ER(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Op(t);default:return Op(t)}},Op=e=>e,jR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>F_(t,a))}return e},ER=e=>typeof e=="string"?e.replace(" ","T"):e,z_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Vf{constructor(t,r,n={},s=L_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var U0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(U0||(U0={}));class el{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=el.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=el.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[a].unshift(...h)}n(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B0||(B0={}));var V0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(V0||(V0={}));var Tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class yg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vf(this,Lr.join,this.params,this.timeout),this.rejoinTimer=new $_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new el(this),this.broadcastEndpointURL=z_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Tn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Tn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Tn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<v;g++){const w=h[g],{filter:{event:b,schema:p,table:y,filter:_}}=w,S=d&&d[g];if(S&&S.event===b&&S.schema===p&&S.table===y&&S.filter===_)x.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Tn.SUBSCRIBED);return}}).receive("error",d=>{this.state=It.errored,t==null||t(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Vf(this,Lr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Lr;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,g,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=v.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,g,w,b,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,S=(x=v.filter)===null||x===void 0?void 0:x.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(b=v==null?void 0:v.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:w,commit_timestamp:b,type:p,errors:y}=x;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:b,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}v.callback(h,n)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lr.close,{},t)}_onError(t){this._on(Lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=z0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=z0(t.columns,t.old_record)),r}}const q0=()=>{},TR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=xR,this.params={},this.timeout=L_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q0,this.ref=0,this.logger=q0,this.conn=null,this.sendBuffer=[],this.serializer=new _R,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>tc(async()=>{const{default:c}=await Promise.resolve().then(()=>la);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ap.websocket}`,this.httpEndpoint=z_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=vR),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new RR(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case So.connecting:return ri.Connecting;case So.open:return ri.Open;case So.closing:return ri.Closing;default:return ri.Closed}}isConnected(){return this.connectionState()===ri.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new yg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Lr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(bR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([TR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class RR{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=So.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class xg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AR extends xg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mp extends xg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var OR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const U_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tc(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MR=()=>OR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tc(()=>Promise.resolve().then(()=>la),void 0,import.meta.url)).Response:Response}),Ip=e=>{if(Array.isArray(e))return e.map(r=>Ip(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ip(n)}),t};var Fi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const qf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IR=(e,t,r)=>Fi(void 0,void 0,void 0,function*(){const n=yield MR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new AR(qf(s),e.status||500))}).catch(s=>{t(new Mp(qf(s),s))}):t(new Mp(qf(e),e))}),DR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function nc(e,t,r,n,s,i){return Fi(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,DR(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>IR(c,a,n))})})}function Uu(e,t,r,n){return Fi(this,void 0,void 0,function*(){return nc(e,"GET",t,r,n)})}function ns(e,t,r,n,s){return Fi(this,void 0,void 0,function*(){return nc(e,"POST",t,n,s,r)})}function LR(e,t,r,n,s){return Fi(this,void 0,void 0,function*(){return nc(e,"PUT",t,n,s,r)})}function $R(e,t,r,n){return Fi(this,void 0,void 0,function*(){return nc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function B_(e,t,r,n,s){return Fi(this,void 0,void 0,function*(){return nc(e,"DELETE",t,n,s,r)})}var Kt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const FR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zR{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=U_(s)}uploadOrUpdate(t,r,n,s){return Kt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},W0),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:W0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(xt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ns(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=yield ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}download(t,r){return Kt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Uu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}info(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ip(n),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}exists(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $R(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xt(n)&&n instanceof Mp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},FR),r),{prefix:t||""});return{data:yield ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const UR="2.7.1",BR={"X-Client-Info":`storage-js/${UR}`};var Vi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class VR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},BR),r),this.fetch=U_(n)}listBuckets(){return Vi(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}getBucket(t){return Vi(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vi(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vi(this,void 0,void 0,function*(){try{return{data:yield LR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vi(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vi(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}}class qR extends VR{constructor(t,r={},n){super(t,r,n)}from(t){return new zR(this.url,this.headers,t,this.fetch)}}const WR="2.50.0";let Da="";typeof Deno<"u"?Da="deno":typeof document<"u"?Da="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Da="react-native":Da="node";const HR={"X-Client-Info":`supabase-js-${Da}/${WR}`},KR={headers:HR},QR={schema:"public"},GR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZR={};var YR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const XR=e=>{let t;return e?t=e:typeof fetch>"u"?t=N_:t=fetch,(...r)=>t(...r)},JR=()=>typeof Headers>"u"?C_:Headers,e4=(e,t,r)=>{const n=XR(r),s=JR();return(i,o)=>YR(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var t4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function r4(e){return e.endsWith("/")?e:e+"/"}function n4(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>t4(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const V_="2.70.0",Yi=30*1e3,Dp=3,Wf=Dp*Yi,s4="http://localhost:9999",i4="supabase.auth.token",o4={"X-Client-Info":`gotrue-js/${V_}`},Lp="X-Supabase-Api-Version",q_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l4=6e5;class wg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c4 extends wg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u4(e){return he(e)&&e.name==="AuthApiError"}class W_ extends wg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qs extends wg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Jn extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d4(e){return he(e)&&e.name==="AuthSessionMissingError"}class Oc extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mc extends Qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends Qs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f4(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class H0 extends Qs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $p extends Qs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hf(e){return he(e)&&e.name==="AuthRetryableFetchError"}class K0 extends Qs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tl extends Qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q0=` 	
\r=`.split(""),h4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Q0.length;t+=1)e[Q0[t].charCodeAt(0)]=-2;for(let t=0;t<Bu.length;t+=1)e[Bu[t].charCodeAt(0)]=t;return e})();function G0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bu[n]),t.queuedBits-=6}}function H_(e,t,r){const n=h4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Z0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{g4(o,n,r)};for(let o=0;o<e.length;o+=1)H_(e.charCodeAt(o),s,i);return t.join("")}function p4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function m4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}p4(n,t)}}function g4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function v4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)H_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function y4(e){const t=[];return m4(e,r=>t.push(r)),new Uint8Array(t)}function x4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>G0(s,r,n)),G0(null,r,n),t.join("")}function w4(e){return Math.round(Date.now()/1e3)+e}function b4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ar=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},rl=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function _4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const K_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>tc(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},S4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Q_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Dc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lc=async(e,t)=>{await e.removeItem(t)};class qd{constructor(){this.promise=new qd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qd.promiseConstructor=Promise;function Kf(e){const t=e.split(".");if(t.length!==3)throw new tl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!a4.test(t[n]))throw new tl("JWT not in base64url format");return{header:JSON.parse(Z0(t[0])),payload:JSON.parse(Z0(t[1])),signature:v4(t[2]),raw:{header:t[0],payload:t[1]}}}async function j4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function k4(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function N4(e){return("0"+e.toString(16)).substr(-2)}function C4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,N4).join("")}async function E4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function T4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await E4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qi(e,t,r=!1){const n=C4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Q_(e,`${t}-code-verifier`,s);const i=await T4(n);return[i,n===i?"plain":"s256"]}const P4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R4(e){const t=e.headers.get(Lp);if(!t||!t.match(P4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function O4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wi(e){if(!M4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var I4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ti=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D4=[502,503,504];async function Y0(e){var t;if(!S4(e))throw new $p(ti(e),0);if(D4.includes(e.status))throw new $p(ti(e),e.status);let r;try{r=await e.json()}catch(i){throw new W_(ti(i),i)}let n;const s=R4(e);if(s&&s.getTime()>=q_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new K0(ti(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new K0(ti(r),e.status,r.weak_password.reasons);throw new c4(ti(r),e.status||500,n)}const L4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function je(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Lp]||(i[Lp]=q_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $4(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function $4(e,t,r,n,s,i){const o=L4(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new $p(ti(c),0)}if(a.ok||await Y0(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Y0(c)}}function Nn(e){var t;let r=null;B4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=w4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X0(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F4(e){return{data:e,error:null}}function z4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=I4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function U4(e){return e}function B4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qf=["global","local","others"];var V4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class q4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=K_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Qf[0]){if(Qf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qf.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=V4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:z4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:os})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:U4});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wi(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:os})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wi(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:os})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wi(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wi(t.userId);try{const{data:r,error:n}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wi(t.userId),Wi(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}const W4={getItem:e=>rl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rl()&&globalThis.localStorage.removeItem(e)}};function J0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hi={debug:!!(globalThis&&rl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K4 extends G_{}async function Q4(e,t,r){Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H4();const G4={url:s4,storageKey:i4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ey(e,t,r){return await r()}class Cl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cl.nextInstanceID,Cl.nextInstanceID+=1,this.instanceID>0&&Ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new q4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=K_(s.fetch),this.lock=s.lock||ey,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Q4:this.lock=ey,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:rl()?this.storage=W4:(this.memoryStorage={},this.storage=J0(this.memoryStorage)):(this.memoryStorage={},this.storage=J0(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${V_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ar()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),f4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?{error:r}:{error:new W_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await qi(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:Nn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nn})}else throw new Mc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X0})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:X0})}else throw new Mc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Oc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,c,u,d,f,h,v;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:b,statement:p,options:y}=t;let _;if(Ar())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:w,error:b}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:x4(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nn});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Oc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(he(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Dc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await Lc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Oc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Oc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qi(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mc("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qi(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F4})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jn;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Mc("You must provide either an email or phone number and a type")}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Dc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:os}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:os})})}catch(r){if(he(r))return d4(r)&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Jn;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await qi(this.storage,this.storageKey));const{data:u,error:d}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:os});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Kf(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(he(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ar())throw new Ic("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ic(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H0("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new Ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=Yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Dc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(u4(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=b4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(he(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await k4(async s=>(s>0&&await j4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Hf(i)&&Date.now()+o-n<Yi})}catch(n){if(this._debug(r,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Dc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Wf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Hf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),he(i)){const o={session:null,error:i};return Hf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Q_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yi}ms, refresh threshold is ${Dp} ticks`),s<=Dp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof G_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kf(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+l4>Date.now()))return n;const{data:s,error:i}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new tl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new tl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Kf(n);if(A4(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=O4(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,y4(`${a}.${c}`)))throw new tl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}Cl.nextInstanceID=0;const Z4=Cl;class Y4 extends Z4{constructor(t){super(t)}}var X4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class J4{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=r4(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:QR,realtime:ZR,auth:Object.assign(Object.assign({},GR),{storageKey:u}),global:KR},f=n4(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=e4(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new gR(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new HP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qR(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return X4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new PR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eA=(e,t,r)=>new J4(e,t,r),tA="https://zorqkahwojneoryarvia.supabase.co",rA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvcnFrYWh3b2puZW9yeWFydmlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyMjI1MzYsImV4cCI6MjA4NTc5ODUzNn0.8_yl8KOKXiOgQo0eySxGPAyswonKH955hhfyfUoB9RQ",I=eA(tA,rA),Z_=m.createContext(void 0),Me=()=>{const e=m.useContext(Z_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},nA=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),[i,o]=m.useState(!0);m.useEffect(()=>{const{data:{subscription:u}}=I.auth.onAuthStateChange(async(f,h)=>{var v,x;if(console.log("Auth state change:",f,(v=h==null?void 0:h.user)==null?void 0:v.id),s(h),r((h==null?void 0:h.user)??null),o(!1),f==="SIGNED_IN"&&(h!=null&&h.user)){const g=(x=h.user.user_metadata)==null?void 0:x.role;g&&(console.log("User signed in with role:",g),setTimeout(async()=>{try{const{error:w}=await I.from("profiles").update({role:g}).eq("id",h.user.id);w?console.error("Error updating user role:",w):console.log("User role updated successfully:",g)}catch(w){console.error("Error in role update:",w)}},1e3))}});return(async()=>{const{data:{session:f}}=await I.auth.getSession();s(f),r((f==null?void 0:f.user)??null),o(!1)})(),()=>u.unsubscribe()},[]);const c={user:t,session:n,loading:i,signOut:async()=>{const{error:u}=await I.auth.signOut();u&&console.error("Error signing out:",u)}};return l.jsx(Z_.Provider,{value:c,children:e})},sA=()=>{const[e,t]=m.useState(!0),[r,n]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[c,u]=m.useState("manager"),[d,f]=m.useState(!1),[h,v]=m.useState(!1),[x,g]=m.useState("");console.log(c);const w=async b=>{b.preventDefault(),v(!0),g("");try{if(e){const{error:p}=await I.auth.signInWithPassword({email:r,password:s});if(p)throw p}else{const{error:p,data:y}=await I.auth.signUp({email:r,password:s,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:o,username:r.split("@")[0],role:c}}});if(_i({variant:"default",title:"     "}),console.log(y),p)throw p}}catch(p){g(p.message||" ")}finally{v(!1)}};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-r from-pink-500/20 to-cyan-500/20 rounded-full blur-xl animate-float"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-xl animate-pulse"}),l.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-full blur-lg animate-float",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                         linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}}),l.jsxs("div",{className:"vice-card p-8 w-full max-w-md relative z-10 border-2 border-pink-500/30",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-cyan-500 to-purple-500"}),l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full opacity-60 animate-float"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full opacity-40 animate-pulse"}),l.jsxs("div",{className:"text-center mb-8 relative",children:[l.jsxs("div",{className:"w-20 h-20 mx-auto mb-6 relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full blur-lg opacity-50 animate-pulse"}),l.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full flex items-center justify-center border-2 border-cyan-400/50",children:l.jsx(Is,{className:"text-white drop-shadow-lg",size:36})})]}),l.jsx("h1",{className:"vice-title text-3xl text-transparent bg-clip-text vice-gradient mb-3 animate-pulse-neon",children:" SALES ARENA"}),l.jsx("h2",{className:"vice-subtitle text-xl text-transparent bg-clip-text vice-gradient-alt mb-4",children:"  "}),l.jsx("p",{className:"vice-text-accent text-lg",children:e?"   ":"  "})]}),x&&l.jsxs("div",{className:"vice-card border-red-500/50 bg-gradient-to-r from-red-900/20 to-red-800/20 p-4 mb-6 relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-pink-500"}),l.jsx("p",{className:"text-red-300 text-sm font-medium",children:x})]}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[!e&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"vice-subtitle text-sm text-cyan-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-cyan-400",children:l.jsx(Is,{size:20})}),l.jsx("input",{type:"text",value:o,onChange:b=>a(b.target.value),className:`w-full pl-12 pr-4 py-4 bg-slate-800/50 border-2 border-slate-600/50 rounded-xl 
                           focus:border-cyan-400/70 focus:ring-2 focus:ring-cyan-400/20 focus:outline-none
                           text-white placeholder-slate-400 vice-text backdrop-blur-sm
                           transition-all duration-300`,placeholder:"  ",required:!e})]})]}),!e&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"vice-subtitle text-sm text-cyan-300",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 ${c==="manager"?"border-blue-500/70 bg-blue-500/10":"border-slate-600/50 hover:border-slate-500/70"}`,onClick:()=>u("manager"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="manager"?"bg-blue-500":"bg-slate-600"}`,children:l.jsx(Tr,{size:16,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:""}),l.jsx("p",{className:"text-slate-400 text-sm",children:"  ,   "}),l.jsxs("div",{className:"flex gap-1 mt-1",children:[l.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded",children:""}),l.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded",children:" "})]})]})]})}),l.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 ${c==="closer"?"border-green-500/70 bg-green-500/10":"border-slate-600/50 hover:border-slate-500/70"}`,onClick:()=>u("closer"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="closer"?"bg-green-500":"bg-slate-600"}`,children:l.jsx(dp,{size:16,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:""}),l.jsx("p",{className:"text-slate-400 text-sm",children:"     "}),l.jsxs("div",{className:"flex gap-1 mt-1",children:[l.jsx("span",{className:"text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded",children:""}),l.jsx("span",{className:"text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded",children:""}),l.jsx("span",{className:"text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded",children:""})]})]})]})}),l.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all duration-300 ${c==="leader"?"border-yellow-500/70 bg-yellow-500/10":"border-slate-600/50 hover:border-slate-500/70"}`,onClick:()=>u("leader"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="leader"?"bg-yellow-500":"bg-slate-600"}`,children:l.jsx(cp,{size:16,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:""}),l.jsx("p",{className:"text-slate-400 text-sm",children:" ,  "})]})]})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"vice-subtitle text-sm text-cyan-300",children:"EMAIL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-cyan-400",children:l.jsx(zb,{size:20})}),l.jsx("input",{type:"email",value:r,onChange:b=>n(b.target.value),className:`w-full pl-12 pr-4 py-4 bg-slate-800/50 border-2 border-slate-600/50 rounded-xl 
                         focus:border-cyan-400/70 focus:ring-2 focus:ring-cyan-400/20 focus:outline-none
                         text-white placeholder-slate-400 vice-text backdrop-blur-sm
                         transition-all duration-300`,placeholder:"  email",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"vice-subtitle text-sm text-cyan-300",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-cyan-400",children:l.jsx(qE,{size:20})}),l.jsx("input",{type:d?"text":"password",value:s,onChange:b=>i(b.target.value),className:`w-full pl-12 pr-12 py-4 bg-slate-800/50 border-2 border-slate-600/50 rounded-xl 
                         focus:border-cyan-400/70 focus:ring-2 focus:ring-cyan-400/20 focus:outline-none
                         text-white placeholder-slate-400 vice-text backdrop-blur-sm
                         transition-all duration-300`,placeholder:" ",required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-cyan-400 transition-colors",children:d?l.jsx(VE,{size:20}):l.jsx(Fb,{size:20})})]})]}),l.jsxs("button",{type:"submit",disabled:h,className:"w-full vice-button h-14 text-lg font-bold relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-cyan-500/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),l.jsx("span",{children:"..."})]}):l.jsx("span",{children:e?"":""})})]})]}),l.jsxs("div",{className:"mt-8 text-center relative",children:[l.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent mb-6"}),l.jsx("p",{className:"vice-text-secondary mb-3",children:e?" ?":"  ?"}),l.jsxs("button",{onClick:()=>t(!e),className:`vice-text-accent hover:text-white font-semibold text-lg uppercase tracking-wide
                     hover:drop-shadow-lg transition-all duration-300 relative group`,children:[l.jsx("span",{className:"relative z-10",children:e?"":""}),l.jsx("div",{className:`absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-pink-500 to-cyan-500 
                          group-hover:w-full transition-all duration-300`})]})]})]})]})},Gf=({children:e})=>{const{user:t,loading:r}=Me();return r?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(sA,{})},iA=()=>{const{user:e}=Me();return m.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("    :",e.id);const t=I.channel("private-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`recipient_id=eq.${e.id}`},n=>{console.log("  :",n),jr.success("   !",{description:"    "})}).subscribe(),r=I.channel("profile-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${e.id}`},n=>{console.log(" :",n);const s=n.old,i=n.new;s.rank_title!==i.rank_title&&jr.success("  !",{description:`!   : ${i.rank_title}`})}).subscribe();return()=>{console.log("  "),I.removeChannel(t),I.removeChannel(r)}},[e==null?void 0:e.id]),null},oA=Pd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Ms:"button";return l.jsx(o,{className:fe(oA({variant:t,size:r,className:e})),ref:i,...s})});pe.displayName="Button";const aA=({activeTab:e,onTabChange:t})=>{const{signOut:r}=Me(),n=[{id:"profile",label:"",icon:Is,description:" "},{id:"ranking",label:"",icon:Sr,description:" "},{id:"teams",label:"",icon:Tr,description:" "},{id:"chat",label:"",icon:up,description:"  "},{id:"shop",label:"",icon:v0,description:" "},{id:"group_shop",label:" ",icon:v0,description:" "},{id:"gem_shop",label:"SECRET SHOP ",icon:Sl,description:" "}];return l.jsxs("div",{className:"w-80 vice-card h-full flex flex-col relative border-r-0 rounded-r-none",children:[l.jsx("div",{className:"p-8 border-b border-pink-500/20 relative",children:l.jsxs("div",{className:"relative text-center",children:[l.jsx("h1",{className:"vice-title text-2xl lg:text-3xl text-transparent bg-clip-text vice-gradient animate-pulse-neon mb-3",children:"SALES ARENA"}),l.jsx("p",{className:"vice-subtitle text-sm vice-text-accent",children:"  "}),l.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full animate-pulse"})]})}),l.jsx("nav",{className:"flex-1 p-6",children:l.jsx("div",{className:"space-y-3",children:n.map(s=>{const i=s.icon,o=e===s.id;return l.jsxs("button",{onClick:()=>t(s.id),className:`w-full flex items-center space-x-4 p-4 rounded-xl text-left vice-interactive group relative overflow-hidden ${o?"bg-gradient-to-r from-pink-500/20 to-cyan-500/20 border border-pink-500/50 shadow-lg":"border border-slate-500/30 hover:border-cyan-400/50 bg-slate-800/20 hover:bg-gradient-to-r hover:from-slate-600/20 hover:to-slate-500/20"}`,children:[o&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/10 to-cyan-500/10 rounded-xl blur-sm"}),l.jsx("div",{className:`p-3 rounded-lg relative z-10 ${o?"bg-gradient-to-r from-pink-500/30 to-cyan-500/30 border border-pink-400/50":"bg-slate-600/40 group-hover:bg-slate-500/60 border border-slate-500/50"}`,children:l.jsx(i,{size:20,className:o?"text-white drop-shadow-lg":"text-cyan-400 group-hover:text-white"})}),l.jsxs("div",{className:"flex-1 relative z-10",children:[l.jsx("div",{className:`vice-nav-text text-sm ${o?"text-white neon-text":"text-slate-100 group-hover:text-white"}`,children:s.label}),l.jsx("div",{className:`vice-text-secondary text-xs ${o?"text-cyan-200":"text-slate-400 group-hover:text-cyan-300"}`,children:s.description})]}),o&&l.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-pink-500 to-cyan-500 rounded-full animate-pulse"})]},s.id)})})}),l.jsx("div",{className:"p-6 border-t border-pink-500/20",children:l.jsxs(pe,{onClick:r,className:"w-full vice-button h-12 flex items-center justify-center space-x-3 text-sm font-semibold",children:[l.jsx(WE,{size:18}),l.jsx("span",{children:""})]})})]})},Gs=()=>{var u;const{user:e}=Me(),r=((u=mg())==null?void 0:u.playerId)||(e==null?void 0:e.id),n=vt(),{data:s,isLoading:i,error:o}=lt({queryKey:["profile"],queryFn:async()=>{const{data:d,error:f}=await I.from("profiles").select("*").eq("id",r).single();if(f)throw f;return d},enabled:!!(e!=null&&e.id)}),a=Qe({mutationFn:async d=>{if(!(e!=null&&e.id))throw new Error("  ");const{error:f}=await I.from("profiles").update(d).eq("id",e.id);if(f)throw f},onSuccess:()=>{n.invalidateQueries({queryKey:["profile"]})}}),c=()=>{n.invalidateQueries({queryKey:["profile"]})};return{profile:s,isLoading:i,error:o,updateProfile:a.mutateAsync,isProfileUpdating:a.isPending,refreshProfile:c}},Wd=e=>{const{user:t}=Me(),r=vt(),{data:n,isLoading:s}=lt({queryKey:["player-stages",e||(t==null?void 0:t.id)],queryFn:async()=>{const u=e||(t==null?void 0:t.id);if(!u)return[];const{data:d,error:f}=await I.from("player_stages").select("*").eq("user_id",u).order("created_at",{ascending:!1});if(f)throw console.error("  :",f),f;return d||[]},enabled:!!(e||t!=null&&t.id)}),i=Qe({mutationFn:async({targetUserId:u,stageName:d,points:f,description:h,teamId:v,verified:x})=>{if(!(t!=null&&t.id))throw new Error("  ");console.log(" :",{targetUserId:u,stageName:d,points:f,description:h});const{error:g}=await I.from("player_stages").insert({added_by:t.id,user_id:u,stage_name:d,description:h||null,points:f,team_id:v,verified:x}),{data:w}=await I.from("profiles").select("points").eq("id",u).single();if(await I.from("profiles").update({points:(w==null?void 0:w.points)+f}).eq("id",u),g)throw console.error("  :",g),g},onSuccess:()=>{r.invalidateQueries({queryKey:["player-stages"]}),r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["team-members"]})},onError:u=>{console.error("  addStageMutation:",u)}}),o=Qe({mutationFn:async u=>{console.log(" :",u);const{data:d}=await I.from("player_stages").select("*").eq("id",u).single(),{data:f}=await I.from("profiles").select("points").eq("id",d==null?void 0:d.user_id).single();await I.from("profiles").update({points:(f==null?void 0:f.points)-(d==null?void 0:d.points)}).eq("id",d==null?void 0:d.user_id);const{error:h}=await I.from("player_stages").delete().eq("id",u);if(h)throw console.error("  :",h),h},onSuccess:()=>{r.invalidateQueries({queryKey:["player-stages"]}),r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["team-members"]})},onError:u=>{console.error("  removeStageMutation:",u)}}),a=Qe({mutationFn:async({targetUserId:u,points:d,description:f})=>{if(!(t!=null&&t.id))throw new Error("  ");console.log(" :",{targetUserId:u,points:d,description:f});const{error:h}=await I.rpc("manage_user_points_by_leader",{target_user_id:u,points_to_add:-d,transaction_type_param:-d>0?"":"",description_param:f||null});if(h)throw console.error("  :",h),h},onSuccess:()=>{r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["team-members"]})},onError:u=>{console.error("  addPointsMutation:",u)}}),c=Qe({mutationFn:async({stageId:u,userId:d})=>{var f;try{const{error:h}=await I.from("player_stages").update({verified:!0}).eq("id",u),{data:v,error:x}=await I.from("profiles").select("*").eq("id",d).single(),{error:g}=await I.from("profiles").update({points:(v==null?void 0:v.points)+((f=n.find(w=>w.id===u))==null?void 0:f.points)}).eq("id",d);if(h||x||g)throw h||x||g;_i({title:"",description:" "})}catch(h){console.error("  :",h),_i({title:"",description:(h==null?void 0:h.message)||"   ",variant:"destructive"})}},onSuccess:()=>{r.invalidateQueries({queryKey:["player-stages"]}),r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["team-members"]})}});return{stages:n||[],isLoading:s,addStage:i.mutateAsync,removeStage:o.mutateAsync,addPoints:a.mutateAsync,approveStage:c.mutateAsync,isManaging:i.isPending||o.isPending||a.isPending}},sc=()=>{const{user:e}=Me(),t=vt(),{data:r,isLoading:n,error:s}=lt({queryKey:["user-teams",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];console.log("  :",e.id);const{data:u,error:d}=await I.from("team_members").select("id, role, joined_at, team_id, custom_rank").eq("user_id",e.id);if(d)throw console.error("    :",d),d;if(!u||u.length===0)return console.log("      "),[];const f=u.map(g=>g.team_id),{data:h,error:v}=await I.from("teams").select("id, name, description, created_at, created_by").in("id",f);if(v)throw console.error("    :",v),v;const x=u.map(g=>({...g,teams:(h==null?void 0:h.find(w=>w.id===g.team_id))||null}));return console.log(" :",x.length),x},enabled:!!(e!=null&&e.id),staleTime:6e4,refetchOnWindowFocus:!1,retry:2}),{data:i,isLoading:o,error:a}=lt({queryKey:["team-rankings"],queryFn:async()=>{console.log("  ...");const{data:u,error:d}=await I.rpc("get_team_rankings");if(console.log(JSON.stringify(u,null,2)),d)throw console.error("   :",d),d;return console.log("  :",(u==null?void 0:u.length)||0,u),u||[]},staleTime:3e5,refetchOnWindowFocus:!1,retry:2}),c=Qe({mutationFn:async({name:u,description:d})=>{if(console.log("===    ==="),console.log("  :",{name:u,description:d}),console.log(" :",e==null?void 0:e.id),!(e!=null&&e.id))throw console.error("  "),new Error("  ");const{data:f,error:h}=await I.auth.getSession();if(h||!f.session)throw console.error(" :",h),new Error(" ");console.log(" ");try{console.log("    teams...");const{data:v,error:x}=await I.from("teams").insert({name:u.trim(),description:(d==null?void 0:d.trim())||null,created_by:e.id}).select().single();if(x)throw console.error("  :",x),console.error(" :",{code:x.code,message:x.message,details:x.details,hint:x.hint}),x;if(!v)throw console.error("    -  "),new Error("   ");console.log("  :",v),console.log("    ...");const{error:g}=await I.from("team_members").insert({team_id:v.id,user_id:e.id,role:"leader"}),{error:w}=await I.from("profiles").update({team_id:v.id}).eq("id",e.id);if(g)throw console.error("  :",g),console.error("  :",{code:g.code,message:g.message,details:g.details,hint:g.hint}),g;return console.log("    "),console.log("===    ==="),v}catch(v){throw console.error("    :",v),v}},onSuccess:u=>{console.log("  ,  ...",u),t.invalidateQueries({queryKey:["user-teams"]}),t.invalidateQueries({queryKey:["team-rankings"]})},onError:u=>{console.error("    :",u)}});return{userTeams:r||[],teamRankings:i||[],teamsLoading:n,rankingsLoading:o,teamsError:s,rankingsError:a,createTeam:c.mutateAsync,isCreatingTeam:c.isPending}};var ic=e=>e.type==="checkbox",oi=e=>e instanceof Date,Ft=e=>e==null;const Y_=e=>typeof e=="object";var at=e=>!Ft(e)&&!Array.isArray(e)&&Y_(e)&&!oi(e),X_=e=>at(e)&&e.target?ic(e.target)?e.target.checked:e.target.value:e,lA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,J_=(e,t)=>e.has(lA(t)),cA=e=>{const t=e.constructor&&e.constructor.prototype;return at(t)&&t.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(bg&&(e instanceof Blob||e instanceof FileList))&&(r||at(e)))if(t=r?[]:{},!r&&!cA(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Qt(e[n]));else return e;return t}var Hd=e=>Array.isArray(e)?e.filter(Boolean):[],st=e=>e===void 0,H=(e,t,r)=>{if(!t||!at(e))return r;const n=Hd(t.split(/[,[\].]+?/)).reduce((s,i)=>Ft(s)?s:s[i],e);return st(n)||n===e?st(e[t])?r:e[t]:n},xr=e=>typeof e=="boolean",_g=e=>/^\w*$/.test(e),e1=e=>Hd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,t,r)=>{let n=-1;const s=_g(t)?[t]:e1(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let c=r;if(n!==o){const u=e[a];c=at(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const Vu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t1=D.createContext(null),Kd=()=>D.useContext(t1),uA=e=>{const{children:t,...r}=e;return D.createElement(t1.Provider,{value:r},t)};var r1=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==zr.all&&(t._proxyFormState[o]=!n||zr.all),r&&(r[o]=!0),e[o]}});return s},Yt=e=>at(e)&&!Object.keys(e).length,n1=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Yt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||zr.all))},nl=e=>Array.isArray(e)?e:[e],s1=(e,t,r)=>!e||!t||e===t||nl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function Sg(e){const t=D.useRef(e);t.current=e,D.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function dA(e){const t=Kd(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,a]=D.useState(r._formState),c=D.useRef(!0),u=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=D.useRef(s);return d.current=s,Sg({disabled:n,next:f=>c.current&&s1(d.current,f.name,i)&&n1(f,u.current,r._updateFormState)&&a({...r._formState,...f}),subject:r._subjects.state}),D.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),r1(o,r,u.current,!1)}var hn=e=>typeof e=="string",i1=(e,t,r,n,s)=>hn(e)?(n&&t.watch.add(e),H(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),H(r,i))):(n&&(t.watchAll=!0),r);function fA(e){const t=Kd(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},a=D.useRef(n);a.current=n,Sg({disabled:i,subject:r._subjects.values,next:d=>{s1(a.current,d.name,o)&&u(Qt(i1(a.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=D.useState(r._getWatch(n,s));return D.useEffect(()=>r._removeUnmounted()),c}function hA(e){const t=Kd(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=J_(s._names.array,r),a=fA({control:s,name:r,defaultValue:H(s._formValues,r,H(s._defaultValues,r,e.defaultValue)),exact:!0}),c=dA({control:s,name:r,exact:!0}),u=D.useRef(s.register(r,{...e.rules,value:a,...xr(e.disabled)?{disabled:e.disabled}:{}}));return D.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(h,v)=>{const x=H(s._fields,h);x&&x._f&&(x._f.mount=v)};if(f(r,!0),d){const h=Qt(H(s._options.defaultValues,r));De(s._defaultValues,r,h),st(H(s._formValues,r))&&De(s._formValues,r,h)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,i]),D.useEffect(()=>{H(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:H(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...xr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:D.useCallback(d=>u.current.onChange({target:{value:X_(d),name:r},type:Vu.CHANGE}),[r]),onBlur:D.useCallback(()=>u.current.onBlur({target:{value:H(s._formValues,r),name:r},type:Vu.BLUR}),[r,s]),ref:D.useCallback(d=>{const f=H(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!H(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!H(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!H(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!H(c.validatingFields,r)},error:{enumerable:!0,get:()=>H(c.errors,r)}})}}const pA=e=>e.render(hA(e));var o1=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ty=e=>({isOnSubmit:!e||e===zr.onSubmit,isOnBlur:e===zr.onBlur,isOnChange:e===zr.onChange,isOnAll:e===zr.all,isOnTouch:e===zr.onTouched}),ry=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const sl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=H(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(sl(a,t))break}else if(at(a)&&sl(a,t))break}}};var mA=(e,t,r)=>{const n=nl(H(e,r));return De(n,"root",t[r]),De(e,r,n),e},jg=e=>e.type==="file",Mn=e=>typeof e=="function",qu=e=>{if(!bg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ou=e=>hn(e),kg=e=>e.type==="radio",Wu=e=>e instanceof RegExp;const ny={value:!1,isValid:!1},sy={value:!0,isValid:!0};var a1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!st(e[0].attributes.value)?st(e[0].value)||e[0].value===""?sy:{value:e[0].value,isValid:!0}:sy:ny}return ny};const iy={isValid:!1,value:null};var l1=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,iy):iy;function oy(e,t,r="validate"){if(ou(e)||Array.isArray(e)&&e.every(ou)||xr(e)&&!e)return{type:r,message:ou(e)?e:"",ref:t}}var Ki=e=>at(e)&&!Wu(e)?e:{value:e,message:""},ay=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:a,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:v,name:x,valueAsNumber:g,mount:w,disabled:b}=e._f,p=H(t,x);if(!w||b)return{};const y=o?o[0]:i,_=T=>{n&&y.reportValidity&&(y.setCustomValidity(xr(T)?"":T||""),y.reportValidity())},S={},k=kg(i),N=ic(i),j=k||N,P=(g||jg(i))&&st(i.value)&&st(p)||qu(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,R=o1.bind(null,x,r,S),$=(T,z,L,Y=jn.maxLength,q=jn.minLength)=>{const re=T?z:L;S[x]={type:T?Y:q,message:re,ref:i,...R(T?Y:q,re)}};if(s?!Array.isArray(p)||!p.length:a&&(!j&&(P||Ft(p))||xr(p)&&!p||N&&!a1(o).isValid||k&&!l1(o).isValid)){const{value:T,message:z}=ou(a)?{value:!!a,message:a}:Ki(a);if(T&&(S[x]={type:jn.required,message:z,ref:y,...R(jn.required,z)},!r))return _(z),S}if(!P&&(!Ft(d)||!Ft(f))){let T,z;const L=Ki(f),Y=Ki(d);if(!Ft(p)&&!isNaN(p)){const q=i.valueAsNumber||p&&+p;Ft(L.value)||(T=q>L.value),Ft(Y.value)||(z=q<Y.value)}else{const q=i.valueAsDate||new Date(p),re=Z=>new Date(new Date().toDateString()+" "+Z),O=i.type=="time",F=i.type=="week";hn(L.value)&&p&&(T=O?re(p)>re(L.value):F?p>L.value:q>new Date(L.value)),hn(Y.value)&&p&&(z=O?re(p)<re(Y.value):F?p<Y.value:q<new Date(Y.value))}if((T||z)&&($(!!T,L.message,Y.message,jn.max,jn.min),!r))return _(S[x].message),S}if((c||u)&&!P&&(hn(p)||s&&Array.isArray(p))){const T=Ki(c),z=Ki(u),L=!Ft(T.value)&&p.length>+T.value,Y=!Ft(z.value)&&p.length<+z.value;if((L||Y)&&($(L,T.message,z.message),!r))return _(S[x].message),S}if(h&&!P&&hn(p)){const{value:T,message:z}=Ki(h);if(Wu(T)&&!p.match(T)&&(S[x]={type:jn.pattern,message:z,ref:i,...R(jn.pattern,z)},!r))return _(z),S}if(v){if(Mn(v)){const T=await v(p,t),z=oy(T,y);if(z&&(S[x]={...z,...R(jn.validate,z.message)},!r))return _(z.message),S}else if(at(v)){let T={};for(const z in v){if(!Yt(T)&&!r)break;const L=oy(await v[z](p,t),y,z);L&&(T={...L,...R(z,L.message)},_(L.message),r&&(S[x]=T))}if(!Yt(T)&&(S[x]={ref:y,...T},!r))return S}}return _(!0),S};function gA(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=st(e)?n++:e[t[n++]];return e}function vA(e){for(const t in e)if(e.hasOwnProperty(t)&&!st(e[t]))return!1;return!0}function ft(e,t){const r=Array.isArray(t)?t:_g(t)?[t]:e1(t),n=r.length===1?e:gA(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(at(n)&&Yt(n)||Array.isArray(n)&&vA(n))&&ft(e,r.slice(0,-1)),e}var Zf=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Fp=e=>Ft(e)||!Y_(e);function as(e,t){if(Fp(e)||Fp(t))return e===t;if(oi(e)&&oi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(oi(i)&&oi(o)||at(i)&&at(o)||Array.isArray(i)&&Array.isArray(o)?!as(i,o):i!==o)return!1}}return!0}var c1=e=>e.type==="select-multiple",yA=e=>kg(e)||ic(e),Yf=e=>qu(e)&&e.isConnected,u1=e=>{for(const t in e)if(Mn(e[t]))return!0;return!1};function Hu(e,t={}){const r=Array.isArray(e);if(at(e)||r)for(const n in e)Array.isArray(e[n])||at(e[n])&&!u1(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Hu(e[n],t[n])):Ft(e[n])||(t[n]=!0);return t}function d1(e,t,r){const n=Array.isArray(e);if(at(e)||n)for(const s in e)Array.isArray(e[s])||at(e[s])&&!u1(e[s])?st(t)||Fp(r[s])?r[s]=Array.isArray(e[s])?Hu(e[s],[]):{...Hu(e[s])}:d1(e[s],Ft(t)?{}:t[s],r[s]):r[s]=!as(e[s],t[s]);return r}var Na=(e,t)=>d1(e,t,Hu(t)),f1=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>st(e)?e:t?e===""?NaN:e&&+e:r&&hn(e)?new Date(e):n?n(e):e;function Xf(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return jg(t)?t.files:kg(t)?l1(e.refs).value:c1(t)?[...t.selectedOptions].map(({value:r})=>r):ic(t)?a1(e.refs).value:f1(st(t.value)?e.ref.value:t.value,e)}var xA=(e,t,r,n)=>{const s={};for(const i of e){const o=H(t,i);o&&De(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ca=e=>st(e)?e:Wu(e)?e.source:at(e)?Wu(e.value)?e.value.source:e.value:e;const ly="AsyncFunction";var wA=e=>(!e||!e.validate)&&!!(Mn(e.validate)&&e.validate.constructor.name===ly||at(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ly)),bA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function cy(e,t,r){const n=H(e,r);if(n||_g(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=H(t,i),a=H(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var _A=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,SA=(e,t)=>!Hd(H(e,t)).length&&ft(e,t);const jA={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function kA(e={}){let t={...jA,...e},r={submitCount:0,isDirty:!1,isLoading:Mn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=at(t.defaultValues)||at(t.values)?Qt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Zf(),array:Zf(),state:Zf()},h=ty(t.mode),v=ty(t.reValidateMode),x=t.criteriaMode===zr.all,g=C=>A=>{clearTimeout(u),u=setTimeout(C,A)},w=async C=>{if(!e.disabled&&(d.isValid||C)){const A=t.resolver?Yt((await j()).errors):await R(n,!0);A!==r.isValid&&f.state.next({isValid:A})}},b=(C,A)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach(M=>{M&&(A?De(r.validatingFields,M,A):ft(r.validatingFields,M))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Yt(r.validatingFields)}))},p=(C,A=[],M,Q,K=!0,V=!0)=>{if(Q&&M&&!e.disabled){if(o.action=!0,V&&Array.isArray(H(n,C))){const ie=M(H(n,C),Q.argA,Q.argB);K&&De(n,C,ie)}if(V&&Array.isArray(H(r.errors,C))){const ie=M(H(r.errors,C),Q.argA,Q.argB);K&&De(r.errors,C,ie),SA(r.errors,C)}if(d.touchedFields&&V&&Array.isArray(H(r.touchedFields,C))){const ie=M(H(r.touchedFields,C),Q.argA,Q.argB);K&&De(r.touchedFields,C,ie)}d.dirtyFields&&(r.dirtyFields=Na(s,i)),f.state.next({name:C,isDirty:T(C,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else De(i,C,A)},y=(C,A)=>{De(r.errors,C,A),f.state.next({errors:r.errors})},_=C=>{r.errors=C,f.state.next({errors:r.errors,isValid:!1})},S=(C,A,M,Q)=>{const K=H(n,C);if(K){const V=H(i,C,st(M)?H(s,C):M);st(V)||Q&&Q.defaultChecked||A?De(i,C,A?V:Xf(K._f)):Y(C,V),o.mount&&w()}},k=(C,A,M,Q,K)=>{let V=!1,ie=!1;const ye={name:C};if(!e.disabled){const tt=!!(H(n,C)&&H(n,C)._f&&H(n,C)._f.disabled);if(!M||Q){d.isDirty&&(ie=r.isDirty,r.isDirty=ye.isDirty=T(),V=ie!==ye.isDirty);const Ve=tt||as(H(s,C),A);ie=!!(!tt&&H(r.dirtyFields,C)),Ve||tt?ft(r.dirtyFields,C):De(r.dirtyFields,C,!0),ye.dirtyFields=r.dirtyFields,V=V||d.dirtyFields&&ie!==!Ve}if(M){const Ve=H(r.touchedFields,C);Ve||(De(r.touchedFields,C,M),ye.touchedFields=r.touchedFields,V=V||d.touchedFields&&Ve!==M)}V&&K&&f.state.next(ye)}return V?ye:{}},N=(C,A,M,Q)=>{const K=H(r.errors,C),V=d.isValid&&xr(A)&&r.isValid!==A;if(e.delayError&&M?(c=g(()=>y(C,M)),c(e.delayError)):(clearTimeout(u),c=null,M?De(r.errors,C,M):ft(r.errors,C)),(M?!as(K,M):K)||!Yt(Q)||V){const ie={...Q,...V&&xr(A)?{isValid:A}:{},errors:r.errors,name:C};r={...r,...ie},f.state.next(ie)}},j=async C=>{b(C,!0);const A=await t.resolver(i,t.context,xA(C||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(C),A},P=async C=>{const{errors:A}=await j(C);if(C)for(const M of C){const Q=H(A,M);Q?De(r.errors,M,Q):ft(r.errors,M)}else r.errors=A;return A},R=async(C,A,M={valid:!0})=>{for(const Q in C){const K=C[Q];if(K){const{_f:V,...ie}=K;if(V){const ye=a.array.has(V.name),tt=K._f&&wA(K._f);tt&&d.validatingFields&&b([Q],!0);const Ve=await ay(K,i,x,t.shouldUseNativeValidation&&!A,ye);if(tt&&d.validatingFields&&b([Q]),Ve[V.name]&&(M.valid=!1,A))break;!A&&(H(Ve,V.name)?ye?mA(r.errors,Ve,V.name):De(r.errors,V.name,Ve[V.name]):ft(r.errors,V.name))}!Yt(ie)&&await R(ie,A,M)}}return M.valid},$=()=>{for(const C of a.unMount){const A=H(n,C);A&&(A._f.refs?A._f.refs.every(M=>!Yf(M)):!Yf(A._f.ref))&&Se(C)}a.unMount=new Set},T=(C,A)=>!e.disabled&&(C&&A&&De(i,C,A),!as(W(),s)),z=(C,A,M)=>i1(C,a,{...o.mount?i:st(A)?s:hn(C)?{[C]:A}:A},M,A),L=C=>Hd(H(o.mount?i:s,C,e.shouldUnregister?H(s,C,[]):[])),Y=(C,A,M={})=>{const Q=H(n,C);let K=A;if(Q){const V=Q._f;V&&(!V.disabled&&De(i,C,f1(A,V)),K=qu(V.ref)&&Ft(A)?"":A,c1(V.ref)?[...V.ref.options].forEach(ie=>ie.selected=K.includes(ie.value)):V.refs?ic(V.ref)?V.refs.length>1?V.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(K)?!!K.find(ye=>ye===ie.value):K===ie.value)):V.refs[0]&&(V.refs[0].checked=!!K):V.refs.forEach(ie=>ie.checked=ie.value===K):jg(V.ref)?V.ref.value="":(V.ref.value=K,V.ref.type||f.values.next({name:C,values:{...i}})))}(M.shouldDirty||M.shouldTouch)&&k(C,K,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&Z(C)},q=(C,A,M)=>{for(const Q in A){const K=A[Q],V=`${C}.${Q}`,ie=H(n,V);(a.array.has(C)||at(K)||ie&&!ie._f)&&!oi(K)?q(V,K,M):Y(V,K,M)}},re=(C,A,M={})=>{const Q=H(n,C),K=a.array.has(C),V=Qt(A);De(i,C,V),K?(f.array.next({name:C,values:{...i}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:C,dirtyFields:Na(s,i),isDirty:T(C,V)})):Q&&!Q._f&&!Ft(V)?q(C,V,M):Y(C,V,M),ry(C,a)&&f.state.next({...r}),f.values.next({name:o.mount?C:void 0,values:{...i}})},O=async C=>{o.mount=!0;const A=C.target;let M=A.name,Q=!0;const K=H(n,M),V=()=>A.type?Xf(K._f):X_(C),ie=ye=>{Q=Number.isNaN(ye)||oi(ye)&&isNaN(ye.getTime())||as(ye,H(i,M,ye))};if(K){let ye,tt;const Ve=V(),Xr=C.type===Vu.BLUR||C.type===Vu.FOCUS_OUT,Kn=!bA(K._f)&&!t.resolver&&!H(r.errors,M)&&!K._f.deps||_A(Xr,H(r.touchedFields,M),r.isSubmitted,v,h),zi=ry(M,a,Xr);De(i,M,Ve),Xr?(K._f.onBlur&&K._f.onBlur(C),c&&c(0)):K._f.onChange&&K._f.onChange(C);const ha=k(M,Ve,Xr,!1),cc=!Yt(ha)||zi;if(!Xr&&f.values.next({name:M,type:C.type,values:{...i}}),Kn)return d.isValid&&(e.mode==="onBlur"?Xr&&w():w()),cc&&f.state.next({name:M,...zi?{}:ha});if(!Xr&&zi&&f.state.next({...r}),t.resolver){const{errors:pa}=await j([M]);if(ie(Ve),Q){const cf=cy(r.errors,n,M),Ui=cy(pa,n,cf.name||M);ye=Ui.error,M=Ui.name,tt=Yt(pa)}}else b([M],!0),ye=(await ay(K,i,x,t.shouldUseNativeValidation))[M],b([M]),ie(Ve),Q&&(ye?tt=!1:d.isValid&&(tt=await R(n,!0)));Q&&(K._f.deps&&Z(K._f.deps),N(M,tt,ye,ha))}},F=(C,A)=>{if(H(r.errors,A)&&C.focus)return C.focus(),1},Z=async(C,A={})=>{let M,Q;const K=nl(C);if(t.resolver){const V=await P(st(C)?C:K);M=Yt(V),Q=C?!K.some(ie=>H(V,ie)):M}else C?(Q=(await Promise.all(K.map(async V=>{const ie=H(n,V);return await R(ie&&ie._f?{[V]:ie}:ie)}))).every(Boolean),!(!Q&&!r.isValid)&&w()):Q=M=await R(n);return f.state.next({...!hn(C)||d.isValid&&M!==r.isValid?{}:{name:C},...t.resolver||!C?{isValid:M}:{},errors:r.errors}),A.shouldFocus&&!Q&&sl(n,F,C?K:a.mount),Q},W=C=>{const A={...o.mount?i:s};return st(C)?A:hn(C)?H(A,C):C.map(M=>H(A,M))},X=(C,A)=>({invalid:!!H((A||r).errors,C),isDirty:!!H((A||r).dirtyFields,C),error:H((A||r).errors,C),isValidating:!!H(r.validatingFields,C),isTouched:!!H((A||r).touchedFields,C)}),ve=C=>{C&&nl(C).forEach(A=>ft(r.errors,A)),f.state.next({errors:C?r.errors:{}})},Re=(C,A,M)=>{const Q=(H(n,C,{_f:{}})._f||{}).ref,K=H(r.errors,C)||{},{ref:V,message:ie,type:ye,...tt}=K;De(r.errors,C,{...tt,...A,ref:Q}),f.state.next({name:C,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&Q&&Q.focus&&Q.focus()},ct=(C,A)=>Mn(C)?f.values.subscribe({next:M=>C(z(void 0,A),M)}):z(C,A,!0),Se=(C,A={})=>{for(const M of C?nl(C):a.mount)a.mount.delete(M),a.array.delete(M),A.keepValue||(ft(n,M),ft(i,M)),!A.keepError&&ft(r.errors,M),!A.keepDirty&&ft(r.dirtyFields,M),!A.keepTouched&&ft(r.touchedFields,M),!A.keepIsValidating&&ft(r.validatingFields,M),!t.shouldUnregister&&!A.keepDefaultValue&&ft(s,M);f.values.next({values:{...i}}),f.state.next({...r,...A.keepDirty?{isDirty:T()}:{}}),!A.keepIsValid&&w()},se=({disabled:C,name:A,field:M,fields:Q,value:K})=>{if(xr(C)&&o.mount||C){const V=C?void 0:st(K)?Xf(M?M._f:H(Q,A)._f):K;De(i,A,V),k(A,V,!1,!1,!0)}},Ne=(C,A={})=>{let M=H(n,C);const Q=xr(A.disabled)||xr(e.disabled);return De(n,C,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:C}},name:C,mount:!0,...A}}),a.mount.add(C),M?se({field:M,disabled:xr(A.disabled)?A.disabled:e.disabled,name:C,value:A.value}):S(C,!0,A.value),{...Q?{disabled:A.disabled||e.disabled}:{},...t.progressive?{required:!!A.required,min:Ca(A.min),max:Ca(A.max),minLength:Ca(A.minLength),maxLength:Ca(A.maxLength),pattern:Ca(A.pattern)}:{},name:C,onChange:O,onBlur:O,ref:K=>{if(K){Ne(C,A),M=H(n,C);const V=st(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ie=yA(V),ye=M._f.refs||[];if(ie?ye.find(tt=>tt===V):V===M._f.ref)return;De(n,C,{_f:{...M._f,...ie?{refs:[...ye.filter(Yf),V,...Array.isArray(H(s,C))?[{}]:[]],ref:{type:V.type,name:C}}:{ref:V}}}),S(C,!1,void 0,V)}else M=H(n,C,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(J_(a.array,C)&&o.action)&&a.unMount.add(C)}}},Be=()=>t.shouldFocusError&&sl(n,F,a.mount),Ee=C=>{xr(C)&&(f.state.next({disabled:C}),sl(n,(A,M)=>{const Q=H(n,M);Q&&(A.disabled=Q._f.disabled||C,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(K=>{K.disabled=Q._f.disabled||C}))},0,!1))},Ae=(C,A)=>async M=>{let Q;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let K=Qt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:V,values:ie}=await j();r.errors=V,K=ie}else await R(n);if(ft(r.errors,"root"),Yt(r.errors)){f.state.next({errors:{}});try{await C(K,M)}catch(V){Q=V}}else A&&await A({...r.errors},M),Be(),setTimeout(Be);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(r.errors)&&!Q,submitCount:r.submitCount+1,errors:r.errors}),Q)throw Q},Te=(C,A={})=>{H(n,C)&&(st(A.defaultValue)?re(C,Qt(H(s,C))):(re(C,A.defaultValue),De(s,C,Qt(A.defaultValue))),A.keepTouched||ft(r.touchedFields,C),A.keepDirty||(ft(r.dirtyFields,C),r.isDirty=A.defaultValue?T(C,Qt(H(s,C))):T()),A.keepError||(ft(r.errors,C),d.isValid&&w()),f.state.next({...r}))},yt=(C,A={})=>{const M=C?Qt(C):s,Q=Qt(M),K=Yt(C),V=K?s:Q;if(A.keepDefaultValues||(s=M),!A.keepValues){if(A.keepDirtyValues){const ie=new Set([...a.mount,...Object.keys(Na(s,i))]);for(const ye of Array.from(ie))H(r.dirtyFields,ye)?De(V,ye,H(i,ye)):re(ye,H(V,ye))}else{if(bg&&st(C))for(const ie of a.mount){const ye=H(n,ie);if(ye&&ye._f){const tt=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(qu(tt)){const Ve=tt.closest("form");if(Ve){Ve.reset();break}}}}n={}}i=e.shouldUnregister?A.keepDefaultValues?Qt(s):{}:Qt(V),f.array.next({values:{...V}}),f.values.next({values:{...V}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:K?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!as(C,s)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:K?{}:A.keepDirtyValues?A.keepDefaultValues&&i?Na(s,i):r.dirtyFields:A.keepDefaultValues&&C?Na(s,C):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Nt=(C,A)=>yt(Mn(C)?C(i):C,A);return{control:{register:Ne,unregister:Se,getFieldState:X,handleSubmit:Ae,setError:Re,_executeSchema:j,_getWatch:z,_getDirty:T,_updateValid:w,_removeUnmounted:$,_updateFieldArray:p,_updateDisabledField:se,_getFieldArray:L,_reset:yt,_resetDefaultValues:()=>Mn(t.defaultValues)&&t.defaultValues().then(C=>{Nt(C,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_disableForm:Ee,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(C){o=C},get _defaultValues(){return s},get _names(){return a},set _names(C){a=C},get _formState(){return r},set _formState(C){r=C},get _options(){return t},set _options(C){t={...t,...C}}},trigger:Z,register:Ne,handleSubmit:Ae,watch:ct,setValue:re,getValues:W,reset:Nt,resetField:Te,clearErrors:ve,unregister:Se,setError:Re,setFocus:(C,A={})=>{const M=H(n,C),Q=M&&M._f;if(Q){const K=Q.refs?Q.refs[0]:Q.ref;K.focus&&(K.focus(),A.shouldSelect&&K.select())}},getFieldState:X}}function NA(e={}){const t=D.useRef(),r=D.useRef(),[n,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:Mn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Mn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...kA(e),formState:n});const i=t.current.control;return i._options=e,Sg({subject:i._subjects.state,next:o=>{n1(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{e.values&&!as(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),D.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),D.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),D.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=r1(n,i),t.current}const uy=(e,t,r)=>{if(e&&"reportValidity"in e){const n=H(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},h1=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?uy(n.ref,r,e):n.refs&&n.refs.forEach(s=>uy(s,r,e))}},CA=(e,t)=>{t.shouldUseNativeValidation&&h1(e,t);const r={};for(const n in e){const s=H(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(EA(t.names||Object.keys(e),n)){const o=Object.assign({},H(r,n));De(o,"root",i),De(r,n,o)}else De(r,n,i)}return r},EA=(e,t)=>e.some(r=>r.startsWith(t+"."));var TA=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=o1(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},PA=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&h1({},i),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:CA(TA(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Pe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var zp;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(zp||(zp={}));const ee=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=e=>{switch(typeof e){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(e)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(e)?ee.array:e===null?ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ee.promise:typeof Map<"u"&&e instanceof Map?ee.map:typeof Set<"u"&&e instanceof Set?ee.set:typeof Date<"u"&&e instanceof Date?ee.date:ee.object;default:return ee.unknown}},B=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RA=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class fr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof fr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}fr.create=e=>new fr(e);const Go=(e,t)=>{let r;switch(e.code){case B.invalid_type:e.received===ee.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pe.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pe.joinValues(e.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pe.joinValues(e.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${Pe.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case B.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case B.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pe.assertNever(e)}return{message:r}};let p1=Go;function AA(e){p1=e}function Ku(){return p1}const Qu=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},OA=[];function G(e,t){const r=Ku(),n=Qu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Go?void 0:Go].filter(s=>!!s)});e.common.issues.push(n)}class At{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ue;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return At.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ue;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ue=Object.freeze({status:"aborted"}),fo=e=>({status:"dirty",value:e}),Ut=e=>({status:"valid",value:e}),Up=e=>e.status==="aborted",Bp=e=>e.status==="dirty",El=e=>e.status==="valid",Tl=e=>typeof Promise<"u"&&e instanceof Promise;function Gu(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function m1(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var La,$a;class vn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dy=(e,t)=>{if(El(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fr(e.common.issues);return this._error=r,this._error}}};function me(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:a.defaultError}},description:s}}class _e{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ls(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new At,ctx:{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Tl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},i=this._parseSync({data:t,path:s.path,parent:s});return dy(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Tl(s)?s:Promise.resolve(s));return dy(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:B.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Hr({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return gn.create(this,this._def)}nullable(){return Fs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qr.create(this,this._def)}promise(){return Yo.create(this,this._def)}or(t){return Ol.create([this,t],this._def)}and(t){return Ml.create(this,t,this._def)}transform(t){return new Hr({...me(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Fl({...me(this._def),innerType:this,defaultValue:r,typeName:ce.ZodDefault})}brand(){return new Ng({typeName:ce.ZodBranded,type:this,...me(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new zl({...me(this._def),innerType:this,catchValue:r,typeName:ce.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return oc.create(this,t)}readonly(){return Ul.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MA=/^c[^\s-]{8,}$/i,IA=/^[0-9a-z]+$/,DA=/^[0-9A-HJKMNP-TV-Z]{26}$/,LA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$A=/^[a-z0-9_-]{21}$/i,FA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jf;const BA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VA=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,qA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,g1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WA=new RegExp(`^${g1}$`);function v1(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function HA(e){return new RegExp(`^${v1(e)}$`)}function y1(e){let t=`${g1}T${v1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function KA(e,t){return!!((t==="v4"||!t)&&BA.test(e)||(t==="v6"||!t)&&VA.test(e))}class Ur extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ee.string){const i=this._getOrReturnCtx(t);return G(i,{code:B.invalid_type,expected:ee.string,received:i.parsedType}),ue}const n=new At;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?G(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")zA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"email",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Jf||(Jf=new RegExp(UA,"u")),Jf.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"emoji",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")LA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"uuid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$A.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"nanoid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")MA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")IA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid2",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")DA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ulid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),G(s,{validation:"url",code:B.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"regex",code:B.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?y1(i).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?WA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?HA(i).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:B.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?FA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"duration",code:B.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?KA(t.data,i.version)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ip",code:B.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?qA.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"base64",code:B.invalid_string,message:i.message}),n.dirty()):Pe.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:B.invalid_string,...ne.errToObj(n)})}_addCheck(t){return new Ur({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ne.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ne.errToObj(r)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ur.create=e=>{var t;return new Ur({checks:[],typeName:ce.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...me(e)})};function QA(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ds extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ee.number){const i=this._getOrReturnCtx(t);return G(i,{code:B.invalid_type,expected:ee.number,received:i.parsedType}),ue}let n;const s=new At;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?QA(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:B.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new Ds({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new Ds({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ds.create=e=>new Ds({checks:[],typeName:ce.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...me(e)});class Ls extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ee.bigint){const i=this._getOrReturnCtx(t);return G(i,{code:B.invalid_type,expected:ee.bigint,received:i.parsedType}),ue}let n;const s=new At;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),G(n,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new Ls({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new Ls({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ls.create=e=>{var t;return new Ls({checks:[],typeName:ce.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...me(e)})};class Pl extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ee.boolean){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.boolean,received:n.parsedType}),ue}return Ut(t.data)}}Pl.create=e=>new Pl({typeName:ce.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...me(e)});class Ni extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ee.date){const i=this._getOrReturnCtx(t);return G(i,{code:B.invalid_type,expected:ee.date,received:i.parsedType}),ue}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return G(i,{code:B.invalid_date}),ue}const n=new At;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Pe.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ni({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ni.create=e=>new Ni({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ce.ZodDate,...me(e)});class Zu extends _e{_parse(t){if(this._getType(t)!==ee.symbol){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.symbol,received:n.parsedType}),ue}return Ut(t.data)}}Zu.create=e=>new Zu({typeName:ce.ZodSymbol,...me(e)});class Rl extends _e{_parse(t){if(this._getType(t)!==ee.undefined){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.undefined,received:n.parsedType}),ue}return Ut(t.data)}}Rl.create=e=>new Rl({typeName:ce.ZodUndefined,...me(e)});class Al extends _e{_parse(t){if(this._getType(t)!==ee.null){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.null,received:n.parsedType}),ue}return Ut(t.data)}}Al.create=e=>new Al({typeName:ce.ZodNull,...me(e)});class Zo extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return Ut(t.data)}}Zo.create=e=>new Zo({typeName:ce.ZodAny,...me(e)});class gi extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ut(t.data)}}gi.create=e=>new gi({typeName:ce.ZodUnknown,...me(e)});class Bn extends _e{_parse(t){const r=this._getOrReturnCtx(t);return G(r,{code:B.invalid_type,expected:ee.never,received:r.parsedType}),ue}}Bn.create=e=>new Bn({typeName:ce.ZodNever,...me(e)});class Yu extends _e{_parse(t){if(this._getType(t)!==ee.undefined){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.void,received:n.parsedType}),ue}return Ut(t.data)}}Yu.create=e=>new Yu({typeName:ce.ZodVoid,...me(e)});class qr extends _e{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ee.array)return G(r,{code:B.invalid_type,expected:ee.array,received:r.parsedType}),ue;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(G(r,{code:o?B.too_big:B.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(G(r,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(G(r,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new vn(r,o,r.path,a)))).then(o=>At.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new vn(r,o,r.path,a)));return At.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new qr({...this._def,minLength:{value:t,message:ne.toString(r)}})}max(t,r){return new qr({...this._def,maxLength:{value:t,message:ne.toString(r)}})}length(t,r){return new qr({...this._def,exactLength:{value:t,message:ne.toString(r)}})}nonempty(t){return this.min(1,t)}}qr.create=(e,t)=>new qr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...me(t)});function Xi(e){if(e instanceof Ze){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=gn.create(Xi(n))}return new Ze({...e._def,shape:()=>t})}else return e instanceof qr?new qr({...e._def,type:Xi(e.element)}):e instanceof gn?gn.create(Xi(e.unwrap())):e instanceof Fs?Fs.create(Xi(e.unwrap())):e instanceof yn?yn.create(e.items.map(t=>Xi(t))):e}class Ze extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ee.object){const u=this._getOrReturnCtx(t);return G(u,{code:B.invalid_type,expected:ee.object,received:u.parsedType}),ue}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bn&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bn){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(G(s,{code:B.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>At.mergeObjectSync(n,u)):At.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new Ze({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ne.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ze({...this._def,unknownKeys:"strip"})}passthrough(){return new Ze({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ze({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ze({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ce.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ze({...this._def,catchall:t})}pick(t){const r={};return Pe.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ze({...this._def,shape:()=>r})}omit(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ze({...this._def,shape:()=>r})}deepPartial(){return Xi(this)}partial(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ze({...this._def,shape:()=>r})}required(t){const r={};return Pe.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof gn;)i=i._def.innerType;r[n]=i}}),new Ze({...this._def,shape:()=>r})}keyof(){return x1(Pe.objectKeys(this.shape))}}Ze.create=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strip",catchall:Bn.create(),typeName:ce.ZodObject,...me(t)});Ze.strictCreate=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strict",catchall:Bn.create(),typeName:ce.ZodObject,...me(t)});Ze.lazycreate=(e,t)=>new Ze({shape:e,unknownKeys:"strip",catchall:Bn.create(),typeName:ce.ZodObject,...me(t)});class Ol extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new fr(a.ctx.common.issues));return G(r,{code:B.invalid_union,unionErrors:o}),ue}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new fr(c));return G(r,{code:B.invalid_union,unionErrors:a}),ue}}get options(){return this._def.options}}Ol.create=(e,t)=>new Ol({options:e,typeName:ce.ZodUnion,...me(t)});const Cn=e=>e instanceof Dl?Cn(e.schema):e instanceof Hr?Cn(e.innerType()):e instanceof Ll?[e.value]:e instanceof $s?e.options:e instanceof $l?Pe.objectValues(e.enum):e instanceof Fl?Cn(e._def.innerType):e instanceof Rl?[void 0]:e instanceof Al?[null]:e instanceof gn?[void 0,...Cn(e.unwrap())]:e instanceof Fs?[null,...Cn(e.unwrap())]:e instanceof Ng||e instanceof Ul?Cn(e.unwrap()):e instanceof zl?Cn(e._def.innerType):[];class Qd extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.object)return G(r,{code:B.invalid_type,expected:ee.object,received:r.parsedType}),ue;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=Cn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Qd({typeName:ce.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...me(n)})}}function Vp(e,t){const r=ls(e),n=ls(t);if(e===t)return{valid:!0,data:e};if(r===ee.object&&n===ee.object){const s=Pe.objectKeys(t),i=Pe.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const c=Vp(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===ee.array&&n===ee.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],c=Vp(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ee.date&&n===ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ml extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Up(i)||Up(o))return ue;const a=Vp(i.value,o.value);return a.valid?((Bp(i)||Bp(o))&&r.dirty(),{status:r.value,value:a.data}):(G(n,{code:B.invalid_intersection_types}),ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ml.create=(e,t,r)=>new Ml({left:e,right:t,typeName:ce.ZodIntersection,...me(r)});class yn extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.array)return G(n,{code:B.invalid_type,expected:ee.array,received:n.parsedType}),ue;if(n.data.length<this._def.items.length)return G(n,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new vn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>At.mergeArray(r,o)):At.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new yn({...this._def,rest:t})}}yn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yn({items:e,typeName:ce.ZodTuple,rest:null,...me(t)})};class Il extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.object)return G(n,{code:B.invalid_type,expected:ee.object,received:n.parsedType}),ue;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new vn(n,a,n.path,a)),value:o._parse(new vn(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?At.mergeObjectAsync(r,s):At.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _e?new Il({keyType:t,valueType:r,typeName:ce.ZodRecord,...me(n)}):new Il({keyType:Ur.create(),valueType:t,typeName:ce.ZodRecord,...me(r)})}}class Xu extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.map)return G(n,{code:B.invalid_type,expected:ee.map,received:n.parsedType}),ue;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new vn(n,a,n.path,[u,"key"])),value:i._parse(new vn(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ue;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ue;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}}}}Xu.create=(e,t,r)=>new Xu({valueType:t,keyType:e,typeName:ce.ZodMap,...me(r)});class Ci extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.set)return G(n,{code:B.invalid_type,expected:ee.set,received:n.parsedType}),ue;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(G(n,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(G(n,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ue;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>i._parse(new vn(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,r){return new Ci({...this._def,minSize:{value:t,message:ne.toString(r)}})}max(t,r){return new Ci({...this._def,maxSize:{value:t,message:ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ci.create=(e,t)=>new Ci({valueType:e,minSize:null,maxSize:null,typeName:ce.ZodSet,...me(t)});class jo extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.function)return G(r,{code:B.invalid_type,expected:ee.function,received:r.parsedType}),ue;function n(a,c){return Qu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ku(),Go].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:c}})}function s(a,c){return Qu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ku(),Go].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Yo){const a=this;return Ut(async function(...c){const u=new fr([]),d=await a._def.args.parseAsync(c,i).catch(v=>{throw u.addIssue(n(c,v)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const a=this;return Ut(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new fr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new fr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new jo({...this._def,args:yn.create(t).rest(gi.create())})}returns(t){return new jo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new jo({args:t||yn.create([]).rest(gi.create()),returns:r||gi.create(),typeName:ce.ZodFunction,...me(n)})}}class Dl extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dl.create=(e,t)=>new Dl({getter:e,typeName:ce.ZodLazy,...me(t)});class Ll extends _e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return G(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ll.create=(e,t)=>new Ll({value:e,typeName:ce.ZodLiteral,...me(t)});function x1(e,t){return new $s({values:e,typeName:ce.ZodEnum,...me(t)})}class $s extends _e{constructor(){super(...arguments),La.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return G(r,{expected:Pe.joinValues(n),received:r.parsedType,code:B.invalid_type}),ue}if(Gu(this,La)||m1(this,La,new Set(this._def.values)),!Gu(this,La).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return G(r,{received:r.data,code:B.invalid_enum_value,options:n}),ue}return Ut(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $s.create(t,{...this._def,...r})}exclude(t,r=this._def){return $s.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}La=new WeakMap;$s.create=x1;class $l extends _e{constructor(){super(...arguments),$a.set(this,void 0)}_parse(t){const r=Pe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ee.string&&n.parsedType!==ee.number){const s=Pe.objectValues(r);return G(n,{expected:Pe.joinValues(s),received:n.parsedType,code:B.invalid_type}),ue}if(Gu(this,$a)||m1(this,$a,new Set(Pe.getValidEnumValues(this._def.values))),!Gu(this,$a).has(t.data)){const s=Pe.objectValues(r);return G(n,{received:n.data,code:B.invalid_enum_value,options:s}),ue}return Ut(t.data)}get enum(){return this._def.values}}$a=new WeakMap;$l.create=(e,t)=>new $l({values:e,typeName:ce.ZodNativeEnum,...me(t)});class Yo extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.promise&&r.common.async===!1)return G(r,{code:B.invalid_type,expected:ee.promise,received:r.parsedType}),ue;const n=r.parsedType===ee.promise?r.data:Promise.resolve(r.data);return Ut(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Yo.create=(e,t)=>new Yo({type:e,typeName:ce.ZodPromise,...me(t)});class Hr extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{G(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ue;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?ue:c.status==="dirty"||r.value==="dirty"?fo(c.value):c});{if(r.value==="aborted")return ue;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ue:a.status==="dirty"||r.value==="dirty"?fo(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ue:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ue:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!El(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>El(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Pe.assertNever(s)}}Hr.create=(e,t,r)=>new Hr({schema:e,typeName:ce.ZodEffects,effect:t,...me(r)});Hr.createWithPreprocess=(e,t,r)=>new Hr({schema:t,effect:{type:"preprocess",transform:e},typeName:ce.ZodEffects,...me(r)});class gn extends _e{_parse(t){return this._getType(t)===ee.undefined?Ut(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gn.create=(e,t)=>new gn({innerType:e,typeName:ce.ZodOptional,...me(t)});class Fs extends _e{_parse(t){return this._getType(t)===ee.null?Ut(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fs.create=(e,t)=>new Fs({innerType:e,typeName:ce.ZodNullable,...me(t)});class Fl extends _e{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Fl.create=(e,t)=>new Fl({innerType:e,typeName:ce.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...me(t)});class zl extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Tl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new fr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}zl.create=(e,t)=>new zl({innerType:e,typeName:ce.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...me(t)});class Ju extends _e{_parse(t){if(this._getType(t)!==ee.nan){const n=this._getOrReturnCtx(t);return G(n,{code:B.invalid_type,expected:ee.nan,received:n.parsedType}),ue}return{status:"valid",value:t.data}}}Ju.create=e=>new Ju({typeName:ce.ZodNaN,...me(e)});const GA=Symbol("zod_brand");class Ng extends _e{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class oc extends _e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ue:i.status==="dirty"?(r.dirty(),fo(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ue:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new oc({in:t,out:r,typeName:ce.ZodPipeline})}}class Ul extends _e{_parse(t){const r=this._def.innerType._parse(t),n=s=>(El(s)&&(s.value=Object.freeze(s.value)),s);return Tl(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ul.create=(e,t)=>new Ul({innerType:e,typeName:ce.ZodReadonly,...me(t)});function w1(e,t={},r){return e?Zo.create().superRefine((n,s)=>{var i,o;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):Zo.create()}const ZA={object:Ze.lazycreate};var ce;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ce||(ce={}));const YA=(e,t={message:`Input not instance of ${e.name}`})=>w1(r=>r instanceof e,t),b1=Ur.create,_1=Ds.create,XA=Ju.create,JA=Ls.create,S1=Pl.create,eO=Ni.create,tO=Zu.create,rO=Rl.create,nO=Al.create,sO=Zo.create,iO=gi.create,oO=Bn.create,aO=Yu.create,lO=qr.create,cO=Ze.create,uO=Ze.strictCreate,dO=Ol.create,fO=Qd.create,hO=Ml.create,pO=yn.create,mO=Il.create,gO=Xu.create,vO=Ci.create,yO=jo.create,xO=Dl.create,wO=Ll.create,bO=$s.create,_O=$l.create,SO=Yo.create,fy=Hr.create,jO=gn.create,kO=Fs.create,NO=Hr.createWithPreprocess,CO=oc.create,EO=()=>b1().optional(),TO=()=>_1().optional(),PO=()=>S1().optional(),RO={string:e=>Ur.create({...e,coerce:!0}),number:e=>Ds.create({...e,coerce:!0}),boolean:e=>Pl.create({...e,coerce:!0}),bigint:e=>Ls.create({...e,coerce:!0}),date:e=>Ni.create({...e,coerce:!0})},AO=ue;var Ea=Object.freeze({__proto__:null,defaultErrorMap:Go,setErrorMap:AA,getErrorMap:Ku,makeIssue:Qu,EMPTY_PATH:OA,addIssueToContext:G,ParseStatus:At,INVALID:ue,DIRTY:fo,OK:Ut,isAborted:Up,isDirty:Bp,isValid:El,isAsync:Tl,get util(){return Pe},get objectUtil(){return zp},ZodParsedType:ee,getParsedType:ls,ZodType:_e,datetimeRegex:y1,ZodString:Ur,ZodNumber:Ds,ZodBigInt:Ls,ZodBoolean:Pl,ZodDate:Ni,ZodSymbol:Zu,ZodUndefined:Rl,ZodNull:Al,ZodAny:Zo,ZodUnknown:gi,ZodNever:Bn,ZodVoid:Yu,ZodArray:qr,ZodObject:Ze,ZodUnion:Ol,ZodDiscriminatedUnion:Qd,ZodIntersection:Ml,ZodTuple:yn,ZodRecord:Il,ZodMap:Xu,ZodSet:Ci,ZodFunction:jo,ZodLazy:Dl,ZodLiteral:Ll,ZodEnum:$s,ZodNativeEnum:$l,ZodPromise:Yo,ZodEffects:Hr,ZodTransformer:Hr,ZodOptional:gn,ZodNullable:Fs,ZodDefault:Fl,ZodCatch:zl,ZodNaN:Ju,BRAND:GA,ZodBranded:Ng,ZodPipeline:oc,ZodReadonly:Ul,custom:w1,Schema:_e,ZodSchema:_e,late:ZA,get ZodFirstPartyTypeKind(){return ce},coerce:RO,any:sO,array:lO,bigint:JA,boolean:S1,date:eO,discriminatedUnion:fO,effect:fy,enum:bO,function:yO,instanceof:YA,intersection:hO,lazy:xO,literal:wO,map:gO,nan:XA,nativeEnum:_O,never:oO,null:nO,nullable:kO,number:_1,object:cO,oboolean:PO,onumber:TO,optional:jO,ostring:EO,pipeline:CO,preprocess:NO,promise:SO,record:mO,set:vO,strictObject:uO,string:b1,symbol:tO,transformer:fy,tuple:pO,undefined:rO,union:dO,unknown:iO,void:aO,NEVER:AO,ZodIssueCode:B,quotelessJson:RA,ZodError:fr}),OO=ox.useId||(()=>{}),MO=0;function Ps(e){const[t,r]=m.useState(OO());return gt(()=>{e||r(n=>n??String(MO++))},[e]),e||(t?`radix-${t}`:"")}var eh="focusScope.autoFocusOnMount",th="focusScope.autoFocusOnUnmount",hy={bubbles:!1,cancelable:!0},IO="FocusScope",Cg=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=m.useState(null),u=it(s),d=it(i),f=m.useRef(null),h=Ie(t,g=>c(g)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(y){if(v.paused||!a)return;const _=y.target;a.contains(_)?f.current=_:es(f.current,{select:!0})},w=function(y){if(v.paused||!a)return;const _=y.relatedTarget;_!==null&&(a.contains(_)||es(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&es(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const p=new MutationObserver(b);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),p.disconnect()}}},[n,a,v.paused]),m.useEffect(()=>{if(a){my.add(v);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(eh,hy);a.addEventListener(eh,u),a.dispatchEvent(b),b.defaultPrevented||(DO(UO(j1(a)),{select:!0}),document.activeElement===g&&es(a))}return()=>{a.removeEventListener(eh,u),setTimeout(()=>{const b=new CustomEvent(th,hy);a.addEventListener(th,d),a.dispatchEvent(b),b.defaultPrevented||es(g??document.body,{select:!0}),a.removeEventListener(th,d),my.remove(v)},0)}}},[a,u,d,v]);const x=m.useCallback(g=>{if(!r&&!n||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const p=g.currentTarget,[y,_]=LO(p);y&&_?!g.shiftKey&&b===_?(g.preventDefault(),r&&es(y,{select:!0})):g.shiftKey&&b===y&&(g.preventDefault(),r&&es(_,{select:!0})):b===p&&g.preventDefault()}},[r,n,v.paused]);return l.jsx(de.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Cg.displayName=IO;function DO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(es(n,{select:t}),document.activeElement!==r)return}function LO(e){const t=j1(e),r=py(t,e),n=py(t.reverse(),e);return[r,n]}function j1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function py(e,t){for(const r of e)if(!$O(r,{upTo:t}))return r}function $O(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FO(e){return e instanceof HTMLInputElement&&"select"in e}function es(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FO(e)&&t&&e.select()}}var my=zO();function zO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gy(e,t),e.unshift(t)},remove(t){var r;e=gy(e,t),(r=e[0])==null||r.resume()}}}function gy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function UO(e){return e.filter(t=>t.tagName!=="A")}var rh=0;function k1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vy()),document.body.insertAdjacentElement("beforeend",e[1]??vy()),rh++,()=>{rh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rh--}},[])}function vy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cn=function(){return cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cn.apply(this,arguments)};function N1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function BO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var au="right-scroll-bar-position",lu="width-before-scroll-bar",VO="with-scroll-bars-hidden",qO="--removed-body-scroll-bar-size";function nh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WO(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var HO=typeof window<"u"?m.useLayoutEffect:m.useEffect,yy=new WeakMap;function KO(e,t){var r=WO(null,function(n){return e.forEach(function(s){return nh(s,n)})});return HO(function(){var n=yy.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||nh(a,null)}),i.forEach(function(a){s.has(a)||nh(a,o)})}yy.set(r,e)},[e]),r}function QO(e){return e}function GO(e,t){t===void 0&&(t=QO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function ZO(e){e===void 0&&(e={});var t=GO(null);return t.options=cn({async:!0,ssr:!1},e),t}var C1=function(e){var t=e.sideCar,r=N1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,cn({},r))};C1.isSideCarExport=!0;function YO(e,t){return e.useMedium(t),C1}var E1=ZO(),sh=function(){},Gd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:sh,onWheelCapture:sh,onTouchMoveCapture:sh}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noIsolation,x=e.inert,g=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,p=e.gapMode,y=N1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=KO([r,t]),k=cn(cn({},y),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:E1,removeScrollBar:u,shards:f,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:p}),o?m.cloneElement(m.Children.only(a),cn(cn({},k),{ref:S})):m.createElement(b,cn({},k,{className:c,ref:S}),a))});Gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gd.classNames={fullWidth:lu,zeroRight:au};var XO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XO();return t&&e.setAttribute("nonce",t),e}function eM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=JO())&&(eM(t,r),tM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nM=function(){var e=rM();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T1=function(){var e=nM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},sM={left:0,top:0,right:0,gap:0},ih=function(e){return parseInt(e||"",10)||0},iM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ih(r),ih(n),ih(s)]},oM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sM;var t=iM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aM=T1(),ko="data-scroll-locked",lM=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(VO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(au,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(au," .").concat(au,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(qO,": ").concat(a,`px;
  }
`)},xy=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},cM=function(){m.useEffect(function(){return document.body.setAttribute(ko,(xy()+1).toString()),function(){var e=xy()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},uM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;cM();var i=m.useMemo(function(){return oM(s)},[s]);return m.createElement(aM,{styles:lM(i,!t,s,r?"":"!important")})},qp=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return qp=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{qp=!1}var Qi=qp?{passive:!1}:!1,dM=function(e){return e.tagName==="TEXTAREA"},P1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dM(e)&&r[t]==="visible")},fM=function(e){return P1(e,"overflowY")},hM=function(e){return P1(e,"overflowX")},wy=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=R1(e,n);if(s){var i=A1(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},R1=function(e,t){return e==="v"?fM(t):hM(t)},A1=function(e,t){return e==="v"?pM(t):mM(t)},gM=function(e,t){return e==="h"&&t==="rtl"?-1:1},vM=function(e,t,r,n,s){var i=gM(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),u=!1,d=o>0,f=0,h=0;do{var v=A1(e,a),x=v[0],g=v[1],w=v[2],b=g-w-i*x;(x||b)&&R1(e,a)&&(f+=b,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},by=function(e){return[e.deltaX,e.deltaY]},_y=function(e){return e&&"current"in e?e.current:e},yM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wM=0,Gi=[];function bM(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(wM++)[0],i=m.useState(T1)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=BO([e.lockRef.current],(e.shards||[]).map(_y),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Fc(g),p=r.current,y="deltaX"in g?g.deltaX:p[0]-b[0],_="deltaY"in g?g.deltaY:p[1]-b[1],S,k=g.target,N=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&k.type==="range")return!1;var j=wy(N,k);if(!j)return!0;if(j?S=N:(S=N==="v"?"h":"v",j=wy(N,k)),!j)return!1;if(!n.current&&"changedTouches"in g&&(y||_)&&(n.current=S),!S)return!0;var P=n.current||S;return vM(P,w,g,P==="h"?y:_,!0)},[]),c=m.useCallback(function(g){var w=g;if(!(!Gi.length||Gi[Gi.length-1]!==i)){var b="deltaY"in w?by(w):Fc(w),p=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&yM(S.delta,b)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var y=(o.current.shards||[]).map(_y).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=y.length>0?a(w,y[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,b,p){var y={name:g,delta:w,target:b,should:p,shadowParent:_M(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),d=m.useCallback(function(g){r.current=Fc(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,by(g),g.target,a(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,Fc(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return Gi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Qi),document.addEventListener("touchmove",c,Qi),document.addEventListener("touchstart",d,Qi),function(){Gi=Gi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Qi),document.removeEventListener("touchmove",c,Qi),document.removeEventListener("touchstart",d,Qi)}},[]);var v=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:xM(s)}):null,v?m.createElement(uM,{gapMode:e.gapMode}):null)}function _M(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SM=YO(E1,bM);var Eg=m.forwardRef(function(e,t){return m.createElement(Gd,cn({},e,{ref:t,sideCar:SM}))});Eg.classNames=Gd.classNames;var jM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zi=new WeakMap,zc=new WeakMap,Uc={},oh=0,O1=function(e){return e&&(e.host||O1(e.parentNode))},kM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=O1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},NM=function(e,t,r,n){var s=kM(t,Array.isArray(e)?e:[e]);Uc[r]||(Uc[r]=new WeakMap);var i=Uc[r],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(n),x=v!==null&&v!=="false",g=(Zi.get(h)||0)+1,w=(i.get(h)||0)+1;Zi.set(h,g),i.set(h,w),o.push(h),g===1&&x&&zc.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),a.clear(),oh++,function(){o.forEach(function(f){var h=Zi.get(f)-1,v=i.get(f)-1;Zi.set(f,h),i.set(f,v),h||(zc.has(f)||f.removeAttribute(n),zc.delete(f)),v||f.removeAttribute(r)}),oh--,oh||(Zi=new WeakMap,Zi=new WeakMap,zc=new WeakMap,Uc={})}},M1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=jM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),NM(n,s,r,"aria-hidden")):function(){return null}},Tg="Dialog",[I1,e$]=Li(Tg),[CM,Zr]=I1(Tg),D1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),c=m.useRef(null),[u=!1,d]=Si({prop:n,defaultProp:s,onChange:i});return l.jsx(CM,{scope:t,triggerRef:a,contentRef:c,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};D1.displayName=Tg;var L1="DialogTrigger",$1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zr(L1,r),i=Ie(t,s.triggerRef);return l.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ag(s.open),...n,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});$1.displayName=L1;var Pg="DialogPortal",[EM,F1]=I1(Pg,{forceMount:void 0}),z1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Zr(Pg,t);return l.jsx(EM,{scope:t,forceMount:r,children:m.Children.map(n,o=>l.jsx(Gr,{present:r||i.open,children:l.jsx(Nd,{asChild:!0,container:s,children:o})}))})};z1.displayName=Pg;var ed="DialogOverlay",U1=m.forwardRef((e,t)=>{const r=F1(ed,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Zr(ed,e.__scopeDialog);return i.modal?l.jsx(Gr,{present:n||i.open,children:l.jsx(TM,{...s,ref:t})}):null});U1.displayName=ed;var TM=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zr(ed,r);return l.jsx(Eg,{as:Ms,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(de.div,{"data-state":Ag(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ei="DialogContent",B1=m.forwardRef((e,t)=>{const r=F1(Ei,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Zr(Ei,e.__scopeDialog);return l.jsx(Gr,{present:n||i.open,children:i.modal?l.jsx(PM,{...s,ref:t}):l.jsx(RM,{...s,ref:t})})});B1.displayName=Ei;var PM=m.forwardRef((e,t)=>{const r=Zr(Ei,e.__scopeDialog),n=m.useRef(null),s=Ie(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return M1(i)},[]),l.jsx(V1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),RM=m.forwardRef((e,t)=>{const r=Zr(Ei,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return l.jsx(V1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),V1=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Zr(Ei,r),c=m.useRef(null),u=Ie(t,c);return k1(),l.jsxs(l.Fragment,{children:[l.jsx(Cg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(kd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ag(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(AM,{titleId:a.titleId}),l.jsx(MM,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Rg="DialogTitle",q1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zr(Rg,r);return l.jsx(de.h2,{id:s.titleId,...n,ref:t})});q1.displayName=Rg;var W1="DialogDescription",H1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zr(W1,r);return l.jsx(de.p,{id:s.descriptionId,...n,ref:t})});H1.displayName=W1;var K1="DialogClose",Q1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Zr(K1,r);return l.jsx(de.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});Q1.displayName=K1;function Ag(e){return e?"open":"closed"}var G1="DialogTitleWarning",[t$,Z1]=rE(G1,{contentName:Ei,titleName:Rg,docsSlug:"dialog"}),AM=({titleId:e})=>{const t=Z1(G1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},OM="DialogDescriptionWarning",MM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z1(OM).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IM=D1,DM=$1,LM=z1,Y1=U1,X1=B1,J1=q1,eS=H1,$M=Q1;const sr=IM,Ti=DM,FM=LM,tS=m.forwardRef(({className:e,...t},r)=>l.jsx(Y1,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tS.displayName=Y1.displayName;const Bt=m.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(FM,{children:[l.jsx(tS,{}),l.jsxs(X1,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs($M,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ag,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bt.displayName=X1.displayName;const Vt=({className:e,...t})=>l.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vt.displayName="DialogHeader";const rS=({className:e,...t})=>l.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rS.displayName="DialogFooter";const qt=m.forwardRef(({className:e,...t},r)=>l.jsx(J1,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));qt.displayName=J1.displayName;const zM=m.forwardRef(({className:e,...t},r)=>l.jsx(eS,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));zM.displayName=eS.displayName;const Xe=m.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Xe.displayName="Input";const Yr=m.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yr.displayName="Textarea";var UM="Label",nS=m.forwardRef((e,t)=>l.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nS.displayName=UM;var sS=nS;const BM=Pd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),un=m.forwardRef(({className:e,...t},r)=>l.jsx(sS,{ref:r,className:fe(BM(),e),...t}));un.displayName=sS.displayName;const VM=uA,iS=m.createContext({}),Bc=({...e})=>l.jsx(iS.Provider,{value:{name:e.name},children:l.jsx(pA,{...e})}),Zd=()=>{const e=m.useContext(iS),t=m.useContext(oS),{getFieldState:r,formState:n}=Kd(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},oS=m.createContext({}),Fa=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return l.jsx(oS.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:fe("space-y-2",e),...t})})});Fa.displayName="FormItem";const za=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Zd();return l.jsx(un,{ref:r,className:fe(n&&"text-destructive",e),htmlFor:s,...t})});za.displayName="FormLabel";const Ua=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Zd();return l.jsx(Ms,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Ua.displayName="FormControl";const qM=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Zd();return l.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",e),...t})});qM.displayName="FormDescription";const Ba=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=Zd(),o=s?String(s==null?void 0:s.message):t;return o?l.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",e),...r,children:o}):null});Ba.displayName="FormMessage";const WM=Ea.object({full_name:Ea.string().max(100,"    100 ").optional(),username:Ea.string().min(1," ").max(50,"    50 "),status:Ea.string().max(200,"    200 ").optional(),avatar_id:Ea.number().min(1).max(12)}),HM=["","","","","","","","","","","",""],KM=({isOpen:e,onClose:t,profile:r,onProfileUpdate:n})=>{const{user:s}=Me(),[i,o]=m.useState(!1),a=NA({resolver:PA(WM),defaultValues:{full_name:r.full_name||"",username:r.username,status:r.status||"",avatar_id:r.avatar_id||1}}),c=async u=>{if(s!=null&&s.id){o(!0);try{const{error:d}=await I.from("profiles").update({full_name:u.full_name||null,username:u.username,status:u.status||null,avatar_id:u.avatar_id,updated_at:new Date().toISOString()}).eq("id",s.id);if(d){console.error("  :",d);return}n(),t()}catch(d){console.error("   :",d)}finally{o(!1)}}};return l.jsx(sr,{open:e,onOpenChange:t,children:l.jsxs(Bt,{className:"sm:max-w-[500px] bg-gray-900 border-pink-500/30",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "})}),l.jsx(VM,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-6",children:[l.jsx(Bc,{control:a.control,name:"avatar_id",render:({field:u})=>l.jsxs(Fa,{children:[l.jsx(za,{className:"text-cyan-300 font-mono",children:""}),l.jsx(Ua,{children:l.jsx("div",{className:"grid grid-cols-6 gap-3",children:HM.map((d,f)=>l.jsx("button",{type:"button",onClick:()=>u.onChange(f+1),className:`w-12 h-12 text-2xl rounded-lg border-2 transition-all ${u.value===f+1?"border-pink-500 bg-pink-500/20 scale-110":"border-cyan-400/30 bg-gray-800 hover:border-pink-400/50"}`,children:d},f))})}),l.jsx(Ba,{})]})}),l.jsx(Bc,{control:a.control,name:"full_name",render:({field:u})=>l.jsxs(Fa,{children:[l.jsx(za,{className:"text-cyan-300 font-mono",children:" "}),l.jsx(Ua,{children:l.jsx(Xe,{...u,className:"bg-gray-800 border-cyan-400/30 text-white font-mono",placeholder:"   "})}),l.jsx(Ba,{})]})}),l.jsx(Bc,{control:a.control,name:"username",render:({field:u})=>l.jsxs(Fa,{children:[l.jsx(za,{className:"text-cyan-300 font-mono",children:""}),l.jsx(Ua,{children:l.jsx(Xe,{...u,className:"bg-gray-800 border-cyan-400/30 text-white font-mono",placeholder:"  "})}),l.jsx(Ba,{})]})}),l.jsx(Bc,{control:a.control,name:"status",render:({field:u})=>l.jsxs(Fa,{children:[l.jsx(za,{className:"text-cyan-300 font-mono",children:""}),l.jsx(Ua,{children:l.jsx(Yr,{...u,className:"bg-gray-800 border-cyan-400/30 text-white font-mono resize-none",placeholder:"  ...",rows:3})}),l.jsx(Ba,{})]})}),l.jsxs(rS,{className:"gap-3",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:t,className:"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700",children:""}),l.jsx(pe,{type:"submit",disabled:i,className:"vice-button font-mono tracking-wider",children:i?"...":""})]})]})})]})})};function QM(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||a,w=m.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,x=m.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,GM(s,...t)]}function GM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ZM=m.createContext(void 0);function Yd(e){const t=m.useContext(ZM);return e||t||"ltr"}var ah="rovingFocusGroup.onEntryFocus",YM={bubbles:!1,cancelable:!0},Xd="RovingFocusGroup",[Wp,aS,XM]=eg(Xd),[JM,lS]=QM(Xd,[XM]),[eI,tI]=JM(Xd),cS=m.forwardRef((e,t)=>l.jsx(Wp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Wp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(rI,{...e,ref:t})})}));cS.displayName=Xd;var rI=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),v=Ie(t,h),x=Yd(i),[g=null,w]=Si({prop:o,defaultProp:a,onChange:c}),[b,p]=m.useState(!1),y=it(u),_=aS(r),S=m.useRef(!1),[k,N]=m.useState(0);return m.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(ah,y),()=>j.removeEventListener(ah,y)},[y]),l.jsx(eI,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(j=>w(j),[w]),onItemShiftTab:m.useCallback(()=>p(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>N(j=>j-1),[]),children:l.jsx(de.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{S.current=!0}),onFocus:oe(e.onFocus,j=>{const P=!S.current;if(j.target===j.currentTarget&&P&&!b){const R=new CustomEvent(ah,YM);if(j.currentTarget.dispatchEvent(R),!R.defaultPrevented){const $=_().filter(q=>q.focusable),T=$.find(q=>q.active),z=$.find(q=>q.id===g),Y=[T,z,...$].filter(Boolean).map(q=>q.ref.current);fS(Y,d)}}S.current=!1}),onBlur:oe(e.onBlur,()=>p(!1))})})}),uS="RovingFocusGroupItem",dS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,a=Ps(),c=i||a,u=tI(uS,r),d=u.currentTabStopId===c,f=aS(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),l.jsx(Wp.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(de.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:oe(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:oe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=iI(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(p=>p.focusable).map(p=>p.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const p=b.indexOf(x.currentTarget);b=u.loop?oI(b,p+1):b.slice(p+1)}setTimeout(()=>fS(b))}})})})});dS.displayName=uS;var nI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iI(e,t,r){const n=sI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nI[n]}function fS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function oI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var aI=cS,lI=dS,Og="Tabs",[cI,r$]=Li(Og,[lS]),hS=lS(),[uI,Mg]=cI(Og),pS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Yd(a),[f,h]=Si({prop:n,onChange:s,defaultProp:i});return l.jsx(uI,{scope:r,baseId:Ps(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(de.div,{dir:d,"data-orientation":o,...u,ref:t})})});pS.displayName=Og;var mS="TabsList",gS=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Mg(mS,r),o=hS(r);return l.jsx(aI,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});gS.displayName=mS;var vS="TabsTrigger",yS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Mg(vS,r),a=hS(r),c=bS(o.baseId,n),u=_S(o.baseId,n),d=n===o.value;return l.jsx(lI,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:oe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:oe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});yS.displayName=vS;var xS="TabsContent",wS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=Mg(xS,r),c=bS(a.baseId,n),u=_S(a.baseId,n),d=n===a.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Gr,{present:s||d,children:({present:h})=>l.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});wS.displayName=xS;function bS(e,t){return`${e}-trigger-${t}`}function _S(e,t){return`${e}-content-${t}`}var dI=pS,SS=gS,jS=yS,kS=wS;const fI=dI,NS=m.forwardRef(({className:e,...t},r)=>l.jsx(SS,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));NS.displayName=SS.displayName;const cu=m.forwardRef(({className:e,...t},r)=>l.jsx(jS,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));cu.displayName=jS.displayName;const uu=m.forwardRef(({className:e,...t},r)=>l.jsx(kS,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));uu.displayName=kS.displayName;const hI=Pd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ig({className:e,variant:t,...r}){return l.jsx("div",{className:fe(hI({variant:t}),e),...r})}function le({className:e,...t}){return l.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",e),...t})}const pI=()=>{const{user:e}=Me(),t=vt(),{toast:r}=Ot(),{data:n,isLoading:s}=lt({queryKey:["friends",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:f,error:h}=await I.from("friendships").select(`
          id,
          status,
          created_at,
          user_id,
          friend_id,
          friend:profiles!friendships_friend_id_fkey(
            id,
            username,
            full_name,
            avatar_id,
            rank_title,
            points
          ),
          user:profiles!friendships_user_id_fkey(
            id,
            username,
            full_name,
            avatar_id,
            rank_title,
            points
          )
        `).or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(h)throw h;return f.map(v=>{const x=v.user_id===e.id;return{id:v.id,status:v.status,created_at:v.created_at,friend:x?v.friend:v.user}})},enabled:!!(e!=null&&e.id)}),{data:i,isLoading:o}=lt({queryKey:["friend-requests",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:f,error:h}=await I.from("friendships").select(`
          id,
          status,
          created_at,
          user_id,
          user:profiles!friendships_user_id_fkey(
            id,
            username,
            full_name,
            avatar_id,
            rank_title,
            points
          )
        `).eq("friend_id",e.id).eq("status","pending");if(h)throw h;return f},enabled:!!(e!=null&&e.id)}),a=Qe({mutationFn:async f=>{if(!(e!=null&&e.id))throw new Error("  ");const{error:h}=await I.from("friendships").insert({user_id:e.id,friend_id:f,status:"pending"});if(h)throw h},onSuccess:()=>{r({title:" !",description:"    "}),t.invalidateQueries({queryKey:["friend-requests"]})},onError:f=>{r({title:"",description:f.message||"   ",variant:"destructive"})}}),c=Qe({mutationFn:async f=>{const{error:h}=await I.from("friendships").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",f);if(h)throw h},onSuccess:()=>{r({title:" !",description:"  "}),t.invalidateQueries({queryKey:["friends",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["friend-requests",e==null?void 0:e.id]})},onError:f=>{r({title:"",description:f.message||"   ",variant:"destructive"})}}),u=Qe({mutationFn:async f=>{const{error:h}=await I.from("friendships").delete().eq("id",f);if(h)throw h},onSuccess:()=>{r({title:" ",description:"   "}),t.invalidateQueries({queryKey:["friend-requests",e==null?void 0:e.id]})},onError:f=>{r({title:"",description:f.message||"   ",variant:"destructive"})}}),d=Qe({mutationFn:async f=>{const{error:h}=await I.from("friendships").delete().eq("id",f);if(h)throw h},onSuccess:()=>{r({title:" ",description:"    "}),t.invalidateQueries({queryKey:["friends",e==null?void 0:e.id]})},onError:f=>{r({title:"",description:f.message||"    ",variant:"destructive"})}});return{friends:n,incomingRequests:i,friendsLoading:s,requestsLoading:o,sendFriendRequest:a.mutateAsync,acceptFriendRequest:c.mutateAsync,rejectFriendRequest:u.mutateAsync,removeFriend:d.mutateAsync,isSending:a.isPending,isAccepting:c.isPending,isRejecting:u.isPending,isRemoving:d.isPending}};function Hp(e,[t,r]){return Math.min(r,Math.max(t,e))}function mI(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Dg="ScrollArea",[CS,n$]=Li(Dg),[gI,Pr]=CS(Dg),ES=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[v,x]=m.useState(null),[g,w]=m.useState(null),[b,p]=m.useState(0),[y,_]=m.useState(0),[S,k]=m.useState(!1),[N,j]=m.useState(!1),P=Ie(t,$=>c($)),R=Yd(s);return l.jsx(gI,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:j,onCornerWidthChange:p,onCornerHeightChange:_,children:l.jsx(de.div,{dir:R,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});ES.displayName=Dg;var TS="ScrollAreaViewport",PS=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:i,...o}=e,a=Pr(TS,r),c=m.useRef(null),u=Ie(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),l.jsx(de.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:NI({asChild:s,children:n},d=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});PS.displayName=TS;var wn="ScrollAreaScrollbar",Lg=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(wn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(vI,{...n,ref:t,forceMount:r}):s.type==="scroll"?l.jsx(yI,{...n,ref:t,forceMount:r}):s.type==="auto"?l.jsx(RS,{...n,ref:t,forceMount:r}):s.type==="always"?l.jsx($g,{...n,ref:t}):null});Lg.displayName=wn;var vI=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(wn,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Gr,{present:r||i,children:l.jsx(RS,{"data-state":i?"visible":"hidden",...n,ref:t})})}),yI=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(wn,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ef(()=>c("SCROLL_END"),100),[a,c]=mI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const v=u[d];f!==v&&(c("SCROLL"),o()),f=v};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),l.jsx(Gr,{present:r||a!=="hidden",children:l.jsx($g,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),RS=m.forwardRef((e,t)=>{const r=Pr(wn,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),a=e.orientation==="horizontal",c=ef(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?u:d)}},10);return Xo(r.viewport,c),Xo(r.content,c),l.jsx(Gr,{present:n||i,children:l.jsx($g,{"data-state":i?"visible":"hidden",...s,ref:t})})}),$g=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Pr(wn,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=DS(a.viewport,a.content),d={...n,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,v){return jI(h,o.current,a,v)}return r==="horizontal"?l.jsx(xI,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,v=Sy(h,a,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?l.jsx(wI,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,v=Sy(h,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),xI=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Pr(wn,e.__scopeScrollArea),[o,a]=m.useState(),c=m.useRef(null),u=Ie(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(OS,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),$S(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rd(o.paddingLeft),paddingEnd:rd(o.paddingRight)}})}})}),wI=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Pr(wn,e.__scopeScrollArea),[o,a]=m.useState(),c=m.useRef(null),u=Ie(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(OS,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),$S(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rd(o.paddingTop),paddingEnd:rd(o.paddingBottom)}})}})}),[bI,AS]=CS(wn),OS=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,v=Pr(wn,r),[x,g]=m.useState(null),w=Ie(t,P=>g(P)),b=m.useRef(null),p=m.useRef(""),y=v.viewport,_=n.content-n.viewport,S=it(d),k=it(c),N=ef(f,10);function j(P){if(b.current){const R=P.clientX-b.current.left,$=P.clientY-b.current.top;u({x:R,y:$})}}return m.useEffect(()=>{const P=R=>{const $=R.target;(x==null?void 0:x.contains($))&&S(R,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[y,x,_,S]),m.useEffect(k,[n,k]),Xo(x,N),Xo(v.content,N),l.jsx(bI,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:it(i),onThumbPointerUp:it(o),onThumbPositionChange:k,onThumbPointerDown:it(a),children:l.jsx(de.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:oe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=x.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),j(P))}),onPointerMove:oe(e.onPointerMove,j),onPointerUp:oe(e.onPointerUp,P=>{const R=P.target;R.hasPointerCapture(P.pointerId)&&R.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=p.current,v.viewport&&(v.viewport.style.scrollBehavior=""),b.current=null})})})}),td="ScrollAreaThumb",MS=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=AS(td,e.__scopeScrollArea);return l.jsx(Gr,{present:r||s.hasThumb,children:l.jsx(_I,{ref:t,...n})})}),_I=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Pr(td,r),o=AS(td,r),{onThumbPositionChange:a}=o,c=Ie(t,f=>o.onThumbChange(f)),u=m.useRef(),d=ef(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const v=kI(f,a);u.current=v,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,a]),l.jsx(de.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(e.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),x=f.clientX-v.left,g=f.clientY-v.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:oe(e.onPointerUp,o.onThumbPointerUp)})});MS.displayName=td;var Fg="ScrollAreaCorner",IS=m.forwardRef((e,t)=>{const r=Pr(Fg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(SI,{...e,ref:t}):null});IS.displayName=Fg;var SI=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Pr(Fg,r),[i,o]=m.useState(0),[a,c]=m.useState(0),u=!!(i&&a);return Xo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Xo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(de.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rd(e){return e?parseInt(e,10):0}function DS(e,t){const r=e/t;return isNaN(r)?0:r}function Jd(e){const t=DS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jI(e,t,r,n="ltr"){const s=Jd(r),i=s/2,o=t||i,a=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return LS([c,u],f)(e)}function Sy(e,t,r="ltr"){const n=Jd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Hp(e,c);return LS([0,o],[0,a])(u)}function LS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $S(e,t){return e>0&&e<t}var kI=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ef(e,t){const r=it(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xo(e,t){const r=it(t);gt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function NI(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var FS=ES,CI=PS,EI=IS;const nd=m.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(FS,{ref:n,className:fe("relative overflow-hidden",e),...r,children:[l.jsx(CI,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(zS,{}),l.jsx(EI,{})]}));nd.displayName=FS.displayName;const zS=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(Lg,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(MS,{className:"relative flex-1 rounded-full bg-border"})}));zS.displayName=Lg.displayName;const TI=()=>{const{user:e}=Me(),t=vt(),{toast:r}=Ot(),{data:n,isLoading:s}=lt({queryKey:["private-messages",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await I.from("private_messages").select(`
          id,
          subject,
          message,
          is_read,
          created_at,
          sender_id,
          recipient_id,
          sender:profiles!private_messages_sender_id_fkey(
            id,
            username,
            full_name,
            avatar_id
          ),
          recipient:profiles!private_messages_recipient_id_fkey(
            id,
            username,
            full_name,
            avatar_id
          )
        `).or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw d;return u},enabled:!!(e!=null&&e.id)}),{data:i,isLoading:o}=lt({queryKey:["conversations",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id)||!n)return[];const u=new Map;return n.forEach(d=>{const f=d.sender_id===e.id,h=f?d.recipient_id:d.sender_id,v=f?d.recipient:d.sender;u.has(h)||u.set(h,{partnerId:h,partner:v,lastMessage:d,unreadCount:0,messages:[]});const x=u.get(h);x.messages.push(d),!d.is_read&&!f&&x.unreadCount++,new Date(d.created_at)>new Date(x.lastMessage.created_at)&&(x.lastMessage=d)}),Array.from(u.values()).sort((d,f)=>new Date(f.lastMessage.created_at).getTime()-new Date(d.lastMessage.created_at).getTime())},enabled:!!(e!=null&&e.id)&&!!n}),a=Qe({mutationFn:async({recipientId:u,message:d})=>{if(!(e!=null&&e.id))throw new Error("  ");const{error:f}=await I.from("private_messages").insert({sender_id:e.id,recipient_id:u,message:d.trim()});if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["private-messages"]}),t.invalidateQueries({queryKey:["conversations"]})},onError:u=>{r({title:"",description:u.message||"   ",variant:"destructive"})}}),c=Qe({mutationFn:async u=>{const{error:d}=await I.from("private_messages").update({is_read:!0}).in("id",u).eq("recipient_id",e==null?void 0:e.id);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["private-messages"]}),t.invalidateQueries({queryKey:["conversations"]})}});return{messages:n,conversations:i,messagesLoading:s,conversationsLoading:o,sendMessage:a.mutateAsync,markAsRead:c.mutateAsync,isSending:a.isPending,isMarkingRead:c.isPending}};function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function PI(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Vc=43200,jy=1440;let RI={};function US(){return RI}function ky(e,t){var a,c,u,d;const r=US(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ny(e){const t=bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function du(e,t){const r=bt(e),n=bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function AI(e){return PI(e,Date.now())}function OI(e,t){const r=bt(e),n=bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function MI(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function II(e,t){return+bt(e)-+bt(t)}function DI(e){const t=bt(e);return t.setHours(23,59,59,999),t}function LI(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $I(e){const t=bt(e);return+DI(t)==+LI(t)}function FI(e,t){const r=bt(e),n=bt(t),s=du(r,n),i=Math.abs(OI(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let a=du(r,n)===-s;$I(bt(e))&&i===1&&du(e,n)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function zI(e,t,r){const n=II(e,t)/1e3;return MI(r==null?void 0:r.roundingMethod)(n)}const UI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BI=(e,t,r)=>{let n;const s=UI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function No(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const VI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HI={date:No({formats:VI,defaultWidth:"full"}),time:No({formats:qI,defaultWidth:"full"}),dateTime:No({formats:WI,defaultWidth:"full"})},KI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QI=(e,t,r,n)=>KI[e];function dn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const GI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},r3={ordinalNumber:t3,era:dn({values:GI,defaultWidth:"wide"}),quarter:dn({values:ZI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dn({values:YI,defaultWidth:"wide"}),day:dn({values:XI,defaultWidth:"wide"}),dayPeriod:dn({values:JI,defaultWidth:"wide",formattingValues:e3,defaultFormattingWidth:"wide"})};function fn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?s3(a,f=>f.test(o)):n3(a,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function n3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function s3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function BS(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const i3=/^(\d+)(th|st|nd|rd)?/i,o3=/\d+/i,a3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l3={any:[/^b/i,/^(a|c)/i]},c3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u3={any:[/1/i,/2/i,/3/i,/4/i]},d3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v3={ordinalNumber:BS({matchPattern:i3,parsePattern:o3,valueCallback:e=>parseInt(e,10)}),era:fn({matchPatterns:a3,defaultMatchWidth:"wide",parsePatterns:l3,defaultParseWidth:"any"}),quarter:fn({matchPatterns:c3,defaultMatchWidth:"wide",parsePatterns:u3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fn({matchPatterns:d3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),day:fn({matchPatterns:h3,defaultMatchWidth:"wide",parsePatterns:p3,defaultParseWidth:"any"}),dayPeriod:fn({matchPatterns:m3,defaultMatchWidth:"any",parsePatterns:g3,defaultParseWidth:"any"})},y3={code:"en-US",formatDistance:BI,formatLong:HI,formatRelative:QI,localize:r3,match:v3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x3(e,t,r){const n=US(),s=(r==null?void 0:r.locale)??n.locale??y3,i=2520,o=du(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=bt(t),u=bt(e)):(c=bt(e),u=bt(t));const d=zI(u,c),f=(Ny(u)-Ny(c))/1e3,h=Math.round((d-f)/60);let v;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<jy){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,a)}else{if(h<i)return s.formatDistance("xDays",1,a);if(h<Vc){const x=Math.round(h/jy);return s.formatDistance("xDays",x,a)}else if(h<Vc*2)return v=Math.round(h/Vc),s.formatDistance("aboutXMonths",v,a)}if(v=FI(u,c),v<12){const x=Math.round(h/Vc);return s.formatDistance("xMonths",x,a)}else{const x=v%12,g=Math.trunc(v/12);return x<3?s.formatDistance("aboutXYears",g,a):x<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function Kp(e,t){return x3(e,AI(e),t)}function Cy(e,t,r){const n=ky(e,r),s=ky(t,r);return+n==+s}function Ta(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,n=t%100;return r===1&&n!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(n<10||n>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Mt(e){return(t,r)=>r!=null&&r.addSuffix?r.comparison&&r.comparison>0?e.future?Ta(e.future,t):" "+Ta(e.regular,t):e.past?Ta(e.past,t):Ta(e.regular,t)+" ":Ta(e.regular,t)}const w3={lessThanXSeconds:Mt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:Mt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Mt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Mt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},b3=(e,t,r)=>w3[e](t,r),_3={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},S3={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},j3={any:"{{date}}, {{time}}"},k3={date:No({formats:_3,defaultWidth:"full"}),time:No({formats:S3,defaultWidth:"full"}),dateTime:No({formats:j3,defaultWidth:"any"})},zg=["","","","","","",""];function N3(e){const t=zg[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function Ey(e){const t=zg[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function C3(e){const t=zg[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const E3={lastWeek:(e,t,r)=>{const n=e.getDay();return Cy(e,t,r)?Ey(n):N3(n)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,r)=>{const n=e.getDay();return Cy(e,t,r)?Ey(n):C3(n)},other:"P"},T3=(e,t,r,n)=>{const s=E3[e];return typeof s=="function"?s(t,r,n):s},P3={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},R3={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},A3={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},O3={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},M3={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},I3={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},D3={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},L3=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;let s;return n==="date"?s="-":n==="week"||n==="minute"||n==="second"?s="-":s="-",r+s},$3={ordinalNumber:L3,era:dn({values:P3,defaultWidth:"wide"}),quarter:dn({values:R3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dn({values:A3,defaultWidth:"wide",formattingValues:O3,defaultFormattingWidth:"wide"}),day:dn({values:M3,defaultWidth:"wide"}),dayPeriod:dn({values:I3,defaultWidth:"any",formattingValues:D3,defaultFormattingWidth:"wide"})},F3=/^(\d+)(-?(||||||||||))?/i,z3=/\d+/i,U3={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},B3={any:[/^/i,/^/i]},V3={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},q3={any:[/1/i,/2/i,/3/i,/4/i]},W3={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},H3={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},K3={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},Q3={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},G3={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},Z3={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},Y3={ordinalNumber:BS({matchPattern:F3,parsePattern:z3,valueCallback:e=>parseInt(e,10)}),era:fn({matchPatterns:U3,defaultMatchWidth:"wide",parsePatterns:B3,defaultParseWidth:"any"}),quarter:fn({matchPatterns:V3,defaultMatchWidth:"wide",parsePatterns:q3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fn({matchPatterns:W3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any"}),day:fn({matchPatterns:K3,defaultMatchWidth:"wide",parsePatterns:Q3,defaultParseWidth:"any"}),dayPeriod:fn({matchPatterns:G3,defaultMatchWidth:"wide",parsePatterns:Z3,defaultParseWidth:"any"})},Qp={code:"ru",formatDistance:b3,formatLong:k3,formatRelative:T3,localize:$3,match:Y3,options:{weekStartsOn:1,firstWeekContainsDate:1}},Ty=["","","","","","","","","","","",""],VS=({isOpen:e,onClose:t,initialRecipientId:r,initialRecipientUsername:n})=>{const{user:s}=Me(),[i,o]=m.useState(null),[a,c]=m.useState(""),{conversations:u,conversationsLoading:d,sendMessage:f,markAsRead:h,isSending:v}=TI(),x=p=>{const y=(p||1)-1;return Ty[y]||Ty[0]};m.useEffect(()=>{if(!(s!=null&&s.id)||!i)return;const p=I.channel("private-messages-dialog").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`or(and(sender_id.eq.${s.id},recipient_id.eq.${i.partnerId}),and(sender_id.eq.${i.partnerId},recipient_id.eq.${s.id}))`},y=>{console.log("New message received:",y);const _={...y.new,sender:y.new.sender_id===s.id?null:i.partner,recipient:y.new.recipient_id===s.id?null:i.partner};o(S=>({...S,messages:[...S.messages,_].sort((k,N)=>new Date(k.created_at).getTime()-new Date(N.created_at).getTime())}))}).subscribe();return()=>{I.removeChannel(p)}},[s==null?void 0:s.id,i==null?void 0:i.partnerId]),m.useEffect(()=>{r&&n&&e&&o({partnerId:r,partner:{username:n},messages:[]})},[r,n,e]);const g=async p=>{o(p);const y=p.messages.filter(_=>!_.is_read&&_.recipient_id===(s==null?void 0:s.id)).map(_=>_.id);y.length>0&&await h(y)},w=async()=>{if(!(!a.trim()||!i))try{await f({recipientId:i.partnerId,message:a.trim()}),c("")}catch(p){console.error("  :",p)}},b=()=>{o(null),c("")};return l.jsx(sr,{open:e,onOpenChange:t,children:l.jsxs(Bt,{className:"sm:max-w-[800px] max-h-[80vh] bg-gray-900 border-cyan-400/30",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:i?l.jsxs(l.Fragment,{children:[l.jsx(pe,{variant:"ghost",size:"sm",onClick:b,className:"mr-2 text-cyan-400 hover:text-cyan-300",children:l.jsx(Rd,{className:"h-4 w-4"})}),l.jsx(Dn,{className:"mr-2 text-cyan-400"}),i.partner.full_name||i.partner.username]}):l.jsxs(l.Fragment,{children:[l.jsx(zb,{className:"mr-2 text-cyan-400"}),""]})})}),i?l.jsxs("div",{className:"flex flex-col h-96",children:[l.jsx(nd,{className:"flex-1 mb-4",children:l.jsx("div",{className:"space-y-3",children:i.messages.length===0?l.jsx("div",{className:"text-center py-8 text-gray-400 font-mono",children:" !"}):i.messages.sort((p,y)=>new Date(p.created_at).getTime()-new Date(y.created_at).getTime()).map(p=>{const y=p.sender_id===(s==null?void 0:s.id);return l.jsx("div",{className:`flex ${y?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg font-mono ${y?"bg-cyan-600 text-white":"bg-gray-700 text-gray-100"}`,children:[l.jsx("div",{className:"text-sm",children:p.message}),l.jsxs("div",{className:`text-xs mt-1 ${y?"text-cyan-200":"text-gray-400"}`,children:[Kp(new Date(p.created_at),{addSuffix:!0,locale:Qp}),!p.is_read&&!y&&l.jsx("span",{className:"ml-2 text-yellow-400",children:""})]})]})},p.id)})})}),l.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Yr,{placeholder:" ...",value:a,onChange:p=>c(p.target.value),className:"bg-gray-800 border-cyan-400/30 text-white font-mono resize-none",rows:2,onKeyDown:p=>{p.key==="Enter"&&p.ctrlKey&&w()}}),l.jsx(pe,{onClick:w,disabled:v||!a.trim(),className:"vice-button font-mono tracking-wider",children:v?"...":l.jsx(og,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"Ctrl+Enter  "})]})]}):l.jsx("div",{className:"space-y-3",children:l.jsx(nd,{className:"h-96",children:d?Array.from({length:5}).map((p,y)=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 vice-card mb-3",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-gray-400/20"}),l.jsx(le,{className:"h-3 w-48 bg-gray-400/20"})]})]},y)):(u==null?void 0:u.length)===0?l.jsx("div",{className:"text-center py-8 text-gray-400 font-mono",children:"    "}):u==null?void 0:u.map(p=>l.jsxs("div",{onClick:()=>g(p),className:"flex items-center justify-between p-3 vice-card border border-cyan-400/20 hover:border-cyan-400/40 transition-all cursor-pointer mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center text-2xl border border-pink-500/50",children:p.partner.avatar_id?x(p.partner.avatar_id):l.jsx(Is,{className:"h-6 w-6 text-pink-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"font-bold font-mono text-cyan-300 flex items-center",children:[p.partner.full_name||p.partner.username,p.unreadCount>0&&l.jsx(Ig,{className:"ml-2 bg-red-500 text-white",children:p.unreadCount})]}),l.jsx("div",{className:"text-sm text-gray-400 font-mono truncate",children:p.lastMessage.message}),l.jsx("div",{className:"text-xs text-purple-300 font-mono",children:Kp(new Date(p.lastMessage.created_at),{addSuffix:!0,locale:Qp})})]})]}),p.unreadCount>0&&l.jsx(HE,{className:"h-5 w-5 text-yellow-400"})]},p.partnerId))})})]})})},Py=["","","","","","","","","","","",""],X3=({isOpen:e,onClose:t})=>{const[r,n]=m.useState(""),[s,i]=m.useState(null),[o,a]=m.useState(!1);Ot();const{friends:c,incomingRequests:u,friendsLoading:d,requestsLoading:f,sendFriendRequest:h,acceptFriendRequest:v,rejectFriendRequest:x,removeFriend:g,isSending:w,isAccepting:b,isRejecting:p,isRemoving:y}=pI(),{data:_,isLoading:S}=lt({queryKey:["user-search",r],queryFn:async()=>{if(!r.trim())return[];const{data:P,error:R}=await I.rpc("find_user_by_username",{username_param:r.trim()});if(R)throw R;return P},enabled:r.trim().length>2}),k=P=>{const R=(P||1)-1;return Py[R]||Py[0]},N=async P=>{try{await h(P),n("")}catch(R){console.error("  :",R)}},j=P=>{i(P),a(!0),t()};return l.jsxs(l.Fragment,{children:[l.jsx(sr,{open:e,onOpenChange:t,children:l.jsxs(Bt,{className:"sm:max-w-[600px] max-h-[80vh] bg-gray-900 border-cyan-400/30",children:[l.jsx(Vt,{children:l.jsxs(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:[l.jsx(Tr,{className:"mr-2 text-cyan-400"}),""]})}),l.jsxs(fI,{defaultValue:"friends",className:"w-full",children:[l.jsxs(NS,{className:"grid w-full grid-cols-3 bg-gray-800",children:[l.jsxs(cu,{value:"friends",className:"font-mono text-cyan-300",children:[" ",c!=null&&c.length?`(${c.length})`:""]}),l.jsxs(cu,{value:"requests",className:"font-mono text-pink-300",children:["",u!=null&&u.length?l.jsx(Ig,{className:"ml-2 bg-red-500 text-white",children:u.length}):""]}),l.jsx(cu,{value:"search",className:"font-mono text-purple-300",children:""})]}),l.jsx(uu,{value:"friends",className:"mt-4",children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d?Array.from({length:3}).map((P,R)=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 vice-card",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-gray-400/20"}),l.jsx(le,{className:"h-3 w-24 bg-gray-400/20"})]})]},R)):(c==null?void 0:c.length)===0?l.jsx("div",{className:"text-center py-8 text-gray-400 font-mono",children:"    "}):c==null?void 0:c.map(P=>l.jsxs("div",{className:"flex items-center justify-between p-3 vice-card border border-cyan-400/20 hover:border-cyan-400/40 transition-all",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center text-2xl border border-pink-500/50",children:k(P.friend.avatar_id)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold font-mono text-cyan-300",children:P.friend.full_name||P.friend.username}),l.jsxs("div",{className:"text-sm text-purple-300 font-mono",children:[P.friend.rank_title,"  $",P.friend.points.toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pe,{size:"sm",onClick:()=>j(P.friend),className:"bg-blue-600 hover:bg-blue-700 text-white font-mono",children:l.jsx(Dn,{className:"w-4 h-4"})}),l.jsx(pe,{size:"sm",variant:"destructive",onClick:()=>g(P.id),disabled:y,className:"font-mono",children:l.jsx(Id,{className:"w-4 h-4"})})]})]},P.id))})}),l.jsx(uu,{value:"requests",className:"mt-4",children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f?Array.from({length:2}).map((P,R)=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 vice-card",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-pink-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-gray-400/20"}),l.jsx(le,{className:"h-3 w-24 bg-gray-400/20"})]})]},R)):(u==null?void 0:u.length)===0?l.jsx("div",{className:"text-center py-8 text-gray-400 font-mono",children:"    "}):u==null?void 0:u.map(P=>l.jsxs("div",{className:"flex items-center justify-between p-3 vice-card border border-pink-400/20 hover:border-pink-400/40 transition-all",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center text-2xl border border-pink-500/50",children:k(P.user.avatar_id)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold font-mono text-pink-300",children:P.user.full_name||P.user.username}),l.jsxs("div",{className:"text-sm text-purple-300 font-mono",children:[P.user.rank_title,"  $",P.user.points.toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pe,{size:"sm",onClick:()=>v(P.id),disabled:b,className:"bg-green-600 hover:bg-green-700 text-white font-mono",children:l.jsx(Ad,{className:"w-4 h-4"})}),l.jsx(pe,{size:"sm",variant:"destructive",onClick:()=>x(P.id),disabled:p,className:"font-mono",children:l.jsx(ag,{className:"w-4 h-4"})})]})]},P.id))})}),l.jsx(uu,{value:"search",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(Xe,{placeholder:" ...",value:r,onChange:P=>n(P.target.value),className:"pl-10 bg-gray-800 border-cyan-400/30 text-white font-mono"})]}),l.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:S?Array.from({length:3}).map((P,R)=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 vice-card",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-purple-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-gray-400/20"}),l.jsx(le,{className:"h-3 w-24 bg-gray-400/20"})]})]},R)):(_==null?void 0:_.length)===0&&r.trim().length>2?l.jsx("div",{className:"text-center py-8 text-gray-400 font-mono",children:"  "}):_==null?void 0:_.map(P=>l.jsxs("div",{className:"flex items-center justify-between p-3 vice-card border border-purple-400/20 hover:border-purple-400/40 transition-all",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center text-2xl border border-purple-500/50",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold font-mono text-purple-300",children:P.full_name||P.username}),l.jsxs("div",{className:"text-sm text-gray-400 font-mono",children:["@",P.username]})]})]}),l.jsxs(pe,{size:"sm",onClick:()=>N(P.user_id),disabled:w,className:"vice-button font-mono",children:[l.jsx(qb,{className:"w-4 h-4 mr-2"}),""]})]},P.user_id))})]})})]})]})}),s&&l.jsx(VS,{isOpen:o,onClose:()=>{a(!1),i(null)},initialRecipientId:s.id,initialRecipientUsername:s.username})]})},J3=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:l.jsxs("div",{className:"vice-card p-6 relative",children:[l.jsx("div",{className:"absolute inset-0 border border-cyan-400/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-2xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-4 flex items-center",children:[l.jsx(Tr,{className:"mr-3 text-cyan-400 w-6 h-6"}),""]}),l.jsx("p",{className:"text-gray-300 font-mono mb-4",children:"     "}),l.jsxs(pe,{onClick:()=>t(!0),className:"vice-button font-mono tracking-wider w-full",children:[l.jsx(Tr,{className:"mr-2 w-4 h-4"})," "]})]})}),l.jsx(X3,{isOpen:e,onClose:()=>t(!1)}),l.jsx(VS,{isOpen:r,onClose:()=>n(!1)})]})},Gp=()=>{var f,h,v;const{profile:e,isLoading:t,refreshProfile:r}=Gs(),{stages:n}=Wd(e==null?void 0:e.id),{user:s}=Me(),{teamRankings:i}=sc(),[o,a]=m.useState(!1),c=(e==null?void 0:e.id)===(s==null?void 0:s.id),u=i.find(x=>x.team_id===(e==null?void 0:e.team_id));if(t)return l.jsx("div",{className:"vice-card p-8",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-cyan-400/20 rounded w-1/3"}),l.jsx("div",{className:"h-4 bg-pink-500/20 rounded w-1/2"}),l.jsx("div",{className:"h-6 bg-purple-400/20 rounded w-1/4"})]})});if(!e)return l.jsxs("div",{className:"vice-card p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:"  "})]});const d=["","","","","","","","","","","",""];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"vice-card p-8 relative border-2 border-cyan-500/50 bg-gradient-to-br from-gray-900/90 to-blue-900/90",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-blue-500/10 rounded-lg"}),l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"relative w-20 h-20 vice-gradient rounded-full flex items-center justify-center border-4 border-cyan-400 shadow-lg",children:[l.jsx("span",{className:"text-3xl font-mono font-bold text-white filter drop-shadow-lg",children:d[e.avatar_id-1]||((f=e.full_name)==null?void 0:f[0])||((h=e.username)==null?void 0:h[0])||"?"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-400 opacity-50 animate-pulse"})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:e.full_name||e.username}),l.jsxs("p",{className:"text-cyan-300 font-mono text-lg",children:["@",e.username]}),u?l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsx(Tr,{className:"h-5 w-5 text-purple-400"}),l.jsx(_o,{to:`/team/${e.team_id}`,className:"text-purple-400 hover:text-purple-300 font-mono font-bold transition-colors",children:u.team_name})]}):l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"   "})]})]}),c&&l.jsx(pe,{onClick:()=>a(!0),className:"vice-button font-mono tracking-wider",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"vice-card p-6 border border-green-500/30 bg-green-500/10",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dp,{className:"text-green-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-green-400 opacity-30 animate-pulse",children:l.jsx(dp,{className:"w-10 h-10"})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-3xl font-bold font-mono text-green-400 filter drop-shadow-lg",children:["$",e.points.toLocaleString()]}),l.jsx("div",{className:"text-sm font-mono text-green-300 tracking-wider uppercase",children:""})]})]})}),l.jsx("div",{className:"vice-card p-6 border border-purple-500/30 bg-purple-500/10",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(xo,{className:"text-purple-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-purple-400 opacity-30 animate-pulse",children:l.jsx(xo,{className:"w-10 h-10"})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold font-mono text-purple-400 filter drop-shadow-sm",children:e.rank_title}),l.jsx("div",{className:"text-sm font-mono text-purple-300 tracking-wider uppercase",children:""})]})]})}),l.jsx("div",{className:"vice-card p-6 border border-cyan-500/30 bg-cyan-500/10",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Sr,{className:"text-cyan-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-cyan-400 opacity-30 animate-pulse",children:l.jsx(Sr,{className:"w-10 h-10"})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold font-mono text-cyan-400 filter drop-shadow-lg",children:n.length}),l.jsx("div",{className:"text-sm font-mono text-cyan-300 tracking-wider uppercase",children:""})]})]})}),l.jsx("div",{className:"vice-card p-6 border border-cyan-500/30 bg-cyan-500/10",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Sl,{className:"text-cyan-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-cyan-400 opacity-30 animate-pulse",children:l.jsx(Sl,{className:"w-10 h-10"})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold font-mono text-cyan-400 filter drop-shadow-lg",children:((v=e==null?void 0:e.crystalls)==null?void 0:v.toLocaleString())||0}),l.jsx("div",{className:"text-sm font-mono text-cyan-300 tracking-wider uppercase",children:""})]})]})})]}),n.length>0&&l.jsxs("div",{className:"vice-card p-6 border border-cyan-500/30 bg-cyan-500/10",children:[l.jsxs("h3",{className:"text-xl font-bold font-mono tracking-wider text-cyan-400 mb-4 flex items-center",children:[l.jsx(Sr,{className:"mr-2"})," "]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:n.slice(0,6).map(x=>l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-cyan-500/20",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-mono text-cyan-300 font-bold",children:x.stage_name}),l.jsxs("span",{className:"font-mono text-green-400 font-bold",children:["+",x.points]})]}),x.description&&l.jsx("p",{className:"text-xs text-gray-400 font-mono mt-1",children:x.description}),l.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:new Date(x.created_at).toLocaleDateString("ru-RU")})]},x.id))})]})]})]}),c&&l.jsx(J3,{}),l.jsx(KM,{isOpen:o,onClose:()=>a(!1),profile:e,onProfileUpdate:()=>{r(),a(!1)}})]})},lh=["","","","","","","","","","","",""],eD=()=>{const{user:e}=Me(),{data:t,isLoading:r}=lt({queryKey:["ranking"],queryFn:async()=>{const{data:n,error:s}=await I.from("profiles").select("*").order("points",{ascending:!1}).order("created_at",{ascending:!0}),i=n.map(a=>a.id),{data:o}=await I.from("player_stages").select("*").in("user_id",i);if(s)throw console.error("  :",s),s;return n.map((a,c)=>({...a,rank:c+1,avatar:tD(a.avatar_id),isCurrentUser:a.id===(e==null?void 0:e.id),completedDeals:a.total_deals,trend:rD(a,c),stages:o.filter(u=>u.user_id===a.id).length}))},enabled:!!e});return{rankings:t||[],isLoading:r}},tD=e=>{if(!e)return lh[0];const t=(e-1)%lh.length;return lh[t]},rD=(e,t)=>{const r=(e.points+t)%3;return r===0?"up":r===1?"down":"same"},nD=()=>{const{rankings:e,isLoading:t}=eD(),{teamRankings:r,rankingsLoading:n}=sc();return t?l.jsx("div",{className:"space-y-6",children:l.jsx("div",{className:"vice-card p-8",children:l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((s,i)=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-cyan-400/30 rounded-lg bg-gray-800/50",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-6 w-48 bg-pink-500/20"}),l.jsx(le,{className:"h-4 w-32 bg-purple-400/20"})]}),l.jsx(le,{className:"h-8 w-20 bg-green-400/20"})]},i))})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"vice-card p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 border-2 border-pink-500/30 rounded-lg pointer-events-none"}),l.jsx("h2",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-8 text-center neon-text",children:"  "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.slice(0,3).map((s,i)=>l.jsx(_o,{to:`/player/${s.id}`,children:l.jsxs("div",{className:"vice-card p-6 text-center relative overflow-hidden group hover:scale-105 transition-all duration-300 cursor-pointer",children:[l.jsx("div",{className:"absolute inset-0 vice-gradient opacity-10 group-hover:opacity-20 transition-opacity"}),l.jsxs("div",{className:"relative z-10 mb-4",children:[i===0&&l.jsx(Sr,{className:"mx-auto text-yellow-400 w-12 h-12 mb-2 animate-bounce"}),i===1&&l.jsx(KE,{className:"mx-auto text-gray-300 w-12 h-12 mb-2"}),i===2&&l.jsx(UE,{className:"mx-auto text-orange-400 w-12 h-12 mb-2"}),l.jsxs("div",{className:`text-6xl font-bold font-mono mb-2 ${i===0?"text-yellow-400 neon-text":i===1?"text-gray-300":"text-orange-400"}`,children:["#",s.rank]})]}),l.jsx("div",{className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center text-4xl mb-4 border-2 ${i===0?"border-yellow-400 vice-gradient":i===1?"border-gray-300 bg-gradient-to-br from-gray-600 to-gray-800":"border-orange-400 bg-gradient-to-br from-orange-600 to-orange-800"} shadow-lg`,children:s.avatar}),l.jsx("h3",{className:"text-xl font-bold font-mono text-white mb-2 tracking-wide",children:s.full_name||s.username}),l.jsx("p",{className:"text-cyan-300 font-mono text-sm mb-3",children:s.rank_title}),l.jsxs("p",{className:"text-3xl font-bold font-mono text-green-400 neon-text",children:["$",s.points.toLocaleString()]}),l.jsxs("p",{className:"text-cyan-400 font-mono text-sm mt-2",children:[s.stages," "]})]})},s.id))})]}),l.jsxs("div",{className:"vice-card p-8 relative",children:[l.jsx("div",{className:"absolute inset-0 border border-cyan-400/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-2xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-6 flex items-center",children:[l.jsx(Sr,{className:"mr-3 text-cyan-400 w-8 h-8"}),"  "]}),l.jsx("div",{className:"space-y-3",children:e.map(s=>l.jsx(_o,{to:`/player/${s.id}`,children:l.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-lg border transition-all duration-300 hover:scale-102 hover:shadow-lg cursor-pointer ${s.isCurrentUser?"border-pink-500 bg-gradient-to-r from-pink-500/20 to-purple-500/20 shadow-lg shadow-pink-500/25":"border-cyan-400/30 bg-gray-800/50 hover:bg-gray-700/50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3 w-20",children:[l.jsxs("div",{className:`text-2xl font-bold font-mono ${s.rank<=3?"text-yellow-400 neon-text":"text-cyan-300"}`,children:["#",s.rank]}),l.jsxs("div",{className:"text-gray-400",children:[s.trend==="up"&&l.jsx(Vb,{size:16,className:"text-green-400"}),s.trend==="down"&&l.jsx(YE,{size:16,className:"text-red-400"}),s.trend==="same"&&l.jsx(QE,{size:16,className:"text-gray-400"})]})]}),l.jsx("div",{className:"w-14 h-14 vice-gradient rounded-full flex items-center justify-center text-2xl border-2 border-cyan-400 shadow-lg",children:s.avatar}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h4",{className:"font-bold font-mono text-white text-lg",children:s.full_name||s.username}),s.isCurrentUser&&l.jsx("span",{className:"px-2 py-1 text-xs font-mono font-bold bg-pink-500 text-white rounded neon-glow",children:""})]}),l.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:s.rank_title})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold font-mono text-green-400 neon-text mb-1",children:["$",s.points.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-cyan-400 font-mono",children:[s.stages," "]})]}),s.isCurrentUser&&l.jsx(Is,{className:"text-pink-400 w-6 h-6"})]})},s.id))}),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"  !"})]})]}),l.jsxs("div",{className:"vice-card p-8 relative",children:[l.jsx("div",{className:"absolute inset-0 border border-green-500/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-2xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-6 flex items-center",children:[l.jsx(_l,{className:"mr-3 text-green-400 w-8 h-8"})," "]}),n?l.jsx("div",{className:"space-y-3",children:[...Array(3)].map((s,i)=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-green-400/30 rounded-lg bg-gray-800/50",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-green-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-6 w-48 bg-green-500/20"}),l.jsx(le,{className:"h-4 w-32 bg-emerald-400/20"})]}),l.jsx(le,{className:"h-8 w-20 bg-green-400/20"})]},i))}):l.jsx("div",{className:"space-y-3",children:r.map((s,i)=>l.jsx(_o,{to:`/team/${s.team_id}`,children:l.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg border border-green-400/30 bg-gray-800/50 hover:bg-gray-700/50 transition-all duration-300 hover:scale-102 hover:shadow-lg cursor-pointer",children:[l.jsxs("div",{className:`text-2xl font-bold font-mono w-20 ${i<3?"text-yellow-400 neon-text":"text-green-300"}`,children:["#",i+1]}),l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-2xl border-2 border-green-400 shadow-lg",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold font-mono text-white text-lg mb-1",children:s.team_name}),l.jsxs("p",{className:"text-green-300 font-mono text-sm",children:[s.member_count,"   : $",s.avg_points.toLocaleString()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold font-mono text-green-400 neon-text mb-1",children:["$",s.total_points.toLocaleString()]}),l.jsxs("div",{className:"text-sm text-emerald-400 font-mono",children:[": $",s.treasury_balance.toLocaleString()]})]})]})},s.team_id))}),r.length===0&&!n&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-green-300 font-mono text-xl tracking-wider",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"  !"})]})]})]})},sD=e=>{const{user:t}=Me(),r=vt(),{data:n,isLoading:s}=lt({queryKey:["team-notification-settings",e],queryFn:async()=>{if(!e)return null;const{data:a,error:c}=await I.from("team_notification_settings").select("*").eq("team_id",e).single();if(c&&c.code!=="PGRST116")throw c;return a},enabled:!!e}),i=Qe({mutationFn:async a=>{if(!e)throw new Error("Team ID is required");const{data:c}=await I.from("team_notification_settings").select("id").eq("team_id",e).single();if(c){const{data:u,error:d}=await I.from("team_notification_settings").update({...a,updated_at:new Date().toISOString()}).eq("team_id",e).select().single();if(d)throw d;return u}else{const{data:u,error:d}=await I.from("team_notification_settings").insert({team_id:e,notify_stage_completion:!0,notify_purchases:!0,notify_new_members:!0,notify_rank_changes:!0,...a}).select().single();if(d)throw d;return u}},onSuccess:()=>{r.invalidateQueries({queryKey:["team-notification-settings",e]})}}),o=Qe({mutationFn:async({message:a,type:c})=>{if(!e)throw new Error("Team ID is required");if(!(t!=null&&t.id))throw new Error("  ");const{data:u,error:d}=await I.rpc("send_team_notification",{team_id_param:e,message_text:a,notification_type:c});if(d)throw d;return u}});return{settings:n,isLoading:s,updateSettings:i.mutateAsync,isUpdating:i.isPending,sendNotification:o.mutateAsync,isSending:o.isPending}},iD=(e,t,r)=>{const{user:n}=Me(),s=vt(),{sendNotification:i}=sD(e||"");console.log("group",t);const{data:o,isLoading:a,error:c}=lt({queryKey:[r?"gem_shop_items":t?"group_shop_items":"single_shop_items"],queryFn:async()=>{if(r){const{data:x,error:g}=await I.from("gem_shop_items").select("*").order("price",{ascending:!0});if(g)throw g;return x||[]}if(t){const{data:x,error:g}=await I.from("group_shop_items").select("*").order("price",{ascending:!0});if(g)throw g;return x||[]}const{data:h,error:v}=await I.from("single_shop_items").select("*").order("price",{ascending:!0});if(v)throw v;return h||[]},enabled:!!(n!=null&&n.id)}),u=Qe({mutationFn:async({title:h,price:v,description:x,avatar:g,quantity:w})=>{if(!(n!=null&&n.id))throw new Error("  ");if(r){const{error:p}=await I.from("gem_shop_items").insert({title:h,price:v,description:x,avatar:g,quantity:w});if(p)throw p;return}if(t){const{error:p}=await I.from("group_shop_items").insert({title:h,price:v,description:x,avatar:g,quantity:w});if(p)throw p;return}const{error:b}=await I.from("single_shop_items").insert({title:h,price:v,description:x,avatar:g,quantity:w});if(b)throw b},onSuccess:()=>{s.invalidateQueries(["single_shop_items"]),s.invalidateQueries(["group_shop_items"]),s.invalidateQueries(["gem_shop_items"])},onError:h=>{console.error("  :",h),_i({title:"",description:h instanceof Error?h.message.toUpperCase():"   ",variant:"destructive"})}}),d=Qe({mutationFn:async({itemId:h,itemName:v,cost:x})=>{if(!(n!=null&&n.id))throw new Error("  ");if(r){const{data:S,error:k}=await I.from("profiles").select("crystalls, username, full_name, team_id").eq("id",n.id).single();if(k)throw k;const{data:N,error:j}=await I.from("gem_shop_items").select("*").eq("id",h).single();if(S.crystalls<x)throw new Error("   ");if((N==null?void 0:N.quantity)<1)throw new Error("   ");const{error:P}=await I.from("profiles").update({crystalls:S.crystalls-x}).eq("id",n.id);if(P)throw P;const{error:R}=await I.from("gem_shop_items").update({quantity:N.quantity-1}).eq("id",h);if(R)throw R;const{error:$}=await I.from("gem_shop_purchases").insert({user_id:n.id,item_id:h,item_name:v,item_cost:x});if($)throw $;await i({message:` ${S.username}  ${v}  ${x}  `,type:"shop"});return}if(t){const{error:S}=await I.from("group_shop_purchases").insert({user_id:n.id,item_id:h,item_name:v,item_cost:x});if(S)throw S;const{error:k,data:N}=await I.from("teams").select("*").eq("id",e).single();if(k)throw k;const{data:j,error:P}=await I.from("group_shop_items").select("*").eq("id",h).single();if((j==null?void 0:j.quantity)<1)throw new Error("   ");if(P)throw P;if(N.treasury_balance<x)throw new Error("   ");const{error:R}=await I.from("group_shop_items").update({quantity:j.quantity-1}).eq("id",h);if(R)throw R;const{error:$}=await I.from("teams").update({treasury_balance:N.treasury_balance-x}).eq("id",e);if($)throw $;await i({message:` ${N.name}  ${v}  ${x} `,type:"shop"});return}const{data:g,error:w}=await I.from("profiles").select("points, username, full_name, team_id").eq("id",n.id).single();if(w)throw w;if(g.points<x)throw new Error("   ");const{data:b,error:p}=await I.from("single_shop_items").select("*").eq("id",h).single();if((b==null?void 0:b.quantity)<1)throw new Error("   ");if(p)throw p;const{error:y}=await I.rpc("update_user_points_and_rank",{user_id_param:n.id,points_to_add:-x,transaction_type_param:"",description_param:`: ${v}`});if(await I.from("single_shop_items").update({quantity:b.quantity-1}).eq("id",h),y)throw y;const{error:_}=await I.from("shop_purchases").insert({user_id:n.id,item_name:v,item_cost:x});if(_)throw _;if(g.team_id&&e===g.team_id){const S=g.full_name||g.username;await i({message:` ${S}  "${v}"  ${x} !`,type:"purchase"})}return{success:!0,newBalance:g.points-x}},onSuccess:()=>{s.invalidateQueries({queryKey:["profile"]}),s.invalidateQueries({queryKey:["chat-messages",e]}),s.invalidateQueries({queryKey:["treasureBalance",e]}),s.invalidateQueries(["single_shop_items"]),s.invalidateQueries(["group_shop_items"]),s.invalidateQueries(["gem_shop_items"])}}),f=lt({queryKey:["treasureBalance",e],queryFn:async()=>{const{data:h,error:v}=await I.from("teams").select("treasury_balance").eq("id",e).single();if(v)throw v;return h.treasury_balance}});return{shopItems:o,purchaseItem:d.mutateAsync,isPurchasing:d.isPending,createSingle:u.mutateAsync,treasureBalance:f.data}},Pi=m.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm ",e),...t}));Pi.displayName="Card";const Jo=m.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));Jo.displayName="CardHeader";const ea=m.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ea.displayName="CardTitle";const oD=m.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));oD.displayName="CardDescription";const Ri=m.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));Ri.displayName="CardContent";const aD=m.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));aD.displayName="CardFooter";const ch=({group:e=!1,gem:t=!1})=>{var R,$;const{user:r}=Me(),[n,s]=m.useState(!1),[i,o]=m.useState(""),[a,c]=m.useState(""),[u,d]=m.useState(1),[f,h]=m.useState(""),[v,x]=m.useState(1),{profile:g}=Gs(),{shopItems:w,purchaseItem:b,isPurchasing:p,createSingle:y,treasureBalance:_}=iD((g==null?void 0:g.team_id)||void 0,e,t),{toast:S}=Ot(),k=async T=>{try{await b({itemId:T.id,itemName:T.title,cost:T.price}),S({title:"",description:`  "${T.title.toUpperCase()}"!`})}catch(z){console.error(" :",z),S({title:"",description:z instanceof Error?z.message.toUpperCase():"   ",variant:"destructive"})}},N=async()=>{try{await y({avatar:i,title:a,price:u,description:f,quantity:v}),s(!1)}catch(T){console.error("  :",T),S({title:"",description:T instanceof Error?T.message.toUpperCase():"   ",variant:"destructive"})}},j=()=>{s(!0)},P=T=>t?((g==null?void 0:g.crystalls)||0)>=T:e?(Number(_)||0)>=T:((g==null?void 0:g.points)||0)>=T;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"vice-card p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 border-2 border-purple-400/30 rounded-lg pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsx("div",{className:"w-16 h-16 vice-gradient rounded-full flex items-center justify-center border-2 border-purple-400 neon-glow",children:l.jsx(ZE,{className:"text-white",size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient neon-text mb-2",children:e?" ":""}),l.jsx("p",{className:"text-purple-300 font-mono text-lg tracking-wide",children:"    "})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-3xl font-bold font-mono text-green-400 neon-text",children:[t?l.jsx(Sl,{className:"text-cyan-400",size:32}):l.jsx(m0,{className:"text-yellow-400",size:32}),l.jsx("span",{children:e?Number(_)||0:t?((R=g==null?void 0:g.crystalls)==null?void 0:R.toLocaleString())||0:(($=g==null?void 0:g.points)==null?void 0:$.toLocaleString())||0})]}),l.jsx("p",{className:"text-cyan-300 font-mono text-sm tracking-wider",children:t?" ":" "})]})]})]}),(g==null?void 0:g.role)==="leader"&&l.jsx(pe,{onClick:j,className:"vice-button font-mono tracking-wider",children:" "}),l.jsx(sr,{open:n,onOpenChange:s,children:l.jsxs(Bt,{className:"sm:max-w-[500px] bg-gray-900 border-cyan-400/30",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:" "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:""}),l.jsx(Xe,{value:i,onChange:T=>o(T.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:""}),l.jsx(Xe,{value:a,onChange:T=>c(T.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:" ($)"}),l.jsx(Xe,{type:"number",min:"1",step:"1",value:u,onChange:T=>d(Number(T.target.value)),placeholder:"   ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:""}),l.jsx(Xe,{value:f,onChange:T=>h(T.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:""}),l.jsx(Xe,{value:v,type:"number",onChange:T=>x(Number(T.target.value)),placeholder:"   ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsx("div",{className:"flex justify-end space-x-3",children:l.jsx(pe,{onClick:N,disabled:a.length===0||f.length===0||i.length===0||u===0,className:"w-full bg-gradient-to-r from-green-600 to-emerald-800 border border-green-400 font-mono font-bold",children:""})})]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w==null?void 0:w.map(T=>{var L;const z=P(T==null?void 0:T.price);return l.jsxs(Pi,{className:`vice-card border relative overflow-hidden transition-all duration-300 hover:scale-105 ${z?"border-green-400/50 hover:neon-glow-green":"border-red-400/50 hover:border-red-400/70"}`,children:[l.jsx("div",{className:"absolute inset-0 vice-gradient opacity-5"}),l.jsxs(Jo,{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-3xl",children:T==null?void 0:T.avatar}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(xo,{className:"text-yellow-400",size:16}),l.jsx(xo,{className:"text-yellow-400",size:16}),l.jsx(xo,{className:"text-yellow-400",size:16})]})]}),l.jsx(ea,{className:"font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:T==null?void 0:T.title})]}),l.jsxs(Ri,{className:"relative z-10 space-y-4",children:[l.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:T==null?void 0:T.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[t?l.jsx(Sl,{className:"text-cyan-400",size:20}):l.jsx(m0,{className:"text-yellow-400",size:20}),l.jsx("span",{className:"font-bold text-2xl font-mono text-green-400",children:(L=T==null?void 0:T.price)==null?void 0:L.toLocaleString()})]}),l.jsx(pe,{onClick:()=>k(T),disabled:!z||p||!r||!(T!=null&&T.quantity),className:`font-mono font-bold tracking-wider transition-all duration-300 ${z&&r?"vice-button text-white hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:r?z?p?"...":"":" ":""})]}),!z&&r&&l.jsxs("p",{className:"text-red-400 font-mono text-xs text-center",children:[" "," ",t?((T==null?void 0:T.price)-((g==null?void 0:g.crystalls)||0)).toLocaleString():e?((T==null?void 0:T.price)-(_||0)).toLocaleString():((T==null?void 0:T.price)-((g==null?void 0:g.points)||0)).toLocaleString()," ",""]}),l.jsx("p",{className:`text-${T!=null&&T.quantity&&(T==null?void 0:T.quantity)>0?"white":"red"}-400 font-mono text-xs text-center`,children:T!=null&&T.quantity&&(T==null?void 0:T.quantity)>0?` ${T==null?void 0:T.quantity}`:"  "})]})]},T.id)})})]})},lD=()=>{const{user:e}=Me(),t=vt(),r=Qe({mutationFn:async({teamId:n,userId:s})=>{if(console.log("  :",{teamId:n,userId:s,currentUser:e==null?void 0:e.id}),!(e!=null&&e.id))throw console.error("  "),new Error("  ");const{data:i,error:o}=await I.from("teams").select("created_by").eq("id",n).single();if(o)throw console.error("     :",o),new Error("   ");if(i.created_by!==e.id)throw console.error("   "),new Error("     ");const{data:a,error:c}=await I.from("team_members").select("id").eq("team_id",n).eq("user_id",s).maybeSingle();if(c)throw console.error("    :",c),new Error("   ");if(a)throw console.log("    "),new Error("    ");console.log("   ...");const{error:u}=await I.from("team_members").insert({team_id:n,user_id:s,role:"member"}),{error:d}=await I.from("team_members").delete().neq("team_id",n).eq("user_id",s),{error:f}=await I.from("profiles").update({team_id:n}).eq("id",s);if(u||f||d)throw console.error("     :",u||f||d),u||f||d;return console.log("    "),{success:!0}},onSuccess:()=>{console.log(" ,  ..."),t.invalidateQueries({queryKey:["team-members"]}),t.invalidateQueries({queryKey:["user-teams"]}),t.invalidateQueries({queryKey:["team-rankings"]})},onError:n=>{console.error("   :",n)}});return{inviteToTeam:r.mutateAsync,isInviting:r.isPending}},qS=({teamId:e,teamName:t})=>{const[r,n]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState(!1),[c,u]=m.useState(!1),{inviteToTeam:d,isInviting:f}=lD(),{toast:h}=Ot(),v=async()=>{if(!r.trim()){console.log("    ");return}console.log("   :",r),a(!0);try{const{data:w,error:b}=await I.rpc("find_user_by_username",{username_param:r});if(console.log(" :",w),b)throw console.error("  :",b),b;i(w||[]),(!w||w.length===0)&&h({title:" ",description:"     ",variant:"destructive"})}catch(w){console.error("  :",w),h({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}},x=async(w,b)=>{console.log(" :",{userId:w,userFullName:b,teamId:e});try{await d({teamId:e,userId:w}),console.log("  "),n(""),i([]),u(!1),h({title:"",description:`${b}   `})}catch(p){console.error("   :",p);const y=p instanceof Error?p.message:"   ";h({title:"",description:y,variant:"destructive"})}},g=w=>{w.key==="Enter"&&(w.preventDefault(),v())};return l.jsxs(sr,{open:c,onOpenChange:u,children:[l.jsx(Ti,{asChild:!0,children:l.jsxs(pe,{size:"sm",variant:"outline",className:"text-xs bg-gradient-to-r from-green-600 to-green-800 border border-green-400 text-white font-mono font-bold tracking-wider hover:scale-105 transition-all duration-300",children:[l.jsx(qb,{size:14,className:"mr-1"}),""]})}),l.jsxs(Bt,{className:"vice-card border border-green-500/50 max-w-md",children:[l.jsx(Vt,{children:l.jsxs(qt,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:['  "',t,'"']})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Xe,{type:"text",value:r,onChange:w=>n(w.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500",onKeyPress:g,disabled:o}),l.jsx(pe,{onClick:v,disabled:o||!r.trim(),className:"bg-gradient-to-r from-green-600 to-green-800 border border-green-400 font-mono font-bold",children:l.jsx(Ub,{size:16})})]}),o&&l.jsx("div",{className:"text-center py-4",children:l.jsx("div",{className:"text-cyan-300 font-mono",children:"..."})}),s.length>0&&l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 vice-card border border-cyan-400/30 hover:border-cyan-400/60 transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white font-mono",children:w.full_name||w.username}),l.jsxs("div",{className:"text-sm text-cyan-300 font-mono",children:["@",w.username]})]}),l.jsx(pe,{size:"sm",onClick:()=>x(w.user_id,w.full_name||w.username),disabled:f,className:"bg-gradient-to-r from-green-600 to-green-800 border border-green-400 font-mono font-bold text-xs",children:f?"...":""})]},w.user_id))}),l.jsx("div",{className:"flex justify-end space-x-2",children:l.jsx(pe,{type:"button",variant:"outline",onClick:()=>{u(!1),n(""),i([])},className:"border-purple-400 text-purple-400 font-mono tracking-wider hover:bg-purple-400/10",children:""})})]})]})]})},cD=()=>{const e=Ld(),{userTeams:t,teamRankings:r,teamsLoading:n,rankingsLoading:s,teamsError:i,rankingsError:o,createTeam:a,isCreatingTeam:c}=sc(),[u,d]=m.useState(!1),[f,h]=m.useState(""),[v,x]=m.useState(""),{profile:g}=Gs(),w=async p=>{if(p.preventDefault(),console.log("===    ==="),console.log(" :",f),console.log(" :",v),!f.trim()){console.log(":   "),jr.error(":   ");return}try{console.log(" createTeam...");const y=await a({name:f.trim(),description:v.trim()||void 0});console.log("  :",y),h(""),x(""),d(!1),jr.success("  ")}catch(y){console.error("===    ==="),console.error(" :",typeof y),console.error(":",y),console.error(":",y==null?void 0:y.message),console.error(":",y==null?void 0:y.code),console.error(":",y==null?void 0:y.details);let _="   ";if(y!=null&&y.message)y.message.includes("permission")||y.message.includes("denied")?_="    ":y.message.includes("duplicate")||y.message.includes("unique")?_="     ":y.message.includes("")||y.message.includes("auth")?_=" .   ":_=`: ${y.message}`;else if(y!=null&&y.code)switch(y.code){case"23505":_="     ";break;case"42501":case"PGRST301":_="    ";break;case"PGRST116":_=" .   ";break;default:_=`   (: ${y.code})`}console.error("   :",_),jr.error(_)}},b=p=>{e(`/team/${p}`)};return console.log(g),l.jsxs("div",{className:"space-y-8",children:[(g==null?void 0:g.role)==="leader"&&l.jsxs("div",{className:"vice-card p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 border-2 border-cyan-400/30 rounded-lg pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsx("div",{className:"w-16 h-16 vice-gradient rounded-full flex items-center justify-center border-2 border-cyan-400 neon-glow",children:l.jsx(Tr,{className:"text-white",size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient neon-text mb-2",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-lg tracking-wide",children:"   "})]})]}),l.jsxs(sr,{open:u,onOpenChange:d,children:[l.jsx(Ti,{asChild:!0,children:l.jsxs("button",{className:"vice-button text-white py-4 px-8 rounded-lg font-mono font-bold text-lg tracking-wider transition-all duration-300 hover:scale-105 flex items-center space-x-3",children:[l.jsx(Md,{size:24}),l.jsx("span",{children:" "})]})}),l.jsxs(Bt,{className:"vice-card border border-pink-500/50",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:"  "})}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:" "}),l.jsx(Xe,{value:f,onChange:p=>h(p.target.value),placeholder:"  ",className:"bg-gray-800 border border-pink-500/30 text-cyan-300 font-mono focus:border-pink-500 focus:ring-pink-500",required:!0,disabled:c,maxLength:50})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:" ()"}),l.jsx(Yr,{value:v,onChange:p=>x(p.target.value),placeholder:" ",className:"bg-gray-800 border border-pink-500/30 text-cyan-300 font-mono focus:border-pink-500 focus:ring-pink-500",rows:3,disabled:c,maxLength:200})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-purple-400 text-purple-400 font-mono tracking-wider hover:bg-purple-400/10",disabled:c,children:""}),l.jsx("button",{type:"submit",disabled:c||!f.trim(),className:"vice-button text-white py-2 px-6 rounded font-mono font-bold tracking-wider disabled:opacity-50 disabled:cursor-not-allowed",children:c?"...":""})]})]})]})]})]})]}),l.jsxs("div",{className:"vice-card p-8 relative",children:[l.jsx("div",{className:"absolute inset-0 border border-cyan-400/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-6 flex items-center relative z-10",children:[l.jsx(Tr,{className:"mr-3 text-cyan-400 w-8 h-8"})," "]}),l.jsx("div",{className:"relative z-10",children:i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(p0,{className:"mx-auto text-red-400 w-16 h-16 mb-4"}),l.jsx("p",{className:"text-red-400 font-mono text-lg tracking-wider mb-2",children:"  "}),l.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:i.message})]}):n?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((p,y)=>l.jsxs("div",{className:"vice-card p-6 border border-pink-500/30 animate-pulse",children:[l.jsx(le,{className:"h-6 w-32 mb-2 bg-pink-500/20"}),l.jsx(le,{className:"h-4 w-48 mb-3 bg-cyan-400/20"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(le,{className:"h-6 w-20 bg-purple-400/20"}),l.jsx(le,{className:"h-8 w-16 bg-blue-400/20"})]})]},y))}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:"       "})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(p=>{var y,_,S;return l.jsxs("div",{className:"vice-card p-6 border border-pink-500/30 cursor-pointer hover:scale-105 transition-all duration-300 hover:neon-glow relative overflow-hidden group",onClick:()=>{var k;return b((k=p.teams)==null?void 0:k.id)},children:[l.jsx("div",{className:"absolute inset-0 vice-gradient opacity-5 group-hover:opacity-10 transition-opacity"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("h4",{className:"font-bold text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-2",children:(y=p.teams)==null?void 0:y.name}),((_=p.teams)==null?void 0:_.description)&&l.jsx("p",{className:"text-cyan-300 font-mono text-sm mb-4",children:p.teams.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-3 py-1 rounded font-mono font-bold text-xs tracking-wider ${p.role==="leader"?"bg-gradient-to-r from-yellow-500 to-orange-500 text-black":p.role==="admin"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white"}`,children:p.role==="leader"?"":p.role==="admin"?"":""}),l.jsxs("div",{className:"flex space-x-2",onClick:k=>k.stopPropagation(),children:[(p.role==="leader"||p.role==="admin")&&((S=p.teams)==null?void 0:S.id)&&l.jsx(qS,{teamId:p.teams.id,teamName:p.teams.name}),l.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-blue-600 border border-purple-400 text-white py-1 px-3 rounded font-mono font-bold text-xs tracking-wider transition-all duration-300 hover:scale-105 hover:neon-glow-blue flex items-center space-x-1",children:[l.jsx(Dn,{size:12}),l.jsx("span",{children:""})]})]})]})]})]},p.id)})})})]}),l.jsxs("div",{className:"vice-card p-8 relative",children:[l.jsx("div",{className:"absolute inset-0 border border-yellow-500/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-6 flex items-center relative z-10",children:[l.jsx(Sr,{className:"mr-3 text-yellow-400 w-8 h-8"})," "]}),l.jsx("div",{className:"relative z-10",children:o?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(p0,{className:"mx-auto text-red-400 w-16 h-16 mb-4"}),l.jsx("p",{className:"text-red-400 font-mono text-lg tracking-wider mb-2",children:"  "}),l.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:o.message})]}):s?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>l.jsxs("div",{className:"flex items-center justify-between vice-card p-6 border border-yellow-400/30 animate-pulse",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-yellow-400/20"}),l.jsxs("div",{children:[l.jsx(le,{className:"h-6 w-32 mb-2 bg-cyan-400/20"}),l.jsx(le,{className:"h-4 w-24 bg-purple-400/20"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(le,{className:"h-8 w-16 mb-1 bg-green-400/20"}),l.jsx(le,{className:"h-4 w-20 bg-blue-400/20"})]})]},y))}):r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:"    "})]}):l.jsx("div",{className:"space-y-4",children:r.map((p,y)=>l.jsxs("div",{className:"flex items-center justify-between vice-card p-6 border border-yellow-400/30 cursor-pointer hover:scale-105 transition-all duration-300 hover:neon-glow relative overflow-hidden group",onClick:()=>b(p.team_id),children:[l.jsx("div",{className:"absolute inset-0 vice-gradient opacity-5 group-hover:opacity-10 transition-opacity"}),l.jsxs("div",{className:"flex items-center space-x-6 relative z-10",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold font-mono text-2xl text-black border-2 ${y===0?"bg-gradient-to-r from-yellow-400 to-yellow-600 border-yellow-300 neon-glow":y===1?"bg-gradient-to-r from-gray-300 to-gray-500 border-gray-200":y===2?"bg-gradient-to-r from-orange-400 to-orange-600 border-orange-300":"bg-gradient-to-r from-cyan-500 to-blue-500 border-cyan-400 text-white"}`,children:y+1}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:p.team_name}),l.jsxs("p",{className:"text-cyan-300 font-mono tracking-wide",children:[p.member_count," "]})]})]}),l.jsxs("div",{className:"text-right relative z-10",children:[l.jsxs("div",{className:"font-bold text-3xl font-mono text-green-400 neon-text",children:["$",p.total_points.toLocaleString()]}),l.jsxs("div",{className:"text-cyan-300 font-mono text-sm tracking-wider",children:[": $",Math.round(p.avg_points).toLocaleString()]})]})]},p.team_id))})})]})]})},uD=e=>{const{user:t}=Me(),r=vt(),{data:n,isLoading:s,error:i}=lt({queryKey:["chat-messages",e],queryFn:async()=>{console.log("   :",e);const a=I.from("chat_messages").select(`
          id,
          team_id,
          user_id,
          message,
          created_at,
          profiles (
            username,
            full_name
          )
        `).order("created_at",{ascending:!0}).limit(100);e?a.eq("team_id",e):a.is("team_id",null);const{data:c,error:u}=await a;if(u)throw console.error("  :",u),u;return console.log(" :",(c==null?void 0:c.length)||0),c||[]},enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!1}),o=Qe({mutationFn:async a=>{if(!(t!=null&&t.id))throw new Error("  ");console.log(" :",a);const{error:c}=await I.from("chat_messages").insert({user_id:t.id,team_id:e||null,message:a});if(c)throw console.error("  :",c),c},onSuccess:()=>{console.log("  "),r.invalidateQueries({queryKey:["chat-messages",e]})},onError:a=>{console.error("  :",a)}});return m.useEffect(()=>{if(!t)return;console.log("     :",e);const a=I.channel(`chat-messages-${e||"global"}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:e?`team_id=eq.${e}`:"team_id=is.null"},c=>{console.log("  :",c),r.invalidateQueries({queryKey:["chat-messages",e]})}).subscribe(c=>{console.log(" :",c)});return()=>{console.log("   "),I.removeChannel(a)}},[t,e,r]),{messages:n||[],isLoading:s,sendMessage:o.mutateAsync,isSending:o.isPending,error:i}};var Ug="Avatar",[dD,s$]=Li(Ug),[fD,WS]=dD(Ug),HS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return l.jsx(fD,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(de.span,{...n,ref:t})})});HS.displayName=Ug;var KS="AvatarImage",QS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=WS(KS,r),a=hD(n,i.referrerPolicy),c=it(u=>{s(u),o.onImageLoadingStatusChange(u)});return gt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(de.img,{...i,ref:t,src:n}):null});QS.displayName=KS;var GS="AvatarFallback",ZS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=WS(GS,r),[o,a]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(de.span,{...s,ref:t}):null});ZS.displayName=GS;function hD(e,t){const[r,n]=m.useState("idle");return gt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&n(a)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var YS=HS,XS=QS,JS=ZS;const ej=m.forwardRef(({className:e,...t},r)=>l.jsx(YS,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ej.displayName=YS.displayName;const pD=m.forwardRef(({className:e,...t},r)=>l.jsx(XS,{ref:r,className:fe("aspect-square h-full w-full",e),...t}));pD.displayName=XS.displayName;const tj=m.forwardRef(({className:e,...t},r)=>l.jsx(JS,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));tj.displayName=JS.displayName;const rj=({teamId:e,title:t}={})=>{const{user:r}=Me(),{messages:n,isLoading:s,sendMessage:i,isSending:o}=uD(e),[a,c]=m.useState(""),u=m.useRef(null),d=async g=>{if(g.preventDefault(),!(!a.trim()||!r))try{await i(a.trim()),c("")}catch(w){console.error("  :",w)}},f=g=>Kp(new Date(g),{addSuffix:!0,locale:Qp}),h=g=>g.user_id===null,v=t||(e?" ":" "),x=e?"  ":"   ";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 border-2 border-cyan-400/30 rounded-lg pointer-events-none"}),l.jsxs("div",{className:"flex items-center space-x-4 relative z-10",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center border-2 border-cyan-400 neon-glow",children:l.jsx(Dn,{className:"text-white",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient neon-text",children:v}),l.jsx("p",{className:"text-cyan-300 font-mono tracking-wide",children:x})]})]})]}),l.jsxs(Pi,{className:"vice-card border border-pink-500/30 h-[600px] flex flex-col",children:[l.jsx(Jo,{className:"pb-3",children:l.jsxs(ea,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:[l.jsx(Dn,{className:"mr-2 text-cyan-400"}),""]})}),l.jsxs(Ri,{className:"flex-1 flex flex-col p-0 overflow-scroll",children:[l.jsx(nd,{className:"flex-1 px-6",children:l.jsxs("div",{className:"space-y-4 pb-4",children:[s?Array.from({length:5}).map((g,w)=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(le,{className:"w-10 h-10 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-gray-400/20"}),l.jsx(le,{className:"h-16 w-full bg-gray-400/20"})]})]},w)):n.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(Dn,{className:"w-16 h-16 text-cyan-400/50 mb-4"}),l.jsx("p",{className:"text-cyan-300 font-mono text-lg tracking-wider mb-2",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm",children:" ,   !"})]}):n.map(g=>{var w,b;return l.jsx("div",{className:`flex items-start space-x-3 ${h(g)?"justify-center":""}`,children:h(g)?l.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-lg p-3 max-w-md",children:[l.jsx(BE,{className:"w-5 h-5 text-purple-400 flex-shrink-0"}),l.jsx("div",{className:"text-sm text-purple-300 font-mono",children:g.message})]}):l.jsxs(l.Fragment,{children:[l.jsx(ej,{className:"w-10 h-10 border-2 border-cyan-400/50",children:l.jsx(tj,{className:"vice-gradient text-white font-mono text-lg",children:(g.profiles,"")})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"font-bold font-mono text-cyan-300 tracking-wider",children:((w=g.profiles)==null?void 0:w.full_name)||((b=g.profiles)==null?void 0:b.username)||""}),l.jsx("span",{className:"text-xs text-gray-400 font-mono",children:f(g.created_at)})]}),l.jsx("div",{className:"bg-gray-800 border border-cyan-400/20 rounded-lg p-3",children:l.jsx("p",{className:"text-gray-100 font-mono text-sm leading-relaxed break-words",children:g.message})})]})]})},g.id)}),l.jsx("div",{ref:u})]})}),r&&l.jsx("div",{className:"border-t border-gray-700 p-4",children:l.jsxs("form",{onSubmit:d,className:"flex space-x-3",children:[l.jsx(Xe,{value:a,onChange:g=>c(g.target.value),placeholder:" ...",className:"flex-1 bg-gray-800 border-cyan-400/30 text-white font-mono focus:border-cyan-400 focus:ring-cyan-400",disabled:o,maxLength:500}),l.jsx(pe,{type:"submit",disabled:o||!a.trim(),className:"vice-button font-mono tracking-wider px-6",children:o?"...":l.jsxs(l.Fragment,{children:[l.jsx(og,{className:"w-4 h-4 mr-2"}),""]})})]})})]})]})]})},mD=()=>{const[e,t]=m.useState("profile"),r=()=>{switch(e){case"profile":return l.jsx(Gp,{});case"ranking":return l.jsx(nD,{});case"teams":return l.jsx(cD,{});case"chat":return l.jsx(rj,{});case"shop":return l.jsx(ch,{});case"group_shop":return l.jsx(ch,{group:!0});case"gem_shop":return l.jsx(ch,{gem:!0});default:return l.jsx(Gp,{})}},n=()=>{switch(e){case"profile":return" ";case"ranking":return" ";case"teams":return" ";case"chat":return" ";case"shop":return" ";case"group_shop":return" ";case"gem_shop":return"SECRET SHOP ";default:return""}},s=()=>{switch(e){case"profile":return"  ,   ";case"ranking":return"     ";case"teams":return" ,    ";case"chat":return"    ";case"shop":return"     ";case"stats":return"    ";default:return""}};return l.jsxs("div",{className:"min-h-screen flex bg-transparent",children:[l.jsx(aA,{activeTab:e,onTabChange:t}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"vice-card border-b-0 rounded-b-none p-8 mb-6 m-6 mt-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-cyan-500 to-purple-500"}),l.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full opacity-60 animate-float"}),l.jsx("div",{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full opacity-40 animate-pulse"}),l.jsxs("div",{className:"relative text-center z-10",children:[l.jsx("h1",{className:"vice-title text-3xl lg:text-4xl text-transparent bg-clip-text vice-gradient mb-4 animate-pulse-neon",children:n()}),l.jsx("p",{className:"vice-subtitle text-base lg:text-lg vice-text-accent",children:s()})]})]}),l.jsx("div",{className:"flex-1 px-6 pb-6 overflow-auto",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:r()})})]})]})},gD=()=>l.jsx(mD,{}),tf=e=>{const{user:t}=Me(),r=vt(),{data:n,isLoading:s}=lt({queryKey:["team-members",e],queryFn:async()=>{console.log("  :",e);const{data:o,error:a}=await I.from("team_members").select("id").eq("team_id",e).eq("user_id",t==null?void 0:t.id).maybeSingle();if(a)throw console.error("    :",a),a;const{data:c,error:u}=await I.from("team_members").select("id, role, joined_at, user_id, custom_rank").eq("team_id",e);if(u)throw console.error("   :",u),u;if(console.log("  :",(c==null?void 0:c.length)||0),!c||c.length===0)return[];const d=c.map(g=>g.user_id),{data:f,error:h}=await I.from("profiles").select("id, username, full_name, points, rank_title, total_deals, role, crystalls").in("id",d),{data:v}=await I.from("player_stages").select("*").in("user_id",d);if(h)throw console.error("  :",h),h;console.log(" :",(f==null?void 0:f.length)||0);const x=c.map(g=>({...g,profiles:(f==null?void 0:f.find(w=>w.id===g.user_id))||null,stages:v==null?void 0:v.filter(w=>w.user_id===g.user_id).length}));return console.log("  :",x),x},enabled:!!e&&!!(t!=null&&t.id)}),i=Qe({mutationFn:async({memberId:o})=>{if(!(t!=null&&t.id))throw new Error("  ");const{data:a,error:c}=await I.from("teams").select("created_by").eq("id",e).single();if(c)throw c;if(a.created_by!==t.id)throw new Error("     ");const{error:u}=await I.from("team_members").delete().eq("id",o),{error:d}=await I.from("profiles").update({team_id:null}).eq("id",o);if(u||d)throw u||d;return{success:!0}},onSuccess:()=>{r.invalidateQueries({queryKey:["team-members",e]}),r.invalidateQueries({queryKey:["user-teams"]}),r.invalidateQueries({queryKey:["team-rankings"]})}});return{teamMembers:n||[],isLoading:s,removeTeamMember:i.mutateAsync,isRemoving:i.isPending}},vD=({teamName:e})=>{const t=Ld();return l.jsxs("div",{className:"vice-card p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-cyan-500 to-purple-500"}),l.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-gradient-to-r from-pink-500 to-cyan-500 rounded-full opacity-60 animate-float"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full opacity-40 animate-pulse"}),l.jsxs("div",{className:"flex items-center space-x-6 relative z-10",children:[l.jsxs("button",{onClick:()=>t("/"),className:"vice-button p-4 rounded-xl vice-interactive group relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-cyan-500/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rd,{size:28,className:"relative z-10 drop-shadow-lg text-white"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(xo,{className:"text-yellow-400 w-8 h-8 animate-pulse"}),l.jsx("h1",{className:"vice-title text-4xl text-transparent bg-clip-text vice-gradient animate-pulse-neon",children:e||"..."})]}),l.jsx("p",{className:"vice-subtitle text-lg vice-text-accent",children:" "})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),l.jsx("span",{className:"vice-text-secondary text-sm",children:""})]})]})]})},yD=({totalPoints:e,memberCount:t,avgPoints:r,treasuryBalance:n})=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden border-2 border-yellow-500/50 bg-gradient-to-br from-yellow-900/30 to-orange-900/30",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-lg"}),l.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[l.jsx("h3",{className:"gta-nav-text text-sm text-yellow-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Sr,{className:"h-8 w-8 text-yellow-400 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-8 w-8 text-yellow-400 opacity-50 animate-ping",children:l.jsx(Sr,{className:"h-8 w-8"})})]})]}),l.jsxs("div",{className:"gta-title text-4xl text-green-400 relative z-10 filter drop-shadow-lg",children:["$",e.toLocaleString()]})]}),l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden border-2 border-blue-500/50 bg-gradient-to-br from-blue-900/30 to-cyan-900/30",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg"}),l.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[l.jsx("h3",{className:"gta-nav-text text-sm text-blue-300",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(Tr,{className:"h-8 w-8 text-cyan-400 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-8 w-8 text-cyan-400 opacity-50 animate-ping",children:l.jsx(Tr,{className:"h-8 w-8"})})]})]}),l.jsx("div",{className:"gta-title text-4xl text-cyan-400 relative z-10 filter drop-shadow-lg",children:t})]}),l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden border-2 border-purple-500/50 bg-gradient-to-br from-purple-900/30 to-pink-900/30",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-lg"}),l.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[l.jsx("h3",{className:"gta-nav-text text-sm text-purple-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Sr,{className:"h-8 w-8 text-purple-400 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-8 w-8 text-purple-400 opacity-50 animate-ping",children:l.jsx(Sr,{className:"h-8 w-8"})})]})]}),l.jsxs("div",{className:"gta-title text-4xl text-purple-400 relative z-10 filter drop-shadow-lg",children:["$",r.toLocaleString()]})]}),l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden border-2 border-green-500/50 bg-gradient-to-br from-green-900/30 to-emerald-900/30",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-lg"}),l.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[l.jsx("h3",{className:"gta-nav-text text-sm text-green-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(_l,{className:"h-8 w-8 text-green-400 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-8 w-8 text-green-400 opacity-50 animate-ping",children:l.jsx(_l,{className:"h-8 w-8"})})]})]}),l.jsxs("div",{className:"gta-title text-4xl text-emerald-400 relative z-10 filter drop-shadow-lg",children:["$",n.toLocaleString()]})]})]}),xD=({member:e,isLeader:t,isAdmin:r,teamId:n})=>{m.useState(!1);const[s,i]=m.useState(!1);Me(),m.useState("");const[o,a]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),{toast:h}=Ot(),{stages:v,addStage:x,removeStage:g,isManaging:w}=Wd(e.user_id);if(!(t||r))return null;const p=async()=>{if(!(!o||!c))try{console.log("  :",{targetUserId:e.user_id,stageName:o,points:parseInt(c),description:d}),await x({targetUserId:e.user_id,stageName:o,points:parseInt(c),description:d||void 0,teamId:n,verified:!0}),h({title:"",description:` "${o}" `}),a(""),u(""),f(""),i(!1)}catch(y){console.error("  :",y),h({title:"",description:(y==null?void 0:y.message)||"   ",variant:"destructive"})}};return l.jsx("div",{className:"space-y-2",children:l.jsx("div",{className:"flex space-x-2",children:l.jsxs(sr,{open:s,onOpenChange:i,children:[l.jsx(Ti,{asChild:!0,children:l.jsxs(pe,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-800 border border-purple-400 font-mono text-xs",children:[l.jsx(Sr,{size:12,className:"mr-1"}),""]})}),l.jsxs(Bt,{className:"vice-card border border-purple-500/50",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xe,{value:o,onChange:y=>a(y.target.value),placeholder:" ",className:"bg-gray-800 border border-purple-500/30 text-cyan-300 font-mono"}),l.jsx(Xe,{type:"number",value:c,onChange:y=>u(y.target.value),placeholder:"  ",className:"bg-gray-800 border border-purple-500/30 text-cyan-300 font-mono"}),l.jsx(Xe,{value:d,onChange:y=>f(y.target.value),placeholder:" ()",className:"bg-gray-800 border border-purple-500/30 text-cyan-300 font-mono"}),l.jsx(pe,{onClick:p,disabled:!o||!c||w,className:"w-full bg-gradient-to-r from-purple-600 to-purple-800 border border-purple-400 font-mono font-bold",children:w?"...":" "})]})]})]})})})},wD=({member:e,canManage:t=!1})=>{const{stages:r,addStage:n,removeStage:s,isManaging:i,approveStage:o}=Wd(e.user_id),[a,c]=m.useState(!1),u=async(d,f)=>{if(window.confirm(`  "${f}"?`))try{await s(d),_i({title:"",description:` "${f}" `})}catch(h){console.error("  :",h),_i({title:"",description:(h==null?void 0:h.message)||"   ",variant:"destructive"})}};return r.length>0&&l.jsxs("div",{className:"mt-2 space-y-1 w-full pb-6 pl-6",children:[l.jsxs("div",{onClick:()=>c(!a),className:"items-center space-x-2 pb-4 cursor-pointer flex-row flex",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:""}),a?l.jsx(sg,{size:20}):l.jsx(Od,{size:20})]}),a&&r.map(d=>l.jsxs("div",{className:`flex  ${d!=null&&d.verified||t?"opacity-1":"opacity-50"}  items-center justify-between bg-gray-800/50 rounded px-2 py-2 text-sm w-[350px]`,children:[l.jsx("span",{className:"font-mono text-purple-400",children:d.stage_name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`font-mono text-${d.points>0?"green":"red"}-400`,children:d.points>0?`+${d.points} $`:`${d.points} $`}),t&&l.jsx(pe,{size:"sm",variant:"outline",onClick:()=>u(d.id,d.stage_name),disabled:i,className:"h-6 w-6 p-0 text-red-400 border-red-400/30 hover:bg-red-400/20",children:l.jsx(Id,{size:10})}),t&&!(d!=null&&d.verified)&&l.jsx(pe,{size:"sm",variant:"outline",onClick:()=>o({stageId:d.id,userId:e.user_id}),disabled:i,className:"h-6 w-6 p-0 text-green-400 border-greed-400/30 hover:bg-green-400/20",children:l.jsx(Ad,{size:10})})]})]},d.id))]})},bD=({teamMembers:e,isLoading:t,isTeamLeader:r,isTeamAdmin:n,teamId:s,teamName:i,onRemoveMember:o,isRemoving:a})=>{const[c,u]=m.useState(null),[d,f]=m.useState(""),[h,v]=m.useState(0),{toast:x}=Ot(),g=vt(),w=r||n,b=j=>new Date(j).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),p=async(j,P)=>{try{const{error:R}=await I.from("team_members").update({custom_rank:P}).eq("id",j);if(R)throw R;x({title:"",description:"  "}),g.invalidateQueries({queryKey:["team-members",s]}),u(null),f("")}catch(R){console.error("  :",R),x({title:"",description:"   ",variant:"destructive"})}},y=async(j,P)=>{try{const{error:R,data:$,status:T,statusText:z}=await I.from("profiles").update({crystalls:P}).eq("id",j);if(R)throw R;x({title:"",description:"  "}),g.invalidateQueries({queryKey:["team-members",s]}),u(null),v(0)}catch(R){console.error("  :",R),x({title:"",description:"   ",variant:"destructive"})}},_=async(j,P)=>{try{const{error:R}=await I.from("team_members").update({role:P}).eq("id",j);if(R)throw R;x({title:"",description:`    ${P==="admin"?"":""}`}),g.invalidateQueries({queryKey:["team-members",s]})}catch(R){console.error("  :",R),x({title:"",description:"   ",variant:"destructive"})}},S=j=>{var P,R,$,T,z,L,Y,q,re,O,F,Z;return console.log(j),j?l.jsxs(l.Fragment,{children:[l.jsxs("tr",{className:"border-b border-gray-600/50 hover:bg-pink-500/20 transition-all duration-300",children:[l.jsx("td",{className:"py-4 px-4",children:l.jsxs(_o,{to:`/player/${j.user_id}`,className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[l.jsxs("div",{className:"relative w-14 h-14 vice-gradient rounded-full flex items-center justify-center border-2 border-cyan-400 shadow-lg",children:[l.jsx("span",{className:"text-xl font-mono font-bold text-white filter drop-shadow-sm",children:((R=(P=j.profiles)==null?void 0:P.full_name)==null?void 0:R[0])||((T=($=j.profiles)==null?void 0:$.username)==null?void 0:T[0])||"?"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-cyan-400 opacity-50 animate-pulse"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold font-mono text-white text-lg",children:((z=j.profiles)==null?void 0:z.full_name)||((L=j.profiles)==null?void 0:L.username)||""}),l.jsxs("div",{className:"text-sm text-cyan-300 font-mono",children:["@",((Y=j.profiles)==null?void 0:Y.username)||"unknown"]})]})]})}),l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[j.role==="leader"&&l.jsxs("div",{className:"relative",children:[l.jsx(cp,{className:"h-6 w-6 text-yellow-400 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-6 w-6 text-yellow-400 opacity-50 animate-pulse",children:l.jsx(cp,{className:"h-6 w-6"})})]}),l.jsx("span",{className:`px-4 py-2 rounded-lg font-mono font-bold text-sm tracking-wider border-2 shadow-lg ${j.role==="leader"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-black border-yellow-300":j.role==="admin"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-purple-300":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white border-cyan-300"}`,children:j.role==="leader"?"":j.role==="admin"?"":""})]})}),l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-mono font-bold text-purple-400 text-lg filter drop-shadow-sm",children:j.custom_rank||((q=j.profiles)==null?void 0:q.rank_title)||""}),w&&j.role!=="leader"&&l.jsxs(sr,{children:[l.jsx(Ti,{asChild:!0,children:l.jsx(pe,{size:"sm",variant:"outline",className:"ml-2 text-xs bg-purple-600/20 border-purple-400/50 text-purple-300 hover:bg-purple-600/40",onClick:()=>{u(j.id),f(j.custom_rank||"")},children:l.jsx(g0,{size:12})})}),l.jsxs(Bt,{className:"vice-card border border-purple-500/50",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xe,{value:d,onChange:W=>f(W.target.value),placeholder:"  ",className:"bg-gray-800 border border-purple-500/30 text-cyan-300 font-mono focus:border-purple-500 focus:ring-purple-500"}),l.jsx("div",{className:"flex justify-end space-x-2",children:l.jsx(pe,{onClick:()=>p(j.id,d),className:"bg-gradient-to-r from-purple-600 to-purple-800 border border-purple-400 font-mono font-bold",children:""})})]})]})]})]})}),l.jsx("td",{className:"py-4 px-4",children:j.role!=="leader"&&l.jsxs("span",{className:"font-bold font-mono text-3xl text-green-400 filter drop-shadow-lg",children:["$",((O=(re=j.profiles)==null?void 0:re.points)==null?void 0:O.toLocaleString())||0]})}),l.jsx("td",{className:"py-4 px-4",children:j.role!=="leader"&&l.jsx("span",{className:"font-mono font-bold text-cyan-400 text-xl",children:(j==null?void 0:j.stages)||0})}),l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300 font-mono",children:[l.jsx($b,{className:"h-5 w-5 text-pink-400"}),l.jsx("span",{children:b(j.joined_at)})]})}),w&&l.jsx("td",{className:"py-4 px-4",children:j.role!=="leader"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(xD,{member:j,isLeader:r,isAdmin:n,teamId:s}),l.jsxs("div",{className:"flex space-x-2",children:[r&&j.role!=="admin"&&l.jsxs("button",{onClick:()=>_(j.id,"admin"),className:"bg-gradient-to-r from-purple-600 to-purple-800 border-2 border-purple-400 text-white py-1 px-2 rounded-lg font-mono font-bold text-xs tracking-wider transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-purple-500/25 flex items-center space-x-1",children:[l.jsx(sg,{size:12}),l.jsx("span",{children:""})]}),r&&j.role==="admin"&&l.jsxs("button",{onClick:()=>_(j.id,"member"),className:"bg-gradient-to-r from-orange-600 to-orange-800 border-2 border-orange-400 text-white py-1 px-2 rounded-lg font-mono font-bold text-xs tracking-wider transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-orange-500/25 flex items-center space-x-1",children:[l.jsx(Od,{size:12}),l.jsx("span",{children:""})]}),l.jsxs("button",{onClick:()=>{var W,X;return o(j.id,((W=j.profiles)==null?void 0:W.full_name)||((X=j.profiles)==null?void 0:X.username)||"")},disabled:a,className:"bg-gradient-to-r from-red-600 to-red-800 border-2 border-red-400 text-white py-1 px-2 rounded-lg font-mono font-bold text-xs tracking-wider transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-red-500/25 flex items-center space-x-1",children:[l.jsx(XE,{size:12,className:"filter drop-shadow-sm"}),l.jsx("span",{children:""})]})]})]})}),l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center space-x-2 nowrap w-full gap-2",children:[j.role!=="leader"&&l.jsxs("span",{className:"font-bold font-mono text-2xl text-cyan-400 filter drop-shadow-lg whitespace-nowrap",children:[((Z=(F=j.profiles)==null?void 0:F.crystalls)==null?void 0:Z.toLocaleString())||0," "]}),w&&j.role!=="leader"&&l.jsxs(sr,{children:[l.jsx(Ti,{asChild:!0,children:l.jsx(pe,{size:"sm",variant:"outline",className:"ml-2 text-xs bg-purple-600/20 border-purple-400/50 text-purple-300 hover:bg-purple-600/40",onClick:()=>{v((j==null?void 0:j.crystalls)||0)},children:l.jsx(g0,{size:12})})}),l.jsxs(Bt,{className:"vice-card border border-purple-500/50",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:"  "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xe,{value:String(h),onChange:W=>{let X=W.target.value;if(X===""){v(0);return}X=X.replace(/\D/g,""),X=X.replace(/^0+/,""),X===""&&(X="0"),v(Number(X))},placeholder:"   ",className:"bg-gray-800 border border-purple-500/30 text-cyan-300 font-mono focus:border-purple-500 focus:ring-purple-500",type:"text"}),l.jsx("div",{className:"flex justify-end space-x-2",children:l.jsx(pe,{onClick:()=>{var W;return y((W=j==null?void 0:j.profiles)==null?void 0:W.id,h)},className:"bg-gradient-to-r from-purple-600 to-purple-800 border border-purple-400 font-mono font-bold",children:""})})]})]})]})]})})]},j.id),l.jsx("tr",{children:l.jsx(wD,{canManage:w,member:j})})]}):null},k=e.find(j=>j.role==="leader"),N=()=>e.filter(j=>j.role!=="leader").length>1?e.filter(j=>j.role!=="leader").sort((j,P)=>{var R,$;return((R=P.profiles)==null?void 0:R.points)-(($=j.profiles)==null?void 0:$.points)}).map(j=>S(j)):e.filter(j=>j.role!=="leader").map(j=>S(j));return l.jsxs("div",{className:"vice-card p-8 relative border-2 border-pink-500/50 bg-gradient-to-br from-gray-900/90 to-purple-900/90",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/10 to-purple-500/10 rounded-lg"}),l.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[l.jsxs("h2",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:[l.jsxs("div",{className:"relative mr-4",children:[l.jsx(Tr,{className:"text-cyan-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-cyan-400 opacity-30 animate-pulse",children:l.jsx(Tr,{className:"w-10 h-10"})})]})," "]}),w&&l.jsx(qS,{teamId:s,teamName:i})]}),l.jsx("div",{className:"relative z-10",children:t?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,P)=>l.jsx("div",{className:"vice-card p-6 border border-cyan-400/30 bg-gray-800/50",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(le,{className:"h-12 w-12 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(le,{className:"h-6 w-32 bg-pink-500/20"}),l.jsx(le,{className:"h-4 w-24 bg-purple-400/20"})]})]})},P))}):e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:"    "})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b-2 border-cyan-400/50",children:[l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:" "}),w&&l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""}),l.jsx("th",{className:"text-left py-4 px-4 font-mono font-bold text-cyan-300 tracking-wider uppercase text-sm",children:""})]})}),l.jsxs("tbody",{children:[S(k),N()]})]})})})]})},_D=({topicId:e,canReply:t})=>{const[r,n]=m.useState(""),{user:s}=Me(),{toast:i}=Ot(),o=vt(),a=Qe({mutationFn:async({content:u})=>{if(!(s!=null&&s.id))throw new Error("  ");const{error:d}=await I.from("organization_forum_replies").insert({topic_id:e,user_id:s.id,content:u});if(d)throw d},onSuccess:()=>{o.invalidateQueries({queryKey:["forum-replies",e]}),n(""),i({title:"",description:" "})},onError:u=>{console.error("  :",u),i({title:"",description:"   ",variant:"destructive"})}}),c=async u=>{u.preventDefault(),r.trim()&&a.mutate({content:r})};return t?l.jsx("form",{onSubmit:c,className:"vice-card p-6 border border-green-400/30 bg-gray-800/50",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-mono font-bold text-cyan-300 tracking-wider",children:" "}),l.jsx(Yr,{value:r,onChange:u=>n(u.target.value),placeholder:"  ...",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500 min-h-24",required:!0}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:a.isPending||!r.trim(),className:"bg-gradient-to-r from-green-600 to-green-800 border border-green-400 text-white py-2 px-6 rounded font-mono font-bold tracking-wider disabled:opacity-50 flex items-center space-x-2",children:[l.jsx(og,{size:16}),l.jsx("span",{children:a.isPending?"...":""})]})})]})}):null},SD=({reply:e,canEdit:t,onEdit:r,onDelete:n,isDeleting:s})=>{var o,a,c,u,d,f;const i=h=>new Date(h).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsx("div",{className:"vice-card p-6 border border-cyan-400/30 bg-gray-800/50 hover:border-cyan-400/60 transition-all duration-300",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 vice-gradient rounded-full flex items-center justify-center border-2 border-cyan-400 shadow-lg flex-shrink-0",children:l.jsx("span",{className:"text-lg font-mono font-bold text-white filter drop-shadow-sm",children:((a=(o=e.profiles)==null?void 0:o.full_name)==null?void 0:a[0])||((u=(c=e.profiles)==null?void 0:c.username)==null?void 0:u[0])||"?"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Is,{className:"h-4 w-4 text-purple-400"}),l.jsx("span",{className:"text-purple-300 font-mono font-bold",children:((d=e.profiles)==null?void 0:d.full_name)||((f=e.profiles)==null?void 0:f.username)||" "})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400 font-mono",children:[l.jsx(ig,{className:"h-4 w-4"}),l.jsx("span",{children:i(e.created_at)})]}),t&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:r,className:"p-1 text-blue-400 hover:text-blue-300 transition-colors",title:"",children:l.jsx(Bb,{size:14})}),l.jsx("button",{onClick:n,className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"",disabled:s,children:l.jsx(Id,{size:14})})]})]})]}),l.jsx("div",{className:"text-cyan-300 font-mono leading-relaxed break-words",children:e.content})]})]})})},jD=({replies:e,isLoading:t,canReply:r,currentUserId:n,isTeamLeader:s,onEditReply:i,onDeleteReply:o,isDeleting:a})=>{const c=u=>n===u.user_id||s;return t?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((u,d)=>l.jsx("div",{className:"vice-card p-6 border border-cyan-400/30 bg-gray-800/50",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx(le,{className:"h-12 w-12 rounded-full bg-cyan-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-purple-400/20"}),l.jsx(le,{className:"h-16 w-full bg-cyan-400/20"}),l.jsx(le,{className:"h-3 w-24 bg-gray-400/20"})]})]})},d))}):!e||e.length===0?l.jsxs("div",{className:"text-center py-12 vice-card border border-cyan-400/30 bg-gray-800/50",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-lg tracking-wider",children:"  "}),r&&l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:" ,   "})]}):l.jsx("div",{className:"space-y-4",children:e.map(u=>l.jsx(SD,{reply:u,canEdit:c(u),onEdit:()=>i(u),onDelete:()=>o(u.id),isDeleting:a},u.id))})},kD=({isOpen:e,onClose:t,reply:r,onUpdate:n})=>{const[s,i]=m.useState(r.content),[o,a]=m.useState(!1),{toast:c}=Ot(),u=async()=>{if(!s.trim()){c({title:"",description:"    ",variant:"destructive"});return}a(!0);try{const{error:f}=await I.from("organization_forum_replies").update({content:s.trim()}).eq("id",r.id);if(f)throw f;c({title:"",description:" "}),n()}catch(f){console.error("  :",f),c({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}},d=()=>{i(r.content),t()};return l.jsx(sr,{open:e,onOpenChange:d,children:l.jsxs(Bt,{className:"vice-card border border-cyan-500/50 max-w-2xl",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:" "}),l.jsx(Yr,{value:s,onChange:f=>i(f.target.value),placeholder:"  ",className:"bg-gray-800 border border-cyan-500/30 text-cyan-300 font-mono focus:border-cyan-500 focus:ring-cyan-500 min-h-24"})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:d,className:"border-purple-400 text-purple-400 font-mono tracking-wider hover:bg-purple-400/10",children:""}),l.jsx("button",{onClick:u,disabled:o,className:"bg-gradient-to-r from-cyan-600 to-cyan-800 border border-cyan-400 text-white py-2 px-6 rounded font-mono font-bold tracking-wider disabled:opacity-50",children:o?"...":""})]})]})]})})},ND=({topicId:e,canReply:t,isTeamLeader:r})=>{const[n,s]=m.useState(null),{user:i}=Me(),{toast:o}=Ot(),a=vt(),{data:c,isLoading:u}=lt({queryKey:["forum-replies",e],queryFn:async()=>{const{data:h,error:v}=await I.from("organization_forum_replies").select(`
          id,
          content,
          created_at,
          user_id
        `).eq("topic_id",e).order("created_at",{ascending:!0});if(v)throw v;if(!h||h.length===0)return[];const x=h.map(b=>b.user_id),{data:g}=await I.from("profiles").select("id, username, full_name").in("id",x);return h.map(b=>({...b,profiles:(g==null?void 0:g.find(p=>p.id===b.user_id))||void 0}))},enabled:!!e}),d=Qe({mutationFn:async h=>{const{error:v}=await I.from("organization_forum_replies").delete().eq("id",h);if(v)throw v},onSuccess:()=>{a.invalidateQueries({queryKey:["forum-replies",e]}),o({title:"",description:" "})},onError:h=>{console.error("  :",h),o({title:"",description:"   ",variant:"destructive"})}}),f=async h=>{window.confirm(" ,     ?")&&d.mutate(h)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Dn,{className:"h-6 w-6 text-cyan-400"}),l.jsxs("h3",{className:"text-xl font-bold font-mono text-transparent bg-clip-text vice-gradient tracking-wider",children:[" (",(c==null?void 0:c.length)||0,")"]})]}),l.jsx(_D,{topicId:e,canReply:t}),l.jsx(jD,{replies:c,isLoading:u,canReply:t,currentUserId:i==null?void 0:i.id,isTeamLeader:r,onEditReply:s,onDeleteReply:f,isDeleting:d.isPending}),n&&l.jsx(kD,{isOpen:!!n,onClose:()=>s(null),reply:n,onUpdate:()=>{a.invalidateQueries({queryKey:["forum-replies",e]}),s(null)}})]})},CD=({isOpen:e,onClose:t,topic:r,onUpdate:n})=>{const[s,i]=m.useState(r.title),[o,a]=m.useState(r.content),[c,u]=m.useState(!1),{toast:d}=Ot(),f=async()=>{if(!s.trim()||!o.trim()){d({title:"",description:"  ",variant:"destructive"});return}u(!0);try{const{error:v}=await I.from("organization_forum_topics").update({title:s.trim(),content:o.trim(),updated_at:new Date().toISOString()}).eq("id",r.id);if(v)throw v;d({title:"",description:" "}),n()}catch(v){console.error("  :",v),d({title:"",description:"   ",variant:"destructive"})}finally{u(!1)}},h=()=>{i(r.title),a(r.content),t()};return l.jsx(sr,{open:e,onOpenChange:h,children:l.jsxs(Bt,{className:"vice-card border border-green-500/50 max-w-2xl",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:" "}),l.jsx(Xe,{value:s,onChange:v=>i(v.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:""}),l.jsx(Yr,{value:o,onChange:v=>a(v.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500 min-h-32"})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:h,className:"border-purple-400 text-purple-400 font-mono tracking-wider hover:bg-purple-400/10",children:""}),l.jsx("button",{onClick:f,disabled:c,className:"bg-gradient-to-r from-green-600 to-green-800 border border-green-400 text-white py-2 px-6 rounded font-mono font-bold tracking-wider disabled:opacity-50",children:c?"...":""})]})]})]})})},ED=({onBack:e})=>l.jsx("div",{className:"vice-card p-6 relative border-2 border-green-500/50 bg-gradient-to-br from-gray-900/90 to-green-900/90",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"bg-gradient-to-r from-purple-600 to-purple-800 border-2 border-purple-400 text-white py-2 px-4 rounded-lg font-mono font-bold text-sm tracking-wider transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-purple-500/25 flex items-center space-x-2",children:[l.jsx(Rd,{size:16}),l.jsx("span",{children:"  "})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-green-400 font-mono",children:[l.jsx(Dn,{className:"h-5 w-5"}),l.jsx("span",{children:" "})]})]})}),TD=({canEdit:e,onEdit:t,onDelete:r})=>e?l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-800 border border-blue-400 text-white p-2 rounded font-mono font-bold transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",title:" ",children:l.jsx(Bb,{size:16})}),l.jsx("button",{onClick:r,className:"bg-gradient-to-r from-red-600 to-red-800 border border-red-400 text-white p-2 rounded font-mono font-bold transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-red-500/25",title:" ",children:l.jsx(Id,{size:16})})]}):null,PD=({topic:e,canEdit:t,onEdit:r,onDelete:n})=>{var i,o,a,c,u,d;const s=f=>new Date(f).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"vice-card p-8 relative border-2 border-green-500/50 bg-gradient-to-br from-gray-900/90 to-green-900/90",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-cyan-500/10 rounded-lg"}),l.jsxs("div",{className:"relative z-10 space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex-1 pr-4",children:e.title}),l.jsx(TD,{canEdit:t,onEdit:r,onDelete:n})]}),l.jsx("div",{className:"flex items-center justify-between text-sm border-b border-gray-600/50 pb-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 vice-gradient rounded-full flex items-center justify-center border-2 border-cyan-400 shadow-lg",children:l.jsx("span",{className:"text-sm font-mono font-bold text-white filter drop-shadow-sm",children:((o=(i=e.profiles)==null?void 0:i.full_name)==null?void 0:o[0])||((c=(a=e.profiles)==null?void 0:a.username)==null?void 0:c[0])||"?"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Is,{className:"h-4 w-4 text-purple-400"}),l.jsx("span",{className:"text-purple-300 font-mono font-bold",children:((u=e.profiles)==null?void 0:u.full_name)||((d=e.profiles)==null?void 0:d.username)||" "})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 font-mono",children:[l.jsx(ig,{className:"h-4 w-4"}),l.jsxs("span",{children:[": ",s(e.created_at)]})]})]})]})}),l.jsx("div",{className:"prose prose-invert max-w-none",children:l.jsx("div",{className:"text-cyan-300 font-mono text-lg leading-relaxed whitespace-pre-wrap",children:e.content})})]})]})},RD=({topicId:e,teamId:t,canCreateTopics:r,onBack:n})=>{const{user:s}=Me(),{toast:i}=Ot(),[o,a]=m.useState(!1),{data:c,isLoading:u,refetch:d}=lt({queryKey:["forum-topic",e],queryFn:async()=>{const{data:x,error:g}=await I.from("organization_forum_topics").select(`
          id,
          title,
          content,
          created_at,
          created_by,
          updated_at
        `).eq("id",e).single();if(g)throw g;if(!x)return null;const{data:w}=await I.from("profiles").select("id, username, full_name").eq("id",x.created_by).single();return{...x,profiles:w||void 0}},enabled:!!e}),{data:f}=lt({queryKey:["is-team-member",t,s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return!1;const{data:x,error:g}=await I.from("team_members").select("id").eq("team_id",t).eq("user_id",s.id).single();return!g&&!!x},enabled:!!t&&!!(s!=null&&s.id)}),h=async()=>{if(c&&window.confirm(" ,     ?    ."))try{const{error:x}=await I.from("organization_forum_topics").delete().eq("id",e);if(x)throw x;i({title:"",description:" "}),n()}catch(x){console.error("  :",x),i({title:"",description:"   ",variant:"destructive"})}},v=c&&((s==null?void 0:s.id)===c.created_by||r);return u?l.jsx("div",{className:"vice-card p-8 relative border-2 border-green-500/50 bg-gradient-to-br from-gray-900/90 to-green-900/90",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(le,{className:"h-10 w-10 bg-green-400/20"}),l.jsx(le,{className:"h-8 w-64 bg-cyan-400/20"})]}),l.jsx(le,{className:"h-6 w-full bg-purple-400/20"}),l.jsx(le,{className:"h-32 w-full bg-cyan-400/20"})]})}):c?l.jsxs("div",{className:"space-y-8",children:[l.jsx(ED,{onBack:n}),l.jsx(PD,{topic:c,canEdit:!!v,onEdit:()=>a(!0),onDelete:h}),l.jsxs("div",{className:"vice-card p-8 relative border-2 border-cyan-500/50 bg-gradient-to-br from-gray-900/90 to-cyan-900/90",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-blue-500/10 rounded-lg"}),l.jsx("div",{className:"relative z-10",children:l.jsx(ND,{topicId:e,canReply:!!f,isTeamLeader:r})})]}),l.jsx(CD,{isOpen:o,onClose:()=>a(!1),topic:c,onUpdate:()=>{d(),a(!1)}})]}):l.jsx("div",{className:"vice-card p-8 relative border-2 border-red-500/50 bg-gradient-to-br from-gray-900/90 to-red-900/90",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-red-300 font-mono text-xl tracking-wider",children:"  "}),l.jsx("button",{onClick:n,className:"mt-4 bg-gradient-to-r from-purple-600 to-purple-800 border border-purple-400 text-white py-2 px-4 rounded font-mono font-bold tracking-wider",children:"  "})]})})},AD=({teamId:e,canCreateTopics:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(""),[o,a]=m.useState(""),[c,u]=m.useState(null),{user:d}=Me(),{toast:f}=Ot(),h=vt(),{data:v,isLoading:x}=lt({queryKey:["forum-topics",e],queryFn:async()=>{const{data:p,error:y}=await I.from("organization_forum_topics").select(`
          id,
          title,
          content,
          created_at,
          created_by,
          updated_at
        `).eq("team_id",e).order("created_at",{ascending:!1});if(y)throw y;if(!p||p.length===0)return[];const _=p.map(R=>R.created_by),{data:S}=await I.from("profiles").select("id, username, full_name").in("id",_),k=p.map(R=>R.id),{data:N}=await I.from("organization_forum_replies").select("topic_id").in("topic_id",k),j=(N==null?void 0:N.reduce((R,$)=>(R[$.topic_id]=(R[$.topic_id]||0)+1,R),{}))||{};return p.map(R=>({...R,profiles:(S==null?void 0:S.find($=>$.id===R.created_by))||void 0,reply_count:j[R.id]||0}))},enabled:!!e}),g=Qe({mutationFn:async({title:p,content:y})=>{if(!(d!=null&&d.id))throw new Error("  ");const{error:_}=await I.from("organization_forum_topics").insert({team_id:e,created_by:d.id,title:p,content:y});if(_)throw _},onSuccess:()=>{h.invalidateQueries({queryKey:["forum-topics",e]}),i(""),a(""),n(!1),f({title:"",description:"  "})},onError:p=>{console.error("  :",p),f({title:"",description:"   ",variant:"destructive"})}}),w=async p=>{p.preventDefault(),!(!s.trim()||!o.trim())&&g.mutate({title:s,content:o})},b=p=>new Date(p).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?l.jsx(RD,{topicId:c,teamId:e,canCreateTopics:t,onBack:()=>u(null)}):l.jsxs("div",{className:"vice-card p-8 relative border-2 border-green-500/50 bg-gradient-to-br from-gray-900/90 to-green-900/90",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-cyan-500/10 rounded-lg"}),l.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[l.jsxs("h2",{className:"text-3xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:[l.jsxs("div",{className:"relative mr-4",children:[l.jsx(up,{className:"text-green-400 w-10 h-10 filter drop-shadow-lg"}),l.jsx("div",{className:"absolute inset-0 text-green-400 opacity-30 animate-pulse",children:l.jsx(up,{className:"w-10 h-10"})})]})," "]}),t&&l.jsxs(sr,{open:r,onOpenChange:n,children:[l.jsx(Ti,{asChild:!0,children:l.jsxs("button",{className:"bg-gradient-to-r from-green-600 to-green-800 border-2 border-green-400 text-white py-3 px-6 rounded-lg font-mono font-bold text-sm tracking-wider transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-green-500/25 flex items-center space-x-2",children:[l.jsx(Md,{size:20}),l.jsx("span",{children:" "})]})}),l.jsxs(Bt,{className:"vice-card border border-green-500/50 max-w-2xl",children:[l.jsx(Vt,{children:l.jsx(qt,{className:"text-2xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:"  "})}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:" "}),l.jsx(Xe,{value:s,onChange:p=>i(p.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono font-bold mb-3 text-cyan-300 tracking-wider",children:""}),l.jsx(Yr,{value:o,onChange:p=>a(p.target.value),placeholder:"  ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono focus:border-green-500 focus:ring-green-500 min-h-32",required:!0})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-purple-400 text-purple-400 font-mono tracking-wider hover:bg-purple-400/10",children:""}),l.jsx("button",{type:"submit",disabled:g.isPending,className:"bg-gradient-to-r from-green-600 to-green-800 border border-green-400 text-white py-2 px-6 rounded font-mono font-bold tracking-wider disabled:opacity-50",children:g.isPending?"...":""})]})]})]})]})]}),l.jsx("div",{className:"relative z-10",children:x?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>l.jsxs("div",{className:"vice-card p-6 border border-green-400/30 bg-gray-800/50",children:[l.jsx(le,{className:"h-6 w-64 mb-3 bg-green-500/20"}),l.jsx(le,{className:"h-4 w-full mb-2 bg-cyan-400/20"}),l.jsx(le,{className:"h-4 w-32 bg-purple-400/20"})]},y))}):!v||v.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-cyan-300 font-mono text-xl tracking-wider",children:"    "}),t&&l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"    "})]}):l.jsx("div",{className:"space-y-4",children:v.map(p=>{var y,_;return l.jsxs("div",{className:"vice-card p-6 border border-green-400/30 bg-gray-800/50 hover:border-green-400/60 transition-all duration-300 hover:bg-gray-800/70 cursor-pointer",onClick:()=>u(p.id),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold font-mono text-transparent bg-clip-text vice-gradient tracking-wider flex-1 pr-4",children:p.title}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 font-mono flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Dn,{className:"h-4 w-4"}),l.jsx("span",{children:p.reply_count})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ig,{className:"h-4 w-4"}),l.jsx("span",{children:b(p.created_at)})]})]})]}),l.jsx("p",{className:"text-cyan-300 font-mono mb-4 leading-relaxed line-clamp-3",children:p.content.length>200?`${p.content.substring(0,200)}...`:p.content}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(Is,{className:"h-4 w-4 text-purple-400"}),l.jsx("span",{className:"text-purple-300 font-mono",children:((y=p.profiles)==null?void 0:y.full_name)||((_=p.profiles)==null?void 0:_.username)||" "})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-cyan-400 font-mono",children:[l.jsx(Fb,{className:"h-4 w-4"}),l.jsx("span",{children:" "})]})]})]},p.id)})})})]})},OD=["top","right","bottom","left"],zs=Math.min,cr=Math.max,sd=Math.round,qc=Math.floor,Us=e=>({x:e,y:e}),MD={left:"right",right:"left",bottom:"top",top:"bottom"},ID={start:"end",end:"start"};function Zp(e,t,r){return cr(e,zs(t,r))}function Vn(e,t){return typeof e=="function"?e(t):e}function qn(e){return e.split("-")[0]}function ua(e){return e.split("-")[1]}function Bg(e){return e==="x"?"y":"x"}function Vg(e){return e==="y"?"height":"width"}function Bs(e){return["top","bottom"].includes(qn(e))?"y":"x"}function qg(e){return Bg(Bs(e))}function DD(e,t,r){r===void 0&&(r=!1);const n=ua(e),s=qg(e),i=Vg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=id(o)),[o,id(o)]}function LD(e){const t=id(e);return[Yp(e),t,Yp(t)]}function Yp(e){return e.replace(/start|end/g,t=>ID[t])}function $D(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function FD(e,t,r,n){const s=ua(e);let i=$D(qn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Yp)))),i}function id(e){return e.replace(/left|right|bottom|top/g,t=>MD[t])}function zD(e){return{top:0,right:0,bottom:0,left:0,...e}}function nj(e){return typeof e!="number"?zD(e):{top:e,right:e,bottom:e,left:e}}function od(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ry(e,t,r){let{reference:n,floating:s}=e;const i=Bs(t),o=qg(t),a=Vg(o),c=qn(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(ua(t)){case"start":v[o]-=h*(r&&u?-1:1);break;case"end":v[o]+=h*(r&&u?-1:1);break}return v}const UD=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ry(u,n,c),h=n,v={},x=0;for(let g=0;g<a.length;g++){const{name:w,fn:b}=a[g],{x:p,y,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});d=p??d,f=y??f,v={...v,[w]:{...v[w],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Ry(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Bl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=Vn(t,e),x=nj(v),w=a[h?f==="floating"?"reference":"floating":f],b=od(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:y,strategy:c}):p);return{top:(b.top-S.top+x.top)/_.y,bottom:(S.bottom-b.bottom+x.bottom)/_.y,left:(b.left-S.left+x.left)/_.x,right:(S.right-b.right+x.right)/_.x}}const BD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Vn(e,t)||{};if(u==null)return{};const f=nj(d),h={x:r,y:n},v=qg(s),x=Vg(v),g=await o.getDimensions(u),w=v==="y",b=w?"top":"left",p=w?"bottom":"right",y=w?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[v]-h[v]-i.floating[x],S=h[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=k?k[y]:0;(!N||!await(o.isElement==null?void 0:o.isElement(k)))&&(N=a.floating[y]||i.floating[x]);const j=_/2-S/2,P=N/2-g[x]/2-1,R=zs(f[b],P),$=zs(f[p],P),T=R,z=N-g[x]-$,L=N/2-g[x]/2+j,Y=Zp(T,L,z),q=!c.arrow&&ua(s)!=null&&L!==Y&&i.reference[x]/2-(L<T?R:$)-g[x]/2<0,re=q?L<T?L-T:L-z:0;return{[v]:h[v]+re,data:{[v]:Y,centerOffset:L-Y-re,...q&&{alignmentOffset:re}},reset:q}}}),VD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Vn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=qn(s),p=Bs(a),y=qn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(y||!g?[id(a)]:LD(a)),k=x!=="none";!h&&k&&S.push(...FD(a,g,x,_));const N=[a,...S],j=await Bl(t,w),P=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(j[b]),f){const L=DD(s,o,_);P.push(j[L[0]],j[L[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(L=>L<=0)){var $,T;const L=((($=i.flip)==null?void 0:$.index)||0)+1,Y=N[L];if(Y)return{data:{index:L,overflows:R},reset:{placement:Y}};let q=(T=R.filter(re=>re.overflows[0]<=0).sort((re,O)=>re.overflows[1]-O.overflows[1])[0])==null?void 0:T.placement;if(!q)switch(v){case"bestFit":{var z;const re=(z=R.filter(O=>{if(k){const F=Bs(O.placement);return F===p||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,Z)=>F+Z,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:z[0];re&&(q=re);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function Ay(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oy(e){return OD.some(t=>e[t]>=0)}const qD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Vn(e,t);switch(n){case"referenceHidden":{const i=await Bl(t,{...s,elementContext:"reference"}),o=Ay(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Oy(o)}}}case"escaped":{const i=await Bl(t,{...s,altBoundary:!0}),o=Ay(i,r.floating);return{data:{escapedOffsets:o,escaped:Oy(o)}}}default:return{}}}}};async function WD(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=qn(r),a=ua(r),c=Bs(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Vn(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const HD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await WD(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},KD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:p}=w;return{x:b,y:p}}},...c}=Vn(e,t),u={x:r,y:n},d=await Bl(t,c),f=Bs(qn(s)),h=Bg(f);let v=u[h],x=u[f];if(i){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",p=v+d[w],y=v-d[b];v=Zp(p,v,y)}if(o){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",p=x+d[w],y=x-d[b];x=Zp(p,x,y)}const g=a.fn({...t,[h]:v,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},QD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Vn(e,t),d={x:r,y:n},f=Bs(s),h=Bg(f);let v=d[h],x=d[f];const g=Vn(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=h==="y"?"height":"width",_=i.reference[h]-i.floating[y]+w.mainAxis,S=i.reference[h]+i.reference[y]-w.mainAxis;v<_?v=_:v>S&&(v=S)}if(u){var b,p;const y=h==="y"?"width":"height",_=["top","left"].includes(qn(s)),S=i.reference[f]-i.floating[y]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:w.crossAxis),k=i.reference[f]+i.reference[y]+(_?0:((p=o.offset)==null?void 0:p[f])||0)-(_?w.crossAxis:0);x<S?x=S:x>k&&(x=k)}return{[h]:v,[f]:x}}}},GD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=Vn(e,t),d=await Bl(t,u),f=qn(s),h=ua(s),v=Bs(s)==="y",{width:x,height:g}=i.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,w=h==="end"?"top":"bottom");const p=g-d.top-d.bottom,y=x-d.left-d.right,_=zs(g-d[w],p),S=zs(x-d[b],y),k=!t.middlewareData.shift;let N=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=p),k&&!h){const R=cr(d.left,0),$=cr(d.right,0),T=cr(d.top,0),z=cr(d.bottom,0);v?j=x-2*(R!==0||$!==0?R+$:cr(d.left,d.right)):N=g-2*(T!==0||z!==0?T+z:cr(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:N});const P=await o.getDimensions(a.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function da(e){return sj(e)?(e.nodeName||"").toLowerCase():"#document"}function hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bn(e){var t;return(t=(sj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sj(e){return rf()?e instanceof Node||e instanceof hr(e).Node:!1}function Kr(e){return rf()?e instanceof Element||e instanceof hr(e).Element:!1}function xn(e){return rf()?e instanceof HTMLElement||e instanceof hr(e).HTMLElement:!1}function My(e){return!rf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hr(e).ShadowRoot}function ac(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function ZD(e){return["table","td","th"].includes(da(e))}function nf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Wg(e){const t=Hg(),r=Kr(e)?Qr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function YD(e){let t=Vs(e);for(;xn(t)&&!ta(t);){if(Wg(t))return t;if(nf(t))return null;t=Vs(t)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ta(e){return["html","body","#document"].includes(da(e))}function Qr(e){return hr(e).getComputedStyle(e)}function sf(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if(da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||My(e)&&e.host||bn(e);return My(t)?t.host:t}function ij(e){const t=Vs(e);return ta(t)?e.ownerDocument?e.ownerDocument.body:e.body:xn(t)&&ac(t)?t:ij(t)}function Vl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ij(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=hr(s);if(i){const a=Xp(o);return t.concat(o,o.visualViewport||[],ac(s)?s:[],a&&r?Vl(a):[])}return t.concat(s,Vl(s,[],r))}function Xp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oj(e){const t=Qr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=xn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=sd(r)!==i||sd(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Kg(e){return Kr(e)?e:e.contextElement}function Co(e){const t=Kg(e);if(!xn(t))return Us(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=oj(t);let o=(i?sd(r.width):r.width)/n,a=(i?sd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XD=Us(0);function aj(e){const t=hr(e);return!Hg()||!t.visualViewport?XD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hr(e)?!1:t}function Ai(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Kg(e);let o=Us(1);t&&(n?Kr(n)&&(o=Co(n)):o=Co(e));const a=JD(i,r,n)?aj(i):Us(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=hr(i),v=n&&Kr(n)?hr(n):n;let x=h,g=Xp(x);for(;g&&n&&v!==x;){const w=Co(g),b=g.getBoundingClientRect(),p=Qr(g),y=b.left+(g.clientLeft+parseFloat(p.paddingLeft))*w.x,_=b.top+(g.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=y,u+=_,x=hr(g),g=Xp(x)}}return od({width:d,height:f,x:c,y:u})}function e5(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=bn(n),a=t?nf(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Us(1);const d=Us(0),f=xn(n);if((f||!f&&!i)&&((da(n)!=="body"||ac(o))&&(c=sf(n)),xn(n))){const h=Ai(n);u=Co(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function t5(e){return Array.from(e.getClientRects())}function Jp(e,t){const r=sf(e).scrollLeft;return t?t.left+r:Ai(bn(e)).left+r}function r5(e){const t=bn(e),r=sf(e),n=e.ownerDocument.body,s=cr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=cr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Jp(e);const a=-r.scrollTop;return Qr(n).direction==="rtl"&&(o+=cr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function n5(e,t){const r=hr(e),n=bn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Hg();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function s5(e,t){const r=Ai(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=xn(e)?Co(e):Us(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:a,x:c,y:u}}function Iy(e,t,r){let n;if(t==="viewport")n=n5(e,r);else if(t==="document")n=r5(bn(e));else if(Kr(t))n=s5(t,r);else{const s=aj(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return od(n)}function lj(e,t){const r=Vs(e);return r===t||!Kr(r)||ta(r)?!1:Qr(r).position==="fixed"||lj(r,t)}function i5(e,t){const r=t.get(e);if(r)return r;let n=Vl(e,[],!1).filter(a=>Kr(a)&&da(a)!=="body"),s=null;const i=Qr(e).position==="fixed";let o=i?Vs(e):e;for(;Kr(o)&&!ta(o);){const a=Qr(o),c=Wg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ac(o)&&!c&&lj(e,o))?n=n.filter(d=>d!==o):s=a,o=Vs(o)}return t.set(e,n),n}function o5(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?nf(t)?[]:i5(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((u,d)=>{const f=Iy(t,d,s);return u.top=cr(f.top,u.top),u.right=zs(f.right,u.right),u.bottom=zs(f.bottom,u.bottom),u.left=cr(f.left,u.left),u},Iy(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a5(e){const{width:t,height:r}=oj(e);return{width:t,height:r}}function l5(e,t,r){const n=xn(t),s=bn(t),i=r==="fixed",o=Ai(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Us(0);if(n||!n&&!i)if((da(t)!=="body"||ac(s))&&(a=sf(t)),n){const v=Ai(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=Jp(s));let u=0,d=0;if(s&&!n&&!i){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,u=v.left+a.scrollLeft-Jp(s,v)}const f=o.left+a.scrollLeft-c.x-u,h=o.top+a.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function uh(e){return Qr(e).position==="static"}function Dy(e,t){if(!xn(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bn(e)===r&&(r=r.ownerDocument.body),r}function cj(e,t){const r=hr(e);if(nf(e))return r;if(!xn(e)){let s=Vs(e);for(;s&&!ta(s);){if(Kr(s)&&!uh(s))return s;s=Vs(s)}return r}let n=Dy(e,t);for(;n&&ZD(n)&&uh(n);)n=Dy(n,t);return n&&ta(n)&&uh(n)&&!Wg(n)?r:n||YD(e)||r}const c5=async function(e){const t=this.getOffsetParent||cj,r=this.getDimensions,n=await r(e.floating);return{reference:l5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function u5(e){return Qr(e).direction==="rtl"}const d5={convertOffsetParentRelativeRectToViewportRelativeRect:e5,getDocumentElement:bn,getClippingRect:o5,getOffsetParent:cj,getElementRects:c5,getClientRects:t5,getDimensions:a5,getScale:Co,isElement:Kr,isRTL:u5};function f5(e,t){let r=null,n;const s=bn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const v=qc(d),x=qc(s.clientWidth-(u+f)),g=qc(s.clientHeight-(d+h)),w=qc(u),p={rootMargin:-v+"px "+-x+"px "+-g+"px "+-w+"px",threshold:cr(0,zs(1,c))||1};let y=!0;function _(S){const k=S[0].intersectionRatio;if(k!==c){if(!y)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}y=!1}try{r=new IntersectionObserver(_,{...p,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,p)}r.observe(e)}return o(!0),i}function h5(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Kg(e),d=s||i?[...u?Vl(u):[],...Vl(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&a?f5(u,r):null;let h=-1,v=null;o&&(v=new ResizeObserver(b=>{let[p]=b;p&&p.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=v)==null||y.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let x,g=c?Ai(e):null;c&&w();function w(){const b=Ai(e);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&r(),g=b,x=requestAnimationFrame(w)}return r(),()=>{var b;d.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(b=v)==null||b.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const p5=HD,m5=KD,g5=VD,v5=GD,y5=qD,Ly=BD,x5=QD,w5=(e,t,r)=>{const n=new Map,s={platform:d5,...r},i={...s.platform,_c:n};return UD(e,t,{...s,platform:i})};var fu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ad(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ad(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!ad(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function uj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $y(e,t){const r=uj(e);return Math.round(t*r)/r}function dh(e){const t=m.useRef(e);return fu(()=>{t.current=e}),t}function b5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=m.useState(n);ad(h,n)||v(n);const[x,g]=m.useState(null),[w,b]=m.useState(null),p=m.useCallback(O=>{O!==k.current&&(k.current=O,g(O))},[]),y=m.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),_=i||x,S=o||w,k=m.useRef(null),N=m.useRef(null),j=m.useRef(d),P=c!=null,R=dh(c),$=dh(s),T=dh(u),z=m.useCallback(()=>{if(!k.current||!N.current)return;const O={placement:t,strategy:r,middleware:h};$.current&&(O.platform=$.current),w5(k.current,N.current,O).then(F=>{const Z={...F,isPositioned:T.current!==!1};L.current&&!ad(j.current,Z)&&(j.current=Z,Di.flushSync(()=>{f(Z)}))})},[h,t,r,$,T]);fu(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const L=m.useRef(!1);fu(()=>(L.current=!0,()=>{L.current=!1}),[]),fu(()=>{if(_&&(k.current=_),S&&(N.current=S),_&&S){if(R.current)return R.current(_,S,z);z()}},[_,S,z,R,P]);const Y=m.useMemo(()=>({reference:k,floating:N,setReference:p,setFloating:y}),[p,y]),q=m.useMemo(()=>({reference:_,floating:S}),[_,S]),re=m.useMemo(()=>{const O={position:r,left:0,top:0};if(!q.floating)return O;const F=$y(q.floating,d.x),Z=$y(q.floating,d.y);return a?{...O,transform:"translate("+F+"px, "+Z+"px)",...uj(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:Z}},[r,a,q.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:z,refs:Y,elements:q,floatingStyles:re}),[d,z,Y,q,re])}const _5=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ly({element:n.current,padding:s}).fn(r):{}:n?Ly({element:n,padding:s}).fn(r):{}}}},S5=(e,t)=>({...p5(e),options:[e,t]}),j5=(e,t)=>({...m5(e),options:[e,t]}),k5=(e,t)=>({...x5(e),options:[e,t]}),N5=(e,t)=>({...g5(e),options:[e,t]}),C5=(e,t)=>({...v5(e),options:[e,t]}),E5=(e,t)=>({...y5(e),options:[e,t]}),T5=(e,t)=>({..._5(e),options:[e,t]});var P5="Arrow",dj=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return l.jsx(de.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});dj.displayName=P5;var R5=dj;function A5(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||a,w=m.useMemo(()=>x,Object.values(x));return l.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,x=m.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,O5(s,...t)]}function O5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fj(e){const[t,r]=m.useState(void 0);return gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qg="Popper",[hj,pj]=A5(Qg),[M5,mj]=hj(Qg),gj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return l.jsx(M5,{scope:t,anchor:n,onAnchorChange:s,children:r})};gj.displayName=Qg;var vj="PopperAnchor",yj=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=mj(vj,r),o=m.useRef(null),a=Ie(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(de.div,{...s,ref:a})});yj.displayName=vj;var Gg="PopperContent",[I5,D5]=hj(Gg),xj=m.forwardRef((e,t)=>{var se,Ne,Be,Ee,Ae,Te;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:x,...g}=e,w=mj(Gg,r),[b,p]=m.useState(null),y=Ie(t,yt=>p(yt)),[_,S]=m.useState(null),k=fj(_),N=(k==null?void 0:k.width)??0,j=(k==null?void 0:k.height)??0,P=n+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],T=$.length>0,z={padding:R,boundary:$.filter($5),altBoundary:T},{refs:L,floatingStyles:Y,placement:q,isPositioned:re,middlewareData:O}=b5({strategy:"fixed",placement:P,whileElementsMounted:(...yt)=>h5(...yt,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[S5({mainAxis:s+j,alignmentAxis:o}),c&&j5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?k5():void 0,...z}),c&&N5({...z}),C5({...z,apply:({elements:yt,rects:Nt,availableWidth:_n,availableHeight:ir})=>{const{width:Hn,height:C}=Nt.reference,A=yt.floating.style;A.setProperty("--radix-popper-available-width",`${_n}px`),A.setProperty("--radix-popper-available-height",`${ir}px`),A.setProperty("--radix-popper-anchor-width",`${Hn}px`),A.setProperty("--radix-popper-anchor-height",`${C}px`)}}),_&&T5({element:_,padding:a}),F5({arrowWidth:N,arrowHeight:j}),h&&E5({strategy:"referenceHidden",...z})]}),[F,Z]=_j(q),W=it(x);gt(()=>{re&&(W==null||W())},[re,W]);const X=(se=O.arrow)==null?void 0:se.x,ve=(Ne=O.arrow)==null?void 0:Ne.y,Re=((Be=O.arrow)==null?void 0:Be.centerOffset)!==0,[ct,Se]=m.useState();return gt(()=>{b&&Se(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:re?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(Ee=O.transformOrigin)==null?void 0:Ee.x,(Ae=O.transformOrigin)==null?void 0:Ae.y].join(" "),...((Te=O.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(I5,{scope:r,placedSide:F,onArrowChange:S,arrowX:X,arrowY:ve,shouldHideArrow:Re,children:l.jsx(de.div,{"data-side":F,"data-align":Z,...g,ref:y,style:{...g.style,animation:re?void 0:"none"}})})})});xj.displayName=Gg;var wj="PopperArrow",L5={top:"bottom",right:"left",bottom:"top",left:"right"},bj=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=D5(wj,n),o=L5[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(R5,{...s,ref:r,style:{...s.style,display:"block"}})})});bj.displayName=wj;function $5(e){return e!==null}var F5=e=>({name:"transformOrigin",options:e,fn(t){var w,b,p;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=_j(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-c}px`):u==="top"?(x=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?f:`${v}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${v}px`),{data:{x,y:g}}}});function _j(e){const[t,r="center"]=e.split("-");return[t,r]}var z5=gj,U5=yj,B5=xj,V5=bj;function Sj(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var q5=[" ","Enter","ArrowUp","ArrowDown"],W5=[" ","Enter"],lc="Select",[of,af,H5]=eg(lc),[fa,i$]=Li(lc,[H5,pj]),lf=pj(),[K5,Zs]=fa(lc),[Q5,G5]=fa(lc),jj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:x}=e,g=lf(t),[w,b]=m.useState(null),[p,y]=m.useState(null),[_,S]=m.useState(!1),k=Yd(u),[N=!1,j]=Si({prop:n,defaultProp:s,onChange:i}),[P,R]=Si({prop:o,defaultProp:a,onChange:c}),$=m.useRef(null),T=w?x||!!w.closest("form"):!0,[z,L]=m.useState(new Set),Y=Array.from(z).map(q=>q.props.value).join(";");return l.jsx(z5,{...g,children:l.jsxs(K5,{required:v,scope:t,trigger:w,onTriggerChange:b,valueNode:p,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ps(),value:P,onValueChange:R,open:N,onOpenChange:j,dir:k,triggerPointerDownPosRef:$,disabled:h,children:[l.jsx(of.Provider,{scope:t,children:l.jsx(Q5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{L(re=>new Set(re).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{L(re=>{const O=new Set(re);return O.delete(q),O})},[]),children:r})}),T?l.jsxs(Gj,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:q=>R(q.target.value),disabled:h,form:x,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},Y):null]})})};jj.displayName=lc;var kj="SelectTrigger",Nj=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=lf(r),o=Zs(kj,r),a=o.disabled||n,c=Ie(t,o.onTriggerChange),u=af(r),d=m.useRef("touch"),[f,h,v]=Zj(g=>{const w=u().filter(y=>!y.disabled),b=w.find(y=>y.value===o.value),p=Yj(w,g,b);p!==void 0&&o.onValueChange(p.value)}),x=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(U5,{asChild:!0,...i,children:l.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Qj(o.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:oe(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:oe(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&q5.includes(g.key)&&(x(),g.preventDefault())})})})});Nj.displayName=kj;var Cj="SelectValue",Ej=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,c=Zs(Cj,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ie(t,c.onValueNodeChange);return gt(()=>{u(d)},[u,d]),l.jsx(de.span,{...a,ref:f,style:{pointerEvents:"none"},children:Qj(c.value)?l.jsx(l.Fragment,{children:o}):i})});Ej.displayName=Cj;var Z5="SelectIcon",Tj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Tj.displayName=Z5;var Y5="SelectPortal",Pj=e=>l.jsx(Nd,{asChild:!0,...e});Pj.displayName=Y5;var Oi="SelectContent",Rj=m.forwardRef((e,t)=>{const r=Zs(Oi,e.__scopeSelect),[n,s]=m.useState();if(gt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Di.createPortal(l.jsx(Aj,{scope:e.__scopeSelect,children:l.jsx(of.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(Oj,{...e,ref:t})});Rj.displayName=Oi;var Or=10,[Aj,Ys]=fa(Oi),X5="SelectContentImpl",Oj=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w,...b}=e,p=Zs(Oi,r),[y,_]=m.useState(null),[S,k]=m.useState(null),N=Ie(t,se=>_(se)),[j,P]=m.useState(null),[R,$]=m.useState(null),T=af(r),[z,L]=m.useState(!1),Y=m.useRef(!1);m.useEffect(()=>{if(y)return M1(y)},[y]),k1();const q=m.useCallback(se=>{const[Ne,...Be]=T().map(Te=>Te.ref.current),[Ee]=Be.slice(-1),Ae=document.activeElement;for(const Te of se)if(Te===Ae||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Ne&&S&&(S.scrollTop=0),Te===Ee&&S&&(S.scrollTop=S.scrollHeight),Te==null||Te.focus(),document.activeElement!==Ae))return},[T,S]),re=m.useCallback(()=>q([j,y]),[q,j,y]);m.useEffect(()=>{z&&re()},[z,re]);const{onOpenChange:O,triggerPointerDownPosRef:F}=p;m.useEffect(()=>{if(y){let se={x:0,y:0};const Ne=Ee=>{var Ae,Te;se={x:Math.abs(Math.round(Ee.pageX)-(((Ae=F.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Te=F.current)==null?void 0:Te.y)??0))}},Be=Ee=>{se.x<=10&&se.y<=10?Ee.preventDefault():y.contains(Ee.target)||O(!1),document.removeEventListener("pointermove",Ne),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Be,{capture:!0})}}},[y,O,F]),m.useEffect(()=>{const se=()=>O(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[O]);const[Z,W]=Zj(se=>{const Ne=T().filter(Ae=>!Ae.disabled),Be=Ne.find(Ae=>Ae.ref.current===document.activeElement),Ee=Yj(Ne,se,Be);Ee&&setTimeout(()=>Ee.ref.current.focus())}),X=m.useCallback((se,Ne,Be)=>{const Ee=!Y.current&&!Be;(p.value!==void 0&&p.value===Ne||Ee)&&(P(se),Ee&&(Y.current=!0))},[p.value]),ve=m.useCallback(()=>y==null?void 0:y.focus(),[y]),Re=m.useCallback((se,Ne,Be)=>{const Ee=!Y.current&&!Be;(p.value!==void 0&&p.value===Ne||Ee)&&$(se)},[p.value]),ct=n==="popper"?em:Mj,Se=ct===em?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return l.jsx(Aj,{scope:r,content:y,viewport:S,onViewportChange:k,itemRefCallback:X,selectedItem:j,onItemLeave:ve,itemTextRefCallback:Re,focusSelectedItem:re,selectedItemText:R,position:n,isPositioned:z,searchRef:Z,children:l.jsx(Eg,{as:Ms,allowPinchZoom:!0,children:l.jsx(Cg,{asChild:!0,trapped:p.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:oe(s,se=>{var Ne;(Ne=p.trigger)==null||Ne.focus({preventScroll:!0}),se.preventDefault()}),children:l.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:l.jsx(ct,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:se=>se.preventDefault(),...b,...Se,onPlaced:()=>L(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:oe(b.onKeyDown,se=>{const Ne=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ne&&se.key.length===1&&W(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Ee=T().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ae=se.target,Te=Ee.indexOf(Ae);Ee=Ee.slice(Te+1)}setTimeout(()=>q(Ee)),se.preventDefault()}})})})})})})});Oj.displayName=X5;var J5="SelectItemAlignedPosition",Mj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Zs(Oi,r),o=Ys(Oi,r),[a,c]=m.useState(null),[u,d]=m.useState(null),f=Ie(t,N=>d(N)),h=af(r),v=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:p}=o,y=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&w&&b){const N=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=R.left-j.left,Te=P.left-Ae,yt=N.left-Te,Nt=N.width+yt,_n=Math.max(Nt,j.width),ir=window.innerWidth-Or,Hn=Hp(Te,[Or,Math.max(Or,ir-_n)]);a.style.minWidth=Nt+"px",a.style.left=Hn+"px"}else{const Ae=j.right-R.right,Te=window.innerWidth-P.right-Ae,yt=window.innerWidth-N.right-Te,Nt=N.width+yt,_n=Math.max(Nt,j.width),ir=window.innerWidth-Or,Hn=Hp(Te,[Or,Math.max(Or,ir-_n)]);a.style.minWidth=Nt+"px",a.style.right=Hn+"px"}const $=h(),T=window.innerHeight-Or*2,z=g.scrollHeight,L=window.getComputedStyle(u),Y=parseInt(L.borderTopWidth,10),q=parseInt(L.paddingTop,10),re=parseInt(L.borderBottomWidth,10),O=parseInt(L.paddingBottom,10),F=Y+q+z+O+re,Z=Math.min(w.offsetHeight*5,F),W=window.getComputedStyle(g),X=parseInt(W.paddingTop,10),ve=parseInt(W.paddingBottom,10),Re=N.top+N.height/2-Or,ct=T-Re,Se=w.offsetHeight/2,se=w.offsetTop+Se,Ne=Y+q+se,Be=F-Ne;if(Ne<=Re){const Ae=$.length>0&&w===$[$.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-g.offsetTop-g.offsetHeight,yt=Math.max(ct,Se+(Ae?ve:0)+Te+re),Nt=Ne+yt;a.style.height=Nt+"px"}else{const Ae=$.length>0&&w===$[0].ref.current;a.style.top="0px";const yt=Math.max(Re,Y+g.offsetTop+(Ae?X:0)+Se)+Be;a.style.height=yt+"px",g.scrollTop=Ne-Re+g.offsetTop}a.style.margin=`${Or}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,a,u,g,w,b,i.dir,n]);gt(()=>y(),[y]);const[_,S]=m.useState();gt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(N=>{N&&x.current===!0&&(y(),p==null||p(),x.current=!1)},[y,p]);return l.jsx(tL,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(de.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Mj.displayName=J5;var eL="SelectPopperPosition",em=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Or,...i}=e,o=lf(r);return l.jsx(B5,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});em.displayName=eL;var[tL,Zg]=fa(Oi,{}),tm="SelectViewport",Ij=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ys(tm,r),o=Zg(tm,r),a=Ie(t,i.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(of.Slot,{scope:r,children:l.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const x=window.innerHeight-Or*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(g,w);if(b<x){const p=b+v,y=Math.min(x,p),_=p-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Ij.displayName=tm;var Dj="SelectGroup",[rL,nL]=fa(Dj),sL=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ps();return l.jsx(rL,{scope:r,id:s,children:l.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:t})})});sL.displayName=Dj;var Lj="SelectLabel",$j=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=nL(Lj,r);return l.jsx(de.div,{id:s.id,...n,ref:t})});$j.displayName=Lj;var ld="SelectItem",[iL,Fj]=fa(ld),zj=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=Zs(ld,r),c=Ys(ld,r),u=a.value===n,[d,f]=m.useState(i??""),[h,v]=m.useState(!1),x=Ie(t,p=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,p,n,s)}),g=Ps(),w=m.useRef("touch"),b=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(iL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(p=>{f(y=>y||((p==null?void 0:p.textContent)??"").trim())},[]),children:l.jsx(of.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:oe(o.onFocus,()=>v(!0)),onBlur:oe(o.onBlur,()=>v(!1)),onClick:oe(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:oe(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:oe(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:oe(o.onPointerMove,p=>{var y;w.current=p.pointerType,s?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,p=>{var y;p.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:oe(o.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(W5.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});zj.displayName=ld;var Va="SelectItemText",Uj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Zs(Va,r),a=Ys(Va,r),c=Fj(Va,r),u=G5(Va,r),[d,f]=m.useState(null),h=Ie(t,b=>f(b),c.onItemTextChange,b=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,b,c.value,c.disabled)}),v=d==null?void 0:d.textContent,x=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return gt(()=>(g(x),()=>w(x)),[g,w,x]),l.jsxs(l.Fragment,{children:[l.jsx(de.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Di.createPortal(i.children,o.valueNode):null]})});Uj.displayName=Va;var Bj="SelectItemIndicator",Vj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Fj(Bj,r).isSelected?l.jsx(de.span,{"aria-hidden":!0,...n,ref:t}):null});Vj.displayName=Bj;var rm="SelectScrollUpButton",qj=m.forwardRef((e,t)=>{const r=Ys(rm,e.__scopeSelect),n=Zg(rm,e.__scopeSelect),[s,i]=m.useState(!1),o=Ie(t,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(Hj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});qj.displayName=rm;var nm="SelectScrollDownButton",Wj=m.forwardRef((e,t)=>{const r=Ys(nm,e.__scopeSelect),n=Zg(nm,e.__scopeSelect),[s,i]=m.useState(!1),o=Ie(t,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(Hj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Wj.displayName=nm;var Hj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ys("SelectScrollButton",r),o=m.useRef(null),a=af(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),gt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),oL="SelectSeparator",Kj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(de.div,{"aria-hidden":!0,...n,ref:t})});Kj.displayName=oL;var sm="SelectArrow",aL=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=lf(r),i=Zs(sm,r),o=Ys(sm,r);return i.open&&o.position==="popper"?l.jsx(V5,{...s,...n,ref:t}):null});aL.displayName=sm;function Qj(e){return e===""||e===void 0}var Gj=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),i=Ie(t,s),o=Sj(r);return m.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[o,r]),l.jsx(Cd,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});Gj.displayName="BubbleSelect";function Zj(e){const t=it(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const a=r.current+o;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Yj(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lL(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function lL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cL=jj,Xj=Nj,uL=Ej,dL=Tj,fL=Pj,Jj=Rj,hL=Ij,ek=$j,tk=zj,pL=Uj,mL=Vj,rk=qj,nk=Wj,sk=Kj;const gL=cL,vL=uL,ik=m.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Xj,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(dL,{asChild:!0,children:l.jsx(Od,{className:"h-4 w-4 opacity-50"})})]}));ik.displayName=Xj.displayName;const ok=m.forwardRef(({className:e,...t},r)=>l.jsx(rk,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(sg,{className:"h-4 w-4"})}));ok.displayName=rk.displayName;const ak=m.forwardRef(({className:e,...t},r)=>l.jsx(nk,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Od,{className:"h-4 w-4"})}));ak.displayName=nk.displayName;const lk=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(fL,{children:l.jsxs(Jj,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(ok,{}),l.jsx(hL,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(ak,{})]})}));lk.displayName=Jj.displayName;const yL=m.forwardRef(({className:e,...t},r)=>l.jsx(ek,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yL.displayName=ek.displayName;const im=m.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(tk,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(mL,{children:l.jsx(Ad,{className:"h-4 w-4"})})}),l.jsx(pL,{children:t})]}));im.displayName=tk.displayName;const xL=m.forwardRef(({className:e,...t},r)=>l.jsx(sk,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));xL.displayName=sk.displayName;const wL=({teamId:e})=>{const{user:t}=Me(),r=vt(),n=Qe({mutationFn:async({stageName:s,points:i,description:o,sharedWith:a,shareSum:c})=>{if(!(t!=null&&t.id))throw console.error("  "),new Error("  ");if(console.log("useSelfStages:     ",t.id),console.log("useSelfStages: :",{stageName:s,points:i,description:o}),a!=null&&a.length&&c){const{error:d}=await I.from("player_stages").insert({user_id:a,stage_name:s,description:o||null,points:c,team_id:e,verified:!1,added_by:t.id}),{error:f}=await I.from("player_stages").insert({user_id:t.id,stage_name:s,description:o||null,points:i-c,team_id:e,verified:!1,added_by:t.id});if(d||f)throw console.error("useSelfStages:  RPC      ",d,f),d||f;return}const{error:u}=await I.from("player_stages").insert({user_id:t.id,stage_name:s,description:o||null,points:i,team_id:e,verified:!1,added_by:t.id});if(u)throw console.error("useSelfStages:  RPC :",u),u;console.log("useSelfStages:   ")},onSuccess:()=>{console.log("useSelfStages:     "),r.invalidateQueries({queryKey:["player-stages"]}),r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["team-members"]}),r.invalidateQueries({queryKey:["treasury-transactions"]}),r.invalidateQueries({queryKey:["team-rankings"]})},onError:s=>{console.error("useSelfStages:   :",s)}});return{addSelfStage:n.mutateAsync,isAdding:n.isPending}},bL=({availableStages:e,onClose:t,teamId:r,teamMembers:n=[]})=>{const{profile:s}=Gs(),{addSelfStage:i,isAdding:o}=wL({teamId:r}),[a,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[v,x]=m.useState(0),[g,w]=m.useState(""),[b,p]=m.useState(""),y=k=>{if(k===""){d(""),h("");return}const N=n.find(j=>{var P;return((P=j.profiles)==null?void 0:P.full_name)===k});N&&(d(N.user_id),h(k))},_=k=>{const N=parseInt(k),j=parseInt(g);(isNaN(N)||N<=0)&&x(0),N>j-1?x(j-1):x(N)},S=async k=>{if(k.preventDefault(),console.log("  :",{stageName:a,points:g,description:b}),!a||!g){jr.error(",    ");return}const N=parseInt(g);if(isNaN(N)||N<=0){jr.error("     ");return}try{console.log(" addSelfStage  :",{stageName:a,points:N,description:b.trim()||void 0}),await i({stageName:a,points:N,description:b.trim()||void 0,sharedWith:u,shareSum:v}),console.log("  "),jr.success(` "${a}"   (+${N} )`),t()}catch(j){console.error("  :",j),jr.error(j.message||"  ")}};return e.length===0?l.jsx(Pi,{children:l.jsxs(Ri,{className:"p-6",children:[l.jsx("p",{className:"text-center text-gray-500",children:"      "}),l.jsx(pe,{onClick:t,className:"w-full mt-4",children:""})]})}):l.jsxs(Pi,{children:[l.jsx(Jo,{children:l.jsx(ea,{children:"  "})}),l.jsx(Ri,{children:l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(un,{htmlFor:"points",children:"  *"}),l.jsx(Xe,{id:"stageName",value:a,onChange:k=>{c(k.target.value)},required:!0})]}),l.jsxs("div",{children:[l.jsx(un,{htmlFor:"points",children:"  *"}),l.jsx(Xe,{id:"points",type:"number",value:g,onChange:k=>{console.log(" :",k.target.value),w(k.target.value)},min:"1",required:!0})]}),l.jsxs("div",{children:[l.jsx(un,{htmlFor:"description",children:" ()"}),l.jsx(Yr,{id:"description",value:b,onChange:k=>p(k.target.value),placeholder:"  ..."})]}),(s==null?void 0:s.role)==="closer"&&l.jsxs("div",{children:[l.jsx(un,{htmlFor:"stageName",children:" ..."}),l.jsxs(gL,{value:f,onValueChange:y,children:[l.jsx(ik,{children:l.jsx(vL,{placeholder:" "})}),l.jsxs(lk,{children:[l.jsx(im,{value:"",children:""}),n.filter(k=>k.user_id!==(s==null?void 0:s.id)).map(k=>{var N,j;return l.jsx(im,{value:(N=k.profiles)==null?void 0:N.full_name,children:(j=k.profiles)==null?void 0:j.full_name},k.id)})]})]})]}),!!u.length&&l.jsxs("div",{children:[l.jsx(un,{htmlFor:"points",children:""}),l.jsx(Xe,{id:"share_points",type:"number",value:v,onChange:k=>{_(k.target.value)},min:"0"})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(pe,{type:"button",variant:"outline",onClick:t,children:""}),l.jsx(pe,{type:"submit",disabled:o,children:o?"...":" "})]})]})})]})},ck=({availableStages:e,teamId:t,teamMembers:r=[]})=>{const[n,s]=m.useState(!1);return console.log("SelfStageManagerButton: availableStages =",e),console.log("SelfStageManagerButton: showAddStage =",n),n?l.jsx(bL,{teamMembers:r,teamId:t,availableStages:e,onClose:()=>{console.log(" SelfStageManager"),s(!1)}}):l.jsxs(pe,{onClick:()=>{console.log(" SelfStageManager"),s(!0)},size:"sm",className:"flex items-center gap-2",children:[l.jsx(Md,{size:16})," "]})},_L=()=>{const{user:e}=Me(),{profile:t}=Gs(),r=vt(),n=Qe({mutationFn:async({teamId:s,amount:i,description:o,contributorUserId:a})=>{if(!(e!=null&&e.id))throw new Error("  ");console.log(" :",{teamId:s,amount:i,description:o,contributorUserId:a});const{error:c}=await I.from("treasury_transactions").insert({team_id:s,amount:i,stage_name:" ",user_id:e.id,description:o}),{error:u}=await I.from("profiles").update({points:(t==null?void 0:t.points)-i}).eq("id",e.id),{data:d,error:f}=await I.from("teams").select("treasury_balance").eq("id",s).single(),{error:h}=await I.from("teams").update({treasury_balance:d.treasury_balance+i}).eq("id",s);if(c||u||f||h)throw c||u||f||h},onSuccess:()=>{r.invalidateQueries({queryKey:["treasury-transactions"]}),r.invalidateQueries({queryKey:["team-rankings"]}),r.invalidateQueries({queryKey:["team-members"]})},onError:s=>{console.error("  addTreasuryFundsMutation:",s)}});return{addTreasuryFunds:n.mutateAsync,isAdding:n.isPending}},SL=({teamId:e,canManage:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(""),{user:o}=Me(),{profile:a}=Gs(),[c,u]=m.useState(""),[d,f]=m.useState(""),{toast:h}=Ot(),{addTreasuryFunds:v,isAdding:x}=_L();tf(e);const g=async()=>{const b=parseFloat(s);if(!s||b<=0||isNaN(b)){h({title:"",description:"  ",variant:"destructive"});return}try{console.log("  :",{teamId:e,amount:b,description:c,contributorUserId:o.id}),await v({teamId:e,amount:b,description:c||void 0,contributorUserId:o.id}),h({title:"",description:`   $${b.toLocaleString()}!`}),i(""),u(""),f(""),n(!1)}catch(p){console.error("  :",p),h({title:"",description:(p==null?void 0:p.message)||"   ",variant:"destructive"})}},w=b=>{const p=parseFloat(b);(p<=0||isNaN(p))&&i(""),p>a.points?i(a.points.toString()):i(b)};return t?l.jsxs(sr,{open:r,onOpenChange:n,children:[l.jsx(Ti,{asChild:!0,children:l.jsxs(pe,{className:"bg-gradient-to-r from-green-600 to-emerald-800 border border-green-400 font-mono font-bold",children:[l.jsx(Md,{className:"mr-2 h-4 w-4"})," "]})}),l.jsxs(Bt,{className:"vice-card border border-green-500/50 max-w-md",children:[l.jsx(Vt,{children:l.jsxs(qt,{className:"text-xl font-mono tracking-wider text-transparent bg-clip-text vice-gradient flex items-center",children:[l.jsx(_l,{className:"mr-2 text-green-400"})," "]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:" ($) *"}),l.jsx(Xe,{type:"number",step:"0.01",min:"0",value:s,onChange:b=>w(b.target.value),placeholder:"   ",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-mono text-green-300 mb-2",children:""}),l.jsx(Yr,{value:c,onChange:b=>u(b.target.value),placeholder:"   ()",className:"bg-gray-800 border border-green-500/30 text-cyan-300 font-mono resize-none",rows:3})]}),l.jsxs("div",{className:"bg-gray-800/50 p-3 rounded border border-green-500/30",children:[l.jsx("p",{className:"text-xs font-mono text-green-300 mb-1",children:" :"}),l.jsx("p",{className:"text-xs font-mono text-gray-400",children:"          ."})]}),l.jsx(pe,{onClick:g,disabled:!s||parseFloat(s)<=0||isNaN(parseFloat(s))||x,className:"w-full bg-gradient-to-r from-green-600 to-emerald-800 border border-green-400 font-mono font-bold",children:x?"...":" "})]})]})]}):null},jL=e=>{const{data:t,isLoading:r}=lt({queryKey:["treasury-transactions",e],queryFn:async()=>{console.log("    :",e);const{data:n,error:s}=await I.from("treasury_transactions").select("id, stage_name, amount, created_at, description, user_id").eq("team_id",e).order("created_at",{ascending:!1});console.log(n,s);const i=[...new Set(n.map(d=>d.user_id))],{data:o,error:a}=await I.from("profiles").select("id, full_name").in("id",i),c=o.reduce((d,f)=>(d[f.id]=f.full_name,d),{}),u=n.map(d=>({...d,name:c[d.user_id]||"Unknown"}));if(a||s)throw console.error("   :",a||s),a||s;return console.log("  :",u.length||0),u||[]},enabled:!!e,staleTime:6e4});return{treasuryTransactions:t||[],isLoading:r}},kL=({teamId:e,canView:t})=>{const{treasuryTransactions:r,isLoading:n}=jL(e);return t?n?l.jsx("div",{className:"vice-card p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{className:"h-8 w-64 bg-cyan-400/20"}),[...Array(3)].map((s,i)=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-cyan-400/30 rounded-lg bg-gray-800/50",children:[l.jsx(le,{className:"w-12 h-12 rounded-full bg-green-400/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-32 bg-pink-500/20"}),l.jsx(le,{className:"h-3 w-48 bg-purple-400/20"})]}),l.jsx(le,{className:"h-6 w-20 bg-green-400/20"})]},i))]})}):l.jsxs("div",{className:"vice-card p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 border border-green-500/30 rounded-lg pointer-events-none"}),l.jsxs("h3",{className:"text-2xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient mb-6 flex items-center",children:[l.jsx(_l,{className:"mr-3 text-green-400 w-8 h-8"})," "]}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-green-300 font-mono text-xl tracking-wider",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"  "})]}):l.jsx("div",{className:"space-y-3",children:r.map(s=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg border border-green-400/30 bg-gray-800/50 hover:bg-gray-700/50 transition-all duration-300",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center border-2 border-green-400 shadow-lg",children:l.jsx(Vb,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center space-x-2 mb-1",children:l.jsx("h4",{className:"font-bold font-mono text-green-300 text-lg",children:s==null?void 0:s.name})}),s.description&&l.jsx("p",{className:"text-gray-400 font-mono text-sm mb-1",children:s.description}),l.jsxs("div",{className:"flex items-center text-gray-500 text-xs font-mono",children:[l.jsx($b,{className:"w-3 h-3 mr-1"}),new Date(s.created_at).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-2xl font-bold font-mono text-green-400 neon-text",children:["+$",s.amount.toLocaleString()]})})]},s.id))})]}):null},NL=()=>{const{teamId:e}=mg(),{user:t}=Me(),{toast:r}=Ot(),{profile:n}=Gs(),{teamRankings:s}=sc(),{teamMembers:i,isLoading:o,removeTeamMember:a,isRemoving:c}=tf(e),u=s.find(w=>w.team_id===e),d=i.find(w=>w.user_id===(t==null?void 0:t.id)),f=(d==null?void 0:d.role)==="leader",h=(d==null?void 0:d.role)==="admin",v=!!d,x=()=>{const w=n==null?void 0:n.role;return w==="manager"?[""," "]:w==="closer"?["","",""]:[]},g=async(w,b)=>{if(window.confirm(` ,    ${b}  ?`))try{await a({memberId:w}),r({title:"",description:`${b}   `})}catch(p){console.error("  :",p),r({title:"",description:p instanceof Error?p.message:"   ",variant:"destructive"})}};return e?l.jsxs("div",{className:"space-y-8",children:[l.jsx(vD,{teamName:(u==null?void 0:u.team_name)||""}),l.jsx(yD,{totalPoints:(u==null?void 0:u.total_points)||0,memberCount:(u==null?void 0:u.member_count)||0,avgPoints:(u==null?void 0:u.avg_points)||0,treasuryBalance:(u==null?void 0:u.treasury_balance)||0}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v&&!f&&l.jsx("div",{className:"vice-card p-6",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"   "})]}),l.jsx(ck,{teamMembers:i,teamId:e,availableStages:x()})]})}),v&&l.jsx("div",{className:"vice-card p-6",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold font-mono tracking-wider text-transparent bg-clip-text vice-gradient",children:" "}),l.jsx("p",{className:"text-gray-400 font-mono text-sm",children:"  "})]}),l.jsx(SL,{teamId:e,canManage:!0})]})})]}),l.jsx(bD,{teamMembers:i,isLoading:o,isTeamLeader:f,isTeamAdmin:h,teamId:e,teamName:(u==null?void 0:u.team_name)||"",onRemoveMember:g,isRemoving:c}),v&&l.jsx(kL,{teamId:e,canView:v}),l.jsx(AD,{teamId:e,canCreateTopics:f||h})]}):l.jsx("div",{children:"  "})},CL=()=>{const{teamId:e}=mg(),{user:t}=Me(),{teamMembers:r}=tf(e),n=r.find(s=>s.user_id===(t==null?void 0:t.id));return n==null||n.role,n==null||n.role,l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-black p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[l.jsx(NL,{}),e&&l.jsx(rj,{teamId:e,title:" "})]})})};var Yg="Checkbox",[EL,o$]=Li(Yg),[TL,PL]=EL(Yg),uk=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,v]=m.useState(null),x=Ie(t,_=>v(_)),g=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[b=!1,p]=Si({prop:s,defaultProp:i,onChange:u}),y=m.useRef(b);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>p(y.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,p]),l.jsxs(TL,{scope:r,state:b,disabled:a,children:[l.jsx(de.button,{type:"button",role:"checkbox","aria-checked":Rs(b)?"mixed":b,"aria-required":o,"data-state":hk(b),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:x,onKeyDown:oe(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:oe(e.onClick,_=>{p(S=>Rs(S)?!0:!S),w&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),w&&l.jsx(RL,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Rs(i)?!1:i})]})});uk.displayName=Yg;var dk="CheckboxIndicator",fk=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=PL(dk,r);return l.jsx(Gr,{present:n||Rs(i.state)||i.state===!0,children:l.jsx(de.span,{"data-state":hk(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});fk.displayName=dk;var RL=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=m.useRef(null),a=Sj(r),c=fj(t);m.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==r&&v){const x=new Event("click",{bubbles:n});d.indeterminate=Rs(r),v.call(d,Rs(r)?!1:r),d.dispatchEvent(x)}},[a,r,n]);const u=m.useRef(Rs(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rs(e){return e==="indeterminate"}function hk(e){return Rs(e)?"indeterminate":e?"checked":"unchecked"}var pk=uk,AL=fk;const mk=m.forwardRef(({className:e,...t},r)=>l.jsx(pk,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(AL,{className:fe("flex items-center justify-center text-current"),children:l.jsx(Ad,{className:"h-4 w-4"})})}));mk.displayName=pk.displayName;const OL=()=>{const{user:e}=Me(),t=vt(),{data:r,isLoading:n}=lt({queryKey:["shared-stages",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:i,error:o}=await I.from("shared_stages").select("*").order("created_at",{ascending:!1});if(o)throw console.error("   :",o),o;return i||[]},enabled:!!(e!=null&&e.id)}),s=Qe({mutationFn:async({stageId:i,userIds:o,description:a})=>{if(!(e!=null&&e.id))throw new Error("  ");console.log(" :",{stageId:i,userIds:o,description:a});const{error:c}=await I.rpc("share_stage_with_users",{stage_id_param:i,user_ids:o,description_param:a||null});if(c)throw console.error("  :",c),c},onSuccess:()=>{t.invalidateQueries({queryKey:["shared-stages"]}),t.invalidateQueries({queryKey:["player-stages"]}),t.invalidateQueries({queryKey:["profile"]}),t.invalidateQueries({queryKey:["team-members"]})},onError:i=>{console.error("  shareStageWithUsersMutation:",i)}});return{sharedStages:r||[],isLoading:n,shareStageWithUsers:s.mutateAsync,isSharing:s.isPending}},ML=({isOpen:e,onClose:t,stageId:r,stageName:n,teamId:s})=>{const{user:i}=Me(),{shareStageWithUsers:o,isSharing:a}=OL(),{teamMembers:c}=tf(s),[u,d]=m.useState([]),[f,h]=m.useState(""),v=c.filter(w=>w.user_id!==(i==null?void 0:i.id)&&w.profiles),x=w=>{d(b=>b.includes(w)?b.filter(p=>p!==w):[...b,w])},g=async()=>{if(u.length===0){jr.error("      ");return}try{await o({stageId:r,userIds:u,description:f.trim()||void 0}),jr.success(` "${n}"    ${u.length} `),t(),d([]),h("")}catch(w){console.error("  :",w),jr.error(w.message||"  ")}};return l.jsx(sr,{open:e,onOpenChange:t,children:l.jsxs(Bt,{className:"sm:max-w-[500px]",children:[l.jsx(Vt,{children:l.jsxs(qt,{children:['  "',n,'"']})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(un,{htmlFor:"description",children:" ()"}),l.jsx(Yr,{id:"description",value:f,onChange:w=>h(w.target.value),placeholder:"   ...",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(un,{children:"   :"}),l.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:v.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"    "}):v.map(w=>{var b,p,y;return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mk,{id:w.user_id,checked:u.includes(w.user_id),onCheckedChange:()=>x(w.user_id)}),l.jsxs(un,{htmlFor:w.user_id,className:"text-sm cursor-pointer",children:[((b=w.profiles)==null?void 0:b.full_name)||((p=w.profiles)==null?void 0:p.username),l.jsxs("span",{className:"text-gray-500 ml-1",children:["(",((y=w.profiles)==null?void 0:y.role)==="manager"?"":"",")"]})]})]},w.user_id)})})]}),u.length>0&&l.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["     ",u.length+1,"  ( )"]})})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[l.jsx(pe,{variant:"outline",onClick:t,children:""}),l.jsx(pe,{onClick:g,disabled:a||u.length===0,children:a?"...":" "})]})]})})},IL=()=>{var g;const{profile:e}=Gs(),{userTeams:t}=sc(),{user:r}=Me(),{stages:n}=Wd(e==null?void 0:e.id),[s,i]=m.useState(!1),[o,a]=m.useState(null),c=(e==null?void 0:e.id)===(r==null?void 0:r.id),u=(g=t[0])==null?void 0:g.teams,d=e==null?void 0:e.role,h=d==="manager"?[""," "]:d==="closer"?["","",""]:[],v=w=>{a(w),i(!0)},x=w=>d==="closer"&&w.added_by===(e==null?void 0:e.id);return l.jsxs("div",{className:"space-y-6",children:[c&&l.jsxs(Pi,{children:[l.jsx(Jo,{children:l.jsxs(ea,{className:"flex items-center gap-2",children:[" ",l.jsx(Ig,{variant:d==="closer"?"default":"secondary",children:d==="manager"?"":""})]})}),l.jsx(Ri,{children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[" : ",h.join(", ")]}),l.jsx(ck,{availableStages:h})]})})})]}),l.jsxs(Pi,{children:[l.jsx(Jo,{children:l.jsx(ea,{children:""})}),l.jsx(Ri,{children:n.length===0?l.jsx("p",{className:"text-center text-gray-500 py-4",children:" ..."}):l.jsx("div",{className:"space-y-3",children:n.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:w.stage_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[w.points,"  "," ",new Date(w.created_at).toLocaleDateString()]}),w.description&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w.description})]}),x(w)&&l.jsxs(pe,{onClick:()=>v(w),size:"sm",variant:"outline",className:"flex items-center gap-2",children:[l.jsx(GE,{size:16}),""]})]},w.id))})})]}),s&&o&&u&&l.jsx(ML,{isOpen:s,onClose:()=>i(!1),stageId:o.id,stageName:o.stage_name,teamId:u.id})]})},DL=()=>{const e=Ld();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("button",{onClick:()=>e("/"),className:"vice-button p-4 rounded-xl vice-interactive group relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-cyan-500/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rd,{size:28,className:"relative z-10 drop-shadow-lg text-white"})]}),l.jsx(Gp,{}),l.jsx(IL,{})]})},LL=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-black p-4",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx(DL,{})})}),$L=()=>{const e=ec();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx(_o,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},FL=new jT,zL=()=>l.jsx(TT,{client:FL,children:l.jsxs(nA,{children:[l.jsx(M2,{}),l.jsx(cT,{}),l.jsx(iA,{}),l.jsx(IP,{basename:"/salesarena",children:l.jsxs(EP,{children:[l.jsx(Ia,{path:"/",element:l.jsx(Gf,{children:l.jsx(gD,{})})}),l.jsx(Ia,{path:"/team/:teamId",element:l.jsx(Gf,{children:l.jsx(CL,{})})}),l.jsx(Ia,{path:"/player/:playerId",element:l.jsx(Gf,{children:l.jsx(LL,{})})}),l.jsx(Ia,{path:"*",element:l.jsx($L,{})})]})})]})});ub(document.getElementById("root")).render(l.jsx(zL,{}));
